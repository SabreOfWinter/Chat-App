{"version":3,"sources":["components/dashboard/groupchat/Messages/Message/API/Map/icons/pinDrop.png","components/dashboard/groupchat/icons/onlineIcon.png","components/dashboard/groupchat/Messages/Message/API/Weather/icons/09d.png","components/layout/Navbar.js","components/layout/Footer.js","components/home/Home.js","components/home/Pricing.js","components/home/Resources.js","components/auth/components/signUpBackButton.js","components/auth/components/validation.js","components/auth/components/signUpCompany.js","components/auth/components/signUpCompanyModal.js","components/auth/components/signUpUser.js","components/auth/components/signUpUserModal.js","components/auth/signUp.js","store/index.js","components/auth/Login.js","helpers/jwt.js","components/dashboard/DataLoading.js","components/dashboard/mobileScreen/MobileDashboard.js","components/dashboard/components/modals/manageModals/Admin.js","components/dashboard/components/modals/manageModals/User.js","components/dashboard/components/modals/manageModals/manageCompany/manageCompanyModal.js","components/dashboard/components/modals/manageModals/manageWorkspace/manageWorkspaceModal.js","components/dashboard/components/modals/manageModals/manageWorkspace/addWorkspaceModal.js","components/dashboard/components/drawers/ButtonList.js","components/dashboard/components/drawers/Drawers.js","components/dashboard/components/workspace/WorkspaceButtonList.js","components/dashboard/components/modals/editUserForm.js","components/dashboard/components/modals/editUserModal.js","components/dashboard/components/modals/chatModals/leaveChatModal.js","components/dashboard/components/modals/chatModals/deleteChatModal.js","components/dashboard/components/modals/chatModals/addGroupChatModal.js","components/dashboard/components/modals/chatModals/addPrivateChatModal.js","components/dashboard/components/modals/chatModals/editChatModal.js","components/dashboard/components/menus/menu.js","components/dashboard/calendar/calendar.js","components/dashboard/groupchat/Messages/Message/API/Error/Error.js","components/dashboard/groupchat/Messages/Message/API/Weather/Weather.js","components/dashboard/groupchat/Messages/Message/API/Map/Map.js","components/dashboard/groupchat/Messages/Message/API/FileUpload/FileWidget.js","components/dashboard/groupchat/Messages/Message/Message.js","components/dashboard/groupchat/Messages/Messages.js","components/dashboard/groupchat/InfoBar/InfoBar.js","components/dashboard/groupchat/fileUpload/Progress.js","components/dashboard/groupchat/fileUpload/FileUpload.js","components/dashboard/groupchat/Chat.js","components/dashboard/groupchat/Input/Input.js","components/dashboard/chart/Charts.js","components/dashboard/toDoList/components/deleteTaskModal.js","components/dashboard/toDoList/components/editTaskModal.js","components/dashboard/toDoList/components/toDo.js","components/dashboard/toDoList/components/addTaskModal.js","components/dashboard/toDoList/components/deleteCollectionModal.js","components/dashboard/toDoList/components/editCollectionModal.js","components/dashboard/toDoList/toDoPage.js","components/dashboard/announcements/announcements.js","components/dashboard/Dashboard.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Navbar","useState","loggedIn","setLoggedIn","user","setUser","useEffect","axios","then","res","status","data","name","logout","e","window","location","href","className","class","id","options","alignment","autoTrigger","closeOnClick","constrainWidth","container","coverTrigger","hover","inDuration","onCloseEnd","onCloseStart","onOpenEnd","onOpenStart","outDuration","trigger","node","onClick","src","height","width","alt","style","marginLeft","Footer","to","Component","Home","carouselId","images","dist","duration","fullWidth","indicators","noWrap","numVisible","onCycleTo","padding","shift","paddingTop","paddingBottom","active","onShow","responsiveThreshold","Infinity","swipeable","title","backgroundColor","margin","borderRadius","letterSpacing","Pricing","fontFamily","Resources","BackButton","modal","handleValidation","newUser","isCompany","errors","formIsValid","company","companies","email","password","password_confirm","console","log","test","String","toLowerCase","length","lastAtPos","lastIndexOf","lastDotPos","indexOf","SignUpCompany","onChange","setState","target","value","onSubmit","preventDefault","avatar","state","company_name","owner","post","reactDOM","render","document","getElementById","baseState","this","paddingLeft","noValidate","error","type","htmlFor","marginTop","bottomSheet","open","dismissible","endingTop","opacity","preventScrolling","startingTop","SignUpUser","data-length","Register","fixedFooter","initalState","selectedPanel","selectedCompany","selectedWorkspace","workspaces","taskCollectionIDs","workspaceTaskCollections","groupChats","privateChats","allSelectedWorkspaceData","chartCategory","selectedChat","store","createStore","action","Object","assign","collectionID","workspaceData","__REDUX_DEVTOOLS_EXTENSION__","Login","userData","a","dispatch","props","history","push","marginBottom","connect","getJwt","localStorage","getItem","axiosGet","address","dataToSend","jwt","get","headers","Authorization","getCompanies","company_id","_id","getWorkspaces","getAllWorkspaceSpecificData","i","getState","workspace_id","params","workspacesList","companyData","workspaceID","workspaceDetails","concat","updateTaskCollections","task_collections","getTaskCollections","undefined","taskCollections","collection_id","taskCollection","collectionDetails","to_do_elements","catch","checkIfAdmin","currentCompany","currentUser","admins","getAcronym","wordList","split","acronym","wordIndex","charAt","useStyles","makeStyles","theme","root","display","toolbar","paddingRight","toolbarIcon","alignItems","justifyContent","mixins","menuButton","marginRight","menuButtonHidden","flexGrow","content","overflow","borderTopLeftRadius","mobile_content","spacing","paper","flexDirection","fixedHeight","text","palette","background","top","bottom","classes","fixedHeightPaper","clsx","React","redirect","setRedirect","workspace","useSelector","companyAnchorEl","setCompanyAnchorEl","workspaceanchorEl","setWorkspaceAnchorEl","handleWorkspaceClose","panelanchorEl","setPanelAnchorEl","handlePanelClose","getPrivateChat","private_chat","user1","MenuItem","AppBar","color","mobileTopAppBar","Typography","variant","Container","item","maxWidth","Grid","xs","md","lg","Paper","position","mobileBottomAppBar","Toolbar","ListItem","button","dense","alignItemsFlexStart","event","currentTarget","ListItemAvatar","Avatar","Hidden","only","ListItemText","primary","Menu","anchorEl","keepMounted","Boolean","onClose","map","aria-controls","aria-haspopup","Divider","group_chats","group_chat","private_chats","grow","IconButton","edge","aria-label","media","highlighted","boxShadow","shadows","admin_id","buttonListClasses","setData","openDeleteAdmin","setOpenDeleteAdmin","Card","onMouseLeave","onMouseEnter","CardHeader","Modal","aria-labelledby","aria-describedby","closeAfterTransition","BackdropComponent","Backdrop","BackdropProps","timeout","Fade","in","Button","userIDToDeleteButton","delete","user_id","remove","subheader","openDeleteUser","setOpenDeleteUser","userIsAdmin","isAdmin","border","manageCompanyOpen","setManageCompanyOpen","selectedCompanySection","setSelectedCompanySection","deleteCompanyName","setDeleteCompanyName","users","setCompanyData","ownerID","align","ButtonGroup","selected","textContent","TextField","helperText","placeholder","InputLabelProps","shrink","disabled","index","paperManageWorkspace","maxHeight","paperAddUser","manageWorkspaceOpen","setManageWorkspaceOpen","selectedWorkspaceSection","setSelectedWorkspaceSection","usersInSearch","setUsersInSearch","openAddUser","setOpenAddUser","selectedUserToAdd","setAddUser","deleteWorkspaceName","setDeleteWorkspaceName","setAnchorEl","handleClose","sectionChanged","label","direction","wrap","onKeyPress","keypressed","key","searchName","handleClick","admin","userCardToDelete","addSelectedUser","CardMedia","setOpen","getButtonList","list","changeSelected","class_name","changeSelectedCompany","changeSelectedWorkspace","parentNode","childNodes","workspacePanel","buttonList","setButtonList","role","expandButton","CompanyDrawer","Drawer","drawerPaper","drawerPaperClose","WorkspaceDrawer","nested","selectedButton","borderRightStyle","borderRightWidth","borderRightColor","plannerOpen","setPlannerOpen","chatOpen","setChatOpen","privateChatOpen","setPrivateChatOpen","voiceOpen","setVoiceOpen","videoOpen","setVideoOpen","group_chats_names","setGroupChatsNames","private_chats_names","setPrivateChatsNames","loadGroupChats","loadPrivateChats","group_list","private_list","getPrivateUserName","userId","handleSelected","loadButtonContent","icon","selectedClass","ListItemIcon","loadButton","isNested","buttonClasses","Collapse","unmountOnExit","List","component","disablePadding","EditUser","handleChange","new_password","ReactDOM","confirm_password","current_password","patch","alert","err","delete_name","bind","Date","now","startIcon","nodeName","handleOpen","chatId","setChatId","element","setElement","findElement","elementID","b","deleteChat","group_id","private_id","MenuProps","PaperProps","ITEM_HEIGHT","openAddGroupChat","setOpenGroupChat","setName","setUsers","selectedUsers","setSelectedUsers","loadUsers","loadedUsers","size","FormControl","formControl","InputLabel","Select","labelId","multiple","input","renderValue","chips","Chip","chip","user_ids","workspaceid","minWidth","selectEmpty","openAddPrivateChat","setOpenPrivateChat","selectedUser","setSelectedUser","allSelected","oppositeid","withStyles","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","main","common","white","moment","locale","add","collections","setCollections","tasks","setTasks","collectionIndex","collectionList","taskList","todoIndex","todo_id","todoDetails","group","start_time","creation_date","end_time","due_date","subs","forEach","unsub","getTime","groups","items","defaultTimeStart","days","defaultTimeEnd","daysInMonth","traditionalZoom","Error","App","response","cod","weather","require","temp","toString","substring","humidity","MapComponent","latitude","longitude","locationDetailsText","nuts","region","country","locationDetails","redIcon","L","iconUrl","pinDrop","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","positionRedIcon","center","zoom","TileLayer","attribution","url","Marker","Popup","actualMap","FileWidget","fileStartLocation","fileLocation","fileNameStart","fileName","Box","download","playYoutube","idEnd","youtubeNameIndex","videoID","videoId","opts","playerVars","autoplay","Message","message","isSentByCurrentUser","Store","APICallStartIndex","APICallEndIndex","APICallExists","ActualAPIRender","noAPIText","APITag","toUpperCase","APITagEnd","actualData","JSON","parse","whichAPI","youtubeVideo","fileUpload","ReactEmoji","emojify","Messages","messages","InfoBar","room","onlineIcon","Progress","percentage","loadingState","FileUploadDialog","socket","setMessage","sendMessage","currentUserID","openSelector","setFile","uploading","setUploading","uploadPercentage","setUploadPercentage","uploadingState","setUploadingState","setEvent","disableRipple","disableFocusRipple","disableTouchRipple","inputProps","showFileNamesInPreview","showFileNames","filesLimit","onSave","file","formData","FormData","append","onUploadProgress","progressEvent","parseInt","Math","round","loaded","total","result","filePath","postMessage","postStructure","author","author_id","emit","uploadMessageSend","msg","showPreviews","maxFileSize","Input","FileUpload","setRoom","setMessages","roomTitle","io","tempMessageStore","resultsStore","off","on","apiStartLocation","stringSplitToApi","apiToken","apiMessage","stringify","weatherAPICall","mapAPICALL","loadCollectionsData","number_of_tasks","progress_status","assigned_users","loadData","RADIAN","PI","strokeDasharray","dataKey","fill","nameKey","cx","cy","outerRadius","midAngle","innerRadius","percent","radius","x","cos","y","sin","textAnchor","dominantBaseline","toFixed","j","loadCollectionsTasksProgress","collection","handleDeleteTaskClose","PrettoSlider","thumb","valueLabel","left","track","rail","Slider","todo","setAddTaskOpen","newTask","setNewTask","selectedCreationDate","setSelectedCreationDate","selectedDueDate","setSelectedDueDate","personName","setPersonName","selectedCollection","setSelectedCollection","handleAddTaskClose","float","description","handleAddTaskOpen","fullwidth","rowsMax","multiline","valueLabelDisplay","defaultValue","utils","DateFnsUtils","format","creationDatePickedAfterDueDate","KeyboardButtonProps","dueDatePickedBeforeCreationDate","replace","colors","taskDetails","setTaskDetails","toDoChecked","setToDoChecked","loadToDoElement","checked","filledIn","progress_data","offset","entry","loadPieChart","AvatarGroup","max","addTaskOpen","loadWorkspaceUsers","usersList","PlaylistAdd","deleteCollectionOpen","setDeleteCollection","handleDeleteCollectionClose","editCollectionOpen","setEditCollection","editCollection","setEditCollectionName","handleEditCollectionClose","handleEditCollectionOpen","onLoadedData","flexWrap","noLabel","newCollection","setNewCollection","unfocusCollection","whiteSpace","minHeight","verticalAlign","mdup","onBlur","addTaskCollection","lineStyle","time","isOwner","userColour","createdAt","subtitle","subtitleStyle","iconColor","bubbleStyle","contentStyle","loadTimeLineEvent","transition","transitions","create","easing","sharp","enteringScreen","overflowX","leavingScreen","breakpoints","up","overflowY","category","getRole","CssBaseline","smDown","shadow","scrollWidth","FormHelperText","displayEmpty","InputBase","justify","adminChatButtons","mdUp","createMuiTheme","secondary","light","contrastText","contrastThreshold","tonalOffset","ThemeProvider","exact","path","SignUp","Dashboard","hostname","match","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.2edbb026.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/pinDrop.d85aec3c.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","import React, { useEffect, useState } from \"react\";\nimport './Navbar.css';\nimport axios from 'axios';\n\nimport { \n  Dropdown, \n  Divider, \n  Icon, \n  Button\n} from 'react-materialize'\n\nexport default function Navbar() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [user, setUser] = useState(\"\");\n\n  useEffect(() => {\n    axios('/users/status')\n    .then(res =>{\n      if (res.status === 200){\n        setLoggedIn(true)\n        setUser(res.data.data.name) \n      }\n    })\n  }, [loggedIn]);\n\n  const logout = e =>{\n    axios('/users/logout')\n    .then(res => {\n      window.location.href = \"/\"\n    })\n  }\n\n  \n\n  return (\n    <div className=\"navbar-fixed\">\n      {/* <nav>\n          <div id=\"navbar\" className=\"nav-wrapper\">\n              <img id=\"logo\" className=\"brand-logo\" src=\"logo.png\" height=\"50\" width=\"50\" alt=\"\"/>\n\n              <ul id=\"left-navbar-list\" style={{marginRight:\"auto\"}}>\n                  <li className=\"left-navbar-button\"><a href=\"/\">Why Oogwai?</a></li>\n                  <li className=\"left-navbar-button\"><a href=\"/pricing\">Pricing</a></li>\n                  <li className=\"left-navbar-button\"><a href=\"/resources\">Resources</a></li>\n              </ul>\n              \n              <ul id=\"right-navbar-list\"  >\n\n                  \n\n              </ul>\n          </div>\n      </nav> */}\n\n    <nav>\n      <div class=\"nav-wrapper\">\n      \n    <Dropdown\n      id=\"Dropdown_menu\"\n      options={{\n        alignment: 'left',\n        autoTrigger: true,\n        closeOnClick: true,\n        constrainWidth: true,\n        container: null,\n        coverTrigger: false,\n        hover: false,\n        inDuration: 150,\n        onCloseEnd: null,\n        onCloseStart: null,\n        onOpenEnd: null,\n        onOpenStart: null,\n        outDuration: 250\n      }}\n      trigger={<a className=\"hide-on-large-only\" node=\"icon-button\"><Icon class=\"material-icons\">menu</Icon></a>}\n    >\n        <a href=\"/\">Why Oogwai?</a>\n        <a href=\"/pricing\">Pricing</a>\n        <a href=\"/resources\">Resources</a>\n        <Divider />\n        {loggedIn ?\n          <a href=\"/dashboard\">{user}</a>\n          :\n          <a href=\"/sign_up\">Sign up</a>\n        }\n        \n        {loggedIn ?\n          <a onClick={logout}>Log out</a> \n          :\n          <a href=\"/login\">Login</a>\n        }\n    </Dropdown>\n      {/* <a href=\"#\" data-target=\"mobile-demo\" class=\"sidenav-trigger\"><i class=\"material-icons\">menu</i></a> */}\n      \n      <ul class=\"left hide-on-med-and-down\">\n        <li className=\"logo\"><a><img id=\"logo\" className=\"brand-logo\" src=\"logo.png\" height=\"50\" width=\"50\" alt=\"\"/></a></li>\n        <li style={{marginLeft:200}}><a href=\"/\">Why Oogwai?</a></li>\n        <li ><a href=\"/pricing\">Pricing</a></li>\n        <li ><a href=\"/resources\">Resources</a></li>\n      </ul>\n\n      <ul class=\"right hide-on-med-and-down\">\n        <li><a href=\"https://twitter.com/\"><img className=\"social-media-icons\" src=\"icon_twitter.png\" alt=\"Twitter\"/></a></li>\n        <li><a href=\"https://www.facebook.com/\"><img className=\"social-media-icons\" src=\"icon_facebook.png\" alt=\"Facebook\"/></a></li>\n        <li><a href=\"https://www.instagram.com/\"><img className=\"social-media-icons\" src=\"icon_instagram.png\" alt=\"Instagram\"/></a></li>\n        {loggedIn ?\n          <li><a href=\"/dashboard\">{user}</a></li>\n          :\n          <li><a href=\"/sign_up\">Sign up</a></li>\n        }\n        \n        {loggedIn ?\n          <li><a onClick={logout}>Log out</a></li> \n          :\n          <li><a href=\"/login\">Login</a></li>\n        }\n      </ul>\n\n    </div>\n  </nav>\n\n  <ul class=\"sidenav\" id=\"mobile-demo\">\n    <li className=\"left-navbar-button\"><a href=\"/\">Why Oogwai?</a></li>\n    <li className=\"left-navbar-button\"><a href=\"/pricing\">Pricing</a></li>\n    <li className=\"left-navbar-button\"><a href=\"/resources\">Resources</a></li>\n    <li><a href=\"https://twitter.com/\"><img className=\"social-media-icons\" src=\"icon_twitter.png\" alt=\"Twitter\"/></a></li>\n    <li><a href=\"https://www.facebook.com/\"><img className=\"social-media-icons\" src=\"icon_facebook.png\" alt=\"Facebook\"/></a></li>\n    <li><a href=\"https://www.instagram.com/\"><img className=\"social-media-icons\" src=\"icon_instagram.png\" alt=\"Instagram\"/></a></li>\n    {loggedIn ?\n          <li><a href=\"/dashboard\">{user}</a></li>\n          :\n          <li><a href=\"/sign_up\">Sign up</a></li>\n        }\n        \n        {loggedIn ?\n          <li><a onClick={logout}>Log out</a></li> \n          :\n          <li><a href=\"/login\">Login</a></li>\n        }\n  </ul> \n\n\n\n    </div>\n  );\n};","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport './Footer.css';\n\nclass Footer extends Component {\n  render() {\n    return (\n        <footer className=\"page-footer\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col l s4\">\n              <h5>Product</h5>\n              <ul>\n                <li><Link to=\"/pricing\">Pricing</Link></li>\n                <li><Link to=\"/dashboard\">API</Link></li>\n              </ul>\n            </div>\n            <div className=\"col 4 s4\">\n              <h5>Company</h5>\n              <ul>\n                <li><Link to=\"/jobs\">Jobs</Link></li>\n                <li><Link to=\"/about_us\">About Us</Link></li>\n              </ul>\n            </div>\n            <div className=\"col 8 s4\">\n              <h5>More</h5>\n              <ul>\n                <li><Link to=\"/help\">Help {\"&\"} Support</Link></li>\n                <li><Link to=\"/about_us\">About Us</Link></li>\n                <li><Link to=\"/contact\">Contact Us</Link></li>\n              </ul>\n            </div>\n          </div>\n        </div>\n      </footer>\n    );\n  }\n}\n\nexport default Footer;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./Home.css\"\n\nimport Navbar from \"../layout/Navbar.js\";\nimport Footer from \"../layout/Footer.js\";\n\nimport { Carousel, Tabs, Tab} from 'react-materialize';\n\nclass Home extends Component {\n  render() {\n    return (\n      <div id=\"cl\">\n        <Navbar/>\n        <div className=\"container valign-wrapper\">\n          <div className=\"row\">\n            <div className=\"col s12 center-align\" >\n              <br/>\n              <i>For Developers By Developers</i>\n              <Carousel carouselId=\"Carousel-2\" images={['tasks.png', 'chat.png', 'charts.png']} options={{ dist: -200, duration: 200, fullWidth: true, indicators: true, noWrap: false, numVisible: 5, onCycleTo: null, padding: 0, shift: 0 }}/>\n              <div style={{paddingTop:100, paddingBottom: 50}}>\n                <h5>What is Oogwai?</h5>\n                <p>Oogwai provides effective communication and organisation within a company. Providing a variety of unique tools specifically designed for developers of both software and hardware.</p>\n              </div>\n              <br/>\n              <Tabs className=\"tabs z-depth-1 grey darken-4\" id=\"tabs-container\">\n                <Tab active options={{ duration: 300, onShow: null, responsiveThreshold: Infinity, swipeable: false }} title=\"Tools\" >\n                  <div className=\"row\" style={{backgroundColor: \"#2f3136\", margin: 0}}>\n                    <img className=\"col s2\" src=\"icon_translate.png\" alt=\"\"/>\n                    <p className=\"col s10\">Google Translate allows you to seamlessly communicate with anyone across the world</p>\n                  </div>\n                  <div className=\"row\" style={{backgroundColor: \"#2f3136\", margin: 0}}>\n                    <img className=\"col s2\" src=\"icon_weather.png\" alt=\"\"/>\n                    <p className=\"col s10\">With weather support you can plan your meetings and tasks with respect to your environment</p>\n                  </div>\n                  <div className=\"row\" style={{backgroundColor: \"#2f3136\", margin: 0}}>\n                    <img className=\"col s2\" src=\"icon_morningstar.png\" alt=\"\"/>\n                    <p className=\"col s10\">Whether you are tracking your own company, your competitors, or monitoring the market</p>\n                  </div>\n                </Tab>\n                <Tab options={{ duration: 300, onShow: null, responsiveThreshold: Infinity, swipeable: false }} title=\"Communication\">\n                <div className=\"row\" style={{backgroundColor: \"#2f3136\", margin: 0}}>\n                    <img className=\"col s2\" src=\"icon_twitter.png\" alt=\"\"/>\n                    <p className=\"col s10\">Placeholder</p>\n                  </div>\n                </Tab>\n                <Tab options={{ duration: 300, onShow: null, responsiveThreshold: Infinity, swipeable: false }} title=\"Organisation\">\n                <div className=\"row\" style={{backgroundColor: \"#2f3136\", margin: 0}}>\n                    <img className=\"col s2\" src=\"icon_twitter.png\" alt=\"\"/>\n                    <p className=\"col s10\">Placeholder</p>\n                  </div>\n                </Tab>\n              </Tabs>\n              <div className=\"col s6\">\n                <Link to=\"/sign_up\" style={{width: \"140px\", borderRadius: \"3px\", letterSpacing: \"1.5px\"}} className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\">Register</Link>\n              </div>\n              <div className=\"col s6\">\n                <Link to=\"/login\" style={{width: \"140px\", borderRadius: \"3px\", letterSpacing: \"1.5px\"}} className=\"btn btn-large waves-effect hoverable white black-text\">Log In</Link>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Footer/>\n      </div>\n    );\n  }\n}\n\nexport default Home;","import React, { Component } from \"react\";\nimport Navbar from \"../layout/Navbar.js\";\nimport Footer from \"../layout/Footer.js\";\nimport \"./Home.css\"\n\nclass Pricing extends Component {\n    render() {\n        return (\n          <div>\n            <Navbar />\n            <div style={{ height: \"75vh\" }} className=\"container valign-wrapper\">\n              <div className=\"row\">\n                <div className=\"col s12 center-align\">\n                  <h4>This is the {\" \"}<span style={{ fontFamily: \"monospace\" }}>Pricing</span> page</h4>\n                  <p className=\"flow-text grey-text text-darken-1\">Placeholder text</p>\n                  <br />\n                  <table class=\"responsive-table white-text\">\n                    <thead>\n                      <tr>\n                        <th></th>\n                        <th>Company Account</th>\n                        <th>User Account</th>\n                      </tr>\n                    </thead>\n                    <tbody>\n                      <tr>\n                        <td>1</td><td>Body1</td><td>Body2</td>\n                      </tr>\n                      <tr>\n                        <td>2</td><td>Body1</td><td>Body2</td>\n                      </tr>\n                      <tr>\n                        <td>3</td><td>Body1</td><td>Body2</td>\n                      </tr>\n                      <tr>\n                        <td>4</td><td>Body1</td><td>Body2</td>\n                      </tr>\n                      <tr>\n                        <td>5</td><td>Body1</td><td>Body2</td>\n                      </tr>\n                      <tr>\n                        <td>Prices</td><td>£./month</td><td>£0.0/month</td>\n                      </tr>\n                    </tbody>\n                  </table>\n                </div>\n              </div>\n            </div>\n            <Footer/>\n          </div>\n        );\n      }\n}\n\nexport default Pricing;","import React, { Component } from \"react\";\nimport Navbar from \"../layout/Navbar.js\";\nimport Footer from \"../layout/Footer.js\";\nimport \"./Home.css\"\n\nclass Resources extends Component {\n  render() {\n    return (\n      <div>\n        <Navbar />\n        <div style={{ height: \"75vh\" }} className=\"container valign-wrapper\">\n          <div className=\"row\">\n            <div className=\"col s12 center-align\">\n              <h4>This is the {\" \"}<span style={{ fontFamily: \"monospace\" }}>Resources</span> page</h4>\n              <p className=\"flow-text grey-text text-darken-1\">Placeholder text</p>\n              <br />\n            </div>\n          </div>\n        </div>\n        <Footer/>\n      </div>\n    );\n  }\n}\n\nexport default Resources;","import React, { Component } from \"react\";\nimport {  Button } from 'react-materialize';\n\nclass BackButton extends Component {\n  render() {\n    return (\n        <Button modal=\"close\" style={{margin: 10}}>Close</Button>\n    );\n  }\n}\n\nexport default BackButton;","export default function handleValidation(newUser, isCompany){\n    // let fields = this.state.fields;\n    let errors = {};\n    let formIsValid = true;\n    let company = newUser.companies;\n    let name = newUser.name;\n    let email = newUser.email;\n    let password = newUser.password;\n    let password_confirm = newUser.password_confirm;\n    \n\n    if(isCompany){\n        console.log(\"Is Company = TRUE\");\n     }\n     else{\n       console.log(\"Is Company = FALSE\");\n    }\n\n    if(isCompany){\n        //Company\n      // if(!company){\n      //    formIsValid = false;\n      //    errors[\"companies\"] = \"Cannot be empty\";\n      // }else{\n      //    errors[\"companies\"] = \"\";\n      // }\n\n        if(typeof company !== \"undefined\"){\n            var comp = /^[a-zA-Z]+$/;\n            \n            if(!comp.test(String(company).toLowerCase)){\n                formIsValid = false;\n                errors[\"companies\"] = \"Only letters\";\n            }        \n        }\n    };\n    \n    if(!isCompany){\n        if(typeof company == \"undefined\"){\n            formIsValid = true;\n        };\n    }; \n    \n    //Name\n    if(!name){\n        formIsValid = false;\n        errors[\"name\"] = \"Please provide your name\";\n    }\n    else{\n        errors[\"name\"] = \"\";\n    }\n        \n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    //Email\n    if(!re.test(String(email).toLowerCase())){\n       formIsValid = false;\n       errors[\"email\"] = \"Cannot be empty\";\n    }\n    else{\n       errors[\"email\"] = \"\";\n    }\n    let errpass = String();\n    if(password !== password_confirm){    \n      formIsValid = false;\n      errors[\"password\"] = \"Passwords do not match\";\n    }\n    let errpasslength = String();\n    if(password.length < 8){\n      formIsValid = false;\n      errors[\"password_confirm\"] = \"Passwords does not satisfy min length of 8 criteria\";\n    }\n    if(typeof email !== \"undefined\"){\n       let lastAtPos = email.lastIndexOf('@');\n       let lastDotPos = email.lastIndexOf('.');\n\n       if (!(lastAtPos < lastDotPos && lastAtPos > 0 && email.indexOf('@@') === -1 && lastDotPos > 2 && (email.length - lastDotPos) > 2)) {\n          formIsValid = false;\n          errors[\"email\"] = \"Email is not valid\";\n        }\n   }  \n\n   return [formIsValid, errors];\n};","import React, { Component } from \"react\";\nimport reactDOM from 'react-dom';\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport '../Auth.css';\nimport BackButton from './signUpBackButton.js';\nimport handleValidation from './validation.js';\n\nclass SignUpCompany extends Component {\n  constructor() {\n    super();\n    this.state = {\n      avatar: \"\",\n      company_name: \"\",\n      owner: true,\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password_confirm: \"\",\n      errors: {\n        companies: '',\n        avatar: '',\n        owner: '',\n        name: '',\n        email: '',\n        password: '',\n        password_confirm: '',\n      }\n    };\n    this.baseState = this.state;\n    console.log(window.location.href);\n  }\n  \n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n  \n  onSubmit = e => {\n    e.preventDefault();\n    \n    const newUser = {\n      avatar: this.state.avatar,\n      company_name: this.state.company_name,\n      owner: this.state.owner,\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      password_confirm: this.state.password_confirm,\n    };\n\n    // console.log(newUser);\n\n    if( handleValidation(newUser, true)[0]){\n      axios.post('/users/signup', {newUser})\n      .then(res => {\n        console.log(res)\n        if(res.data.status === \"success\"){\n          window.location.href = '/login'\n        }\n      })\n      console.log(\"Valid Created\")\n  }\n  else{\n    this.setState({ errors: handleValidation(newUser, true)[1] });\n    console.log(\"Errors\");\n    console.log(this.state.errors);\n    reactDOM.render(this.state.errors.companies, document.getElementById('company-validate'));\n    reactDOM.render(this.state.errors.name, document.getElementById('name-validate'));\n    reactDOM.render(this.state.errors.email, document.getElementById('email-validate'));\n    reactDOM.render(this.state.errors.password, document.getElementById('password-validate'));\n    reactDOM.render(this.state.errors.password_confirm, document.getElementById('error-validate'));\n  }    \n};\n\n  render() {\n    const { errors } = this.state;\n    return (\n      <div id=\"form\"  className=\"container\">\n        <div className=\"row\">\n          <div className=\"col s8 offset-s2\">\n            <BackButton />\n            <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n              <h4 style={{ letterSpacing:\"0.5px\", paddingBottom: 0}}>\n                Register A Company Account\n              </h4>\n              <p className=\"grey-text text-darken-1\" id=\"\">Already have an account? <Link to=\"/login\">Log in</Link></p>\n            </div>\n            <form noValidate onSubmit={this.onSubmit}>\n                <div className=\"input-field col s12\">\n                    <input onChange={this.onChange} value={this.state.company_name} error={errors.company_name} id=\"company_name\" type=\"text\"/>\n                    <label htmlFor=\"company_name\">Company Name</label>\n                </div>\n                <div id=\"company-validate\"></div>\n                <div className=\"input-field col s12\">\n                <input onChange={this.onChange} value={this.state.name} error={errors.name} id=\"name\" type=\"text\"/>\n                <label htmlFor=\"name\">Name</label>\n              </div>\n              <div id=\"name-validate\"></div>\n              <div className=\"input-field col s12\">\n                <input onChange={this.onChange} value={this.state.email} error={errors.email} id=\"email\" type=\"email\"/>\n                <label htmlFor=\"email\">Email</label>\n              </div>\n              <div id=\"email-validate\"></div>\n              <div className=\"input-field col s12\">\n                <input onChange={this.onChange} value={this.state.password} error={errors.password} id=\"password\" type=\"password\"/>\n                <label htmlFor=\"password\">Password</label>\n              </div>\n              <div id=\"password-validate\"></div>\n\n              <div className=\"input-field col s12\">\n                <input onChange={this.onChange} value={this.state.password_confirm} error={errors.password_confirm} id=\"password_confirm\" type=\"password\"/>\n                <label htmlFor=\"password_confirm\">Confirm Password</label>\n              </div>\n              <div id=\"error-validate\"></div>\n              <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n                <button style={{width: \"150px\", borderRadius: \"3px\", letterSpacing: \"1.5px\", marginTop: \"1rem\"}} type=\"submit\" className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\">Sign up</button>\n              </div>              \n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SignUpCompany;","import React, { Component } from \"react\";\nimport '../Auth.css';\nimport { Modal, Button } from 'react-materialize';\nimport CompanyForm from './signUpCompany.js';\n\nclass SignUpCompany extends Component {\n   \n  render() {\n    return (\n      <Modal\n      style={{backgroundColor: \"#36393f\"}}\n      bottomSheet={false}\n      id=\"Modal-0\"\n      open={false}\n      options={{\n        dismissible: true,\n        endingTop: '10%',\n        inDuration: 250,\n        onCloseEnd: null,\n        onCloseStart: null,\n        onOpenEnd: null,\n        onOpenStart: null,\n        opacity: 0.5,\n        outDuration: 250,\n        preventScrolling: true,\n        startingTop: '4%'\n      }}\n      trigger={<Button node=\"button\" className=\"btn btn-large waves-effect waves-light hoverable blue accent-3 pulse\">COMPANY</Button>}\n      >\n      <CompanyForm/>  \n    </Modal>\n    );\n  }\n\n  \n}\n\nexport default SignUpCompany;","import React, { Component } from \"react\";\nimport reactDOM from 'react-dom';\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport '../Auth.css';\nimport BackButton from './signUpBackButton.js';\nimport handleValidation from './validation.js';\nimport { TextInput } from 'react-materialize';\n\nclass SignUpUser extends Component {\n  constructor() {\n    super();\n    this.state = {\n      avatar: \"\",\n      companies: [],\n      owner: false,\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      password_confirm: \"\",\n      errors: {\n        companies: '',\n        avatar: '',\n        owner: '',\n        name: '',\n        email: '',\n        password: '',\n        password_confirm: '',\n      }\n    };\n    this.baseState=this.state;\n    console.log(window.location.href);\n  }\n  \n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n  \n  onSubmit = e => {\n    e.preventDefault();\n    const newUser = {\n      avatar: this.state.avatar,\n      companies: this.state.companies,\n      owner: this.state.owner,\n      name: this.state.name,\n      email: this.state.email,\n      password: this.state.password,\n      password_confirm: this.state.password_confirm,\n    };\n\n    // console.log(newUser);\n\n    if(handleValidation(newUser, false)[0]){\n      axios.post('/users/signup', {newUser})\n      .then(res => {\n        console.log(res)\n        if(res.data.status === \"success\"){\n          window.location.href = '/login'\n        }\n      })\n      console.log(\"Valid Created\")\n  }\n  else{\n    this.setState({errors: handleValidation(newUser, false)[1]});\n\n    console.log(\"Invalid User\");\n    console.log(this.state.errors);\n\n    reactDOM.render(this.state.errors.name, document.getElementById('name2-validate'));\n    reactDOM.render(this.state.errors.email, document.getElementById('email2-validate'));\n    reactDOM.render(this.state.errors.password, document.getElementById('password2-validate'));\n    reactDOM.render(this.state.errors.password_confirm, document.getElementById('password_confirm2-validate'));      \n  };  \n};\n  \n  render() {\n    const { errors } = this.state;\n    return (\n      <div id=\"form\" className=\"container\">\n        <div className=\"row\">\n          <div className=\"col s8 offset-s2\">\n            <BackButton />\n            <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n                <h4 style={{ letterSpacing:\"0.5px\"}}>\n                    Register A User Account\n                </h4>\n              <p className=\"grey-text text-darken-1\">Already have an account? <Link to=\"/login\">Log in</Link></p>\n            </div>\n\n            <form noValidate onSubmit={this.onSubmit}>\n              <div className=\"input-field col s12\" >\n                <input onChange={this.onChange} value={this.state.name} error={errors.name} id=\"name\" type=\"text\" data-length={10}/>\n                <label htmlFor=\"name\">Name</label>\n              </div>\n              <div id=\"name2-validate\"></div>\n              <div className=\"input-field col s12\">\n                <input onChange={this.onChange} value={this.state.email} error={errors.email} id=\"email\" type=\"email\"/>\n                <label htmlFor=\"email\">Email</label>\n              </div>\n              <div id=\"email2-validate\"></div>\n              <div className=\"input-field col s12\">\n                <input onChange={this.onChange} value={this.state.password} error={errors.password} id=\"password\" type=\"password\"/>\n                <label htmlFor=\"password\">Password</label>\n              </div>\n              <div id=\"password2-validate\"></div>\n              <div className=\"input-field col s12\">\n                <input onChange={this.onChange} value={this.state.password_confirm} error={errors.password_confirm} id=\"password_confirm\" type=\"password\"/>\n                <label htmlFor=\"password_confirm\">Confirm Password</label>\n              </div>\n              <div id=\"password_confirm2-validate\"></div>\n              <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n                <button style={{width: \"150px\", borderRadius: \"3px\", letterSpacing: \"1.5px\", marginTop: \"1rem\"}} type=\"submit\" className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\">Sign up</button>\n              </div>\n            </form>\n\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\nexport default SignUpUser;","import React, { Component } from \"react\";\nimport '../Auth.css';\nimport { Modal, Button } from 'react-materialize';\nimport UserForm from './signUpUser.js';\n\nclass Register extends Component {\n  render() {\n    return (\n      <Modal\n      className=\"\"\n      style={{backgroundColor: \"#36393f\"}}\n      id=\"Modal-0\"\n      open={false}\n      fixedFooter={false}\n      bottomSheet={false}\n      options={{\n        dismissible: true,\n        endingTop: '10%',\n        inDuration: 250,\n        onCloseEnd: null,\n        onCloseStart: null,\n        onOpenEnd: null,\n        onOpenStart: null,\n        opacity: 0.5,\n        outDuration: 250,\n        preventScrolling: true,\n        startingTop: '0%'\n      }}\n      trigger={<Button node=\"button\" className=\"btn btn-large btn-flat waves-effect waves-light white black-text pulse\" >USER</Button>}\n      >\n      \n      <UserForm/>\n\n    </Modal>\n    );\n  }\n\n\n\n}\nexport default Register;","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport './Auth.css';\nimport CompanySignUpModal from './components/signUpCompanyModal.js';\nimport UserSignUpModal from './components/signUpUserModal.js';\nimport Navbar from \"../layout/Navbar.js\";\nimport Footer from \"../layout/Footer.js\";\n\nclass Register extends Component {  \n  render() {\n    return (\n      <div id=\"body\">\n        <Navbar/>\n        <div style={{ height: \"75vh\" }} className=\"container valign-wrapper\">\n          <div className=\"col s12 row\">\n            <div className=\"col s12 center-align\">\n              <h4><b>Register</b> below</h4>\n              <p className=\"grey-text text-darken-1\">Already have an account? <Link to=\"/login\">Log in</Link></p>\n              <p className=\"flow-text grey-text text-darken-1\">Please select the type of account</p>\n              <br />\n              <div className=\"col s6\">\n                <CompanySignUpModal/>\n              </div>\n              <div className=\"col s6\">\n                <UserSignUpModal/>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Footer/>\n      </div>\n    );\n  }\n}\n\nexport default Register;","import { createStore } from \"redux\";\nimport { STATES } from \"mongoose\";\n\nconst initalState = {\n  user: {\n    name: \"\",\n  },\n  selectedPanel: \"Calendar\", //Calendar\n  selectedCompany: \"\",\n  selectedWorkspace: \"\",\n  companies: [],\n  workspaces: [],\n  taskCollectionIDs: [],\n  workspaceTaskCollections: [],\n  groupChats: [],\n  privateChats:[],\n  allSelectedWorkspaceData:{},\n  chartCategory: \"\",\n  selectedChat: {\n    id: \"\",\n    type: \"\"\n  },\n\n};\n\nconst reducer = (state = initalState, action) => {\n  switch (action.type) {\n    case \"USER_LOGGED_IN\":\n      return Object.assign({}, state, {\n        user: action.data.user\n      });\n    case \"USER_LOGGED_OUT\":\n      return Object.assign({}, state, {\n        user: action.data.user\n      });\n    case \"COMPANIES_LOADED\":\n      return Object.assign({}, state, {\n        companies: action.data.companies,\n        selectedCompany: action.data.selectedCompany,\n        workspaces: action.data.workspaces,\n        selectedWorkspace: action.data.selectedWorkspace,\n      });\n    case \"WORKSPACES_LOADED\":\n      return Object.assign({}, state, {\n        workspaces: action.data.workspaces,\n        selectedWorkspace: action.data.selectedWorkspace,\n      });\n    case \"WORKSPACE_SELECTED\":\n      return Object.assign({}, state, {\n        selectedWorkspace: action.data.selectedWorkspace,\n      });\n    case \"SELECTED_PANEL\":\n      return Object.assign({}, state, {\n        selectedPanel: action.data.selectedPanel,\n      });\n    case \"COLLECTIONS_LOADED\":\n      return Object.assign({}, state, {\n        taskCollectionIDs: action.data.taskCollectionIDs,\n        workspaceTaskCollections: action.data.workspaceTaskCollections,\n      });\n    case \"COLLECTION_ADDED\":\n      return Object.assign({}, state, {\n        taskCollectionIDs: [state.taskCollectionIDs, action.data.collectionID],\n      });\n    case \"COLLECTION_DELETED\":\n      return Object.assign({}, state, {\n        taskCollectionIDs: action.data.taskCollectionIDs,\n        workspaceTaskCollections: action.data.workspaceTaskCollections,\n      });\n    case \"ALL_WORKSPACE_DATA\":\n      return Object.assign({}, state, {\n        allSelectedWorkspaceData: action.data.workspaceData,\n      });\n    case \"CHART_CATEGOREY_CHANGED\":\n      return Object.assign({}, state, {\n        chartCategory: action.data.chartCategory\n      })\n    case \"CHAT_SELECTED\":\n      return Object.assign({}, state, {\n        selectedChat: action.data.selectedChat\n      })  \n    default:\n      return state;\n  }\n};\n\nconst store = createStore(\n  reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nexport default store;\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from 'axios';\nimport './Auth.css';\nimport Navbar from \"../layout/Navbar.js\";\nimport Footer from \"../layout/Footer.js\";\nimport { connect } from 'react-redux';\nimport store from \"./../../store\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      email: \"\",\n      password: \"\",\n      errors: {}\n    };\n  }\n  \n  onChange = e => {\n    this.setState({ [e.target.id]: e.target.value });\n  };\n  \n  onSubmit = e => {\n    e.preventDefault();\n    const userData = {\n      email: this.state.email,\n      password: this.state.password\n    };\n\n    axios.post('/users/login', {userData})\n    .then(async res => {\n      if(res.status === 200 && res.data.status === \"success\" && res.data.data.user.email ===  this.state.email){\n        await store.dispatch({ type: 'USER_LOGGED_IN', data: { user: res.data.data.user }}); \n        this.props.history.push('/dashboard')\n      }\n    })\n  };\n  \n  render() {\n    const { errors } = this.state;\n    return (\n      <div>\n      <Navbar />\n      <div style={{ height: \"75vh\" }} className=\"container valign-wrapper\">\n        <div className=\"row\">\n          <div className=\"col s12\">\n            \n            <div className=\"col s12\" style={{ paddingLeft: \"11.250px\" }}>\n              <h4><b>Login</b> below</h4>\n              <p className=\"grey-text text-darken-1\">Don't have an account? <Link to=\"/sign_up\">Register</Link>\n              </p>\n            </div>\n            \n            <form noValidate onSubmit={this.onSubmit}>\n              \n              <div className=\"input-field col s12\">\n                <input onChange={this.onChange} value={this.state.email} error={errors.email} id=\"email\" type=\"email\"/>\n                <label htmlFor=\"email\">Email</label>\n              </div>\n              \n              <div className=\"input-field col s12\" style={{marginTop:25}}>\n                <input onChange={this.onChange} value={this.state.password} error={errors.password} id=\"password\" type=\"password\"/>\n                <label htmlFor=\"password\">Password</label>\n              </div>\n              \n              <div className=\"col s12\" style={{ paddingLeft: \"11.250px\", marginTop:15, marginBottom:15 }}>\n                <button style={{width: \"150px\", borderRadius: \"3px\", letterSpacing: \"1.5px\", marginTop: \"1rem\"}} type=\"submit\" className=\"btn btn-large waves-effect waves-light hoverable blue accent-3\">Login</button>\n              </div>\n\n            </form>\n\n          </div>\n        </div>\n      </div>\n      <Footer/>\n    </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => {\n  return {user: state.user}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import axios from \"axios\"\n\nexport const getJwt =()=>{\n    return localStorage.getItem(\"jwt\")\n}\n\nexport const axiosGet =(address,dataToSend={})=>\n{\n    const jwt = getJwt();\n    return axios.get(address,{headers:{Authorization: `Bearer ${jwt}`},dataToSend});\n\n}","import axios from \"axios\";\nimport store from \"../../store\";\nimport { axiosGet } from \"../../helpers/jwt\";\n\n/*\n    COMPANIES\n*/\nexport const getCompanies = async (company_id) => {\n  // axios.get('/companies/')\n  await axiosGet(\"/companies/\").then((res) => {\n    //Set Companies as first company on load, and load workspaces with first one set as selected\n    if (company_id === \"\") {\n      store.dispatch({\n        type: \"COMPANIES_LOADED\",\n        data: {\n          companies: res.data.data,\n          selectedCompany: res.data.data[0]._id,\n          workspaces: [],\n          selectedWorkspace: res.data.data[0].workspaces[0],\n        },\n      });\n      getWorkspaces(res.data.data[0].workspaces[0]);\n      getAllWorkspaceSpecificData(res.data.data[0].workspaces[0]);\n    }\n    //Set companies after loaded for the first time, load the first workspaces of the selected company\n    else if (company_id !== \"\") {\n      for (var i in store.getState().companies) {\n        if (store.getState().companies[i]._id === company_id) {\n          store.dispatch({\n            type: \"COMPANIES_LOADED\",\n            data: {\n              companies: res.data.data,\n              selectedCompany: res.data.data[i]._id,\n              workspaces: [],\n              selectedWorkspace: res.data.data[i].workspaces[0],\n            },\n          });\n          getWorkspaces(res.data.data[i].workspaces[0]);\n          getAllWorkspaceSpecificData(res.data.data[i].workspaces[0]);\n\n        }\n      }\n    }\n  });\n\n\n}\n\n/*\n    WORKSPACES\n*/\nexport const getWorkspaces = async (workspace_id) => {\n  //Sets the workspaces after the drawer has been loaded in\n  if (workspace_id !== \"\" && workspace_id === store.getState().selectedWorkspace) {\n    store.dispatch({ type: 'SELECTED_PANEL', data: { selectedPanel: { id: \"Calendar\", name: \"Calendar\"} } }) //Set the selected page to Calendar on any changes\n    \n    store.dispatch({ type: 'CHART_CATEGOREY_CHANGED', data: { chartCategory: \"\" } }); //Reset selected chart category \n    \n    getAllWorkspaceSpecificData(workspace_id) //Load the selected workspace data in \n\n    await axios.get(`/companies/${store.getState().selectedCompany}`, {params: { id: store.getState().selectedCompany },})\n    .then(async(res) => {\n      let workspacesList = [];\n\n      for (var workspaceID in res.data.data.companyData.workspaces) {\n        await axios.get(`/workspaces/${res.data.data.companyData.workspaces[workspaceID]}`,{params: { id: res.data.data.companyData.workspaces[workspaceID] } })\n        .then((res) => {\n          workspacesList.push(res.data.data.workspaceDetails);\n          \n\n          store.dispatch({\n            type: \"WORKSPACES_LOADED\",\n            data: {\n              workspaces: [].concat(workspacesList),\n              selectedWorkspace: workspacesList[0]._id,\n            },\n          });\n          \n          \n        })\n      }        \n    });\n  }\n}\n\n/*\n    TASK COLLECTIONS\n*/\nfunction updateTaskCollections() {\n  for (var i in store.getState().workspaces) {\n    if (\n      store.getState().workspaces[i]._id === store.getState().selectedWorkspace\n    ) {\n      return store.getState().workspaces[i].task_collections;\n    }\n  }\n}\n\nexport const getTaskCollections = async () => {\n  if (updateTaskCollections() !== undefined) {\n    for (var i in updateTaskCollections()) {\n      var taskCollections = [];\n\n      axios.get(`/todocollection/`, {\n          params: { collection_id: updateTaskCollections()[i] },\n        })\n        .then((res) => {\n          var taskCollection = {\n            _id: res.data.data.collectionDetails._id,\n            title: res.data.data.collectionDetails.title,\n            to_do_elements: res.data.data.collectionDetails.to_do_elements,\n          };\n          taskCollections.push(taskCollection);\n\n          if (taskCollection._id === updateTaskCollections()[updateTaskCollections().length - 1]) {\n            store.dispatch({\n              type: \"COLLECTIONS_LOADED\",\n              data: {\n                taskCollectionIDs: updateTaskCollections(),\n                workspaceTaskCollections: taskCollections,\n              },\n            });\n          }\n        })\n        .catch(function (error) { \n          console.error(error);\n        });\n    }\n  }\n}\n\n\n/*\n    Get all associated chats in a given workspace, and store to the local array value\n*/\nexport function getAllWorkspaceSpecificData(workspace_id) {\n  axios.get(`/workspaces/${workspace_id}`).then((res) => {\n    store.dispatch({\n        type: \"ALL_WORKSPACE_DATA\", data: { workspaceData: res.data.data.workspaceDetails, } });\n\n    store.dispatch({ type: 'SELECTED_PANEL', data: { selectedPanel: {id: \"Calendar\", name: \"Calendar\" } } })\n    \n    store.dispatch({ type: 'CHART_CATEGOREY_CHANGED', data: { chartCategory: \"\" } });\n\n  });\n}\n\nexport function checkIfAdmin(){\n  for(var currentCompany in store.getState().companies){\n    if (store.getState().companies[currentCompany] === store.getState().selectedCompany){\n      for(var currentUser in store.getState().companies[currentCompany]){\n        if(store.getState().companies[currentCompany].admins[currentUser] === store.getState().user._id){\n          return(\"Admin\")\n        }\n      }\n    } \n    else {\n      return(\"User\")\n    }\n  }\n}\n\n//Takes a sentence and returns the first letter of each word as one word\nexport function getAcronym(name) {\n  if(name !== undefined || name !== \"\"){\n    var wordList = name.split(\" \")\n    var acronym = \"\"\n    \n    for(var wordIndex = 0; wordIndex < wordList.length; wordIndex++){\n      wordList[wordIndex].charAt(0)\n      \n      acronym = acronym + wordList[wordIndex].charAt(0)\n    }\n  \n    return acronym\n  }\n}","import React, { useEffect } from 'react';\nimport clsx from 'clsx';\nimport axios from 'axios';\nimport store from './../../../store';\nimport { connect } from 'react-redux';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from \"react-router-dom\";\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Hidden from '@material-ui/core/Hidden';\nimport Paper from '@material-ui/core/Paper';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Divider from '@material-ui/core/Divider';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport SearchIcon from '@material-ui/icons/Search';\nimport MoreIcon from '@material-ui/icons/MoreVert';\n\n\nimport MenuIcon from '@material-ui/icons/Menu';\n\nimport { getCompanies } from '../DataLoading.js';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n      display: 'flex',\n    height:\"100vh\",\n    backgroundColor: '#202225'\n},\ntoolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end',\n    padding: '0 8px',\n    ...theme.mixins.toolbar,\n  },\n  menuButton: {\n    marginRight: 0,\n  },\n  menuButtonHidden: {\n    display: 'none',\n  },\n  title: {\n    flexGrow: 1,\n  },\n  content: {\n    flexGrow: 1,\n    marginTop: '1vh',\n    overflow: 'auto',\n    backgroundColor: '#36393f',\n    borderTopLeftRadius: 50,\n  },\n  mobile_content: {\n    flexGrow: 1,\n    overflow: 'auto',\n    backgroundColor: '#36393f'\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: 'flex',\n    overflow: 'auto',\n    flexDirection: 'column',\n  },\n  fixedHeight: {\n    height: 240,\n  },\n  text: {\n    padding: theme.spacing(2, 2, 0),\n  },\n  paper: {\n    paddingBottom: 50,\n  },\n  list: {\n    marginBottom: theme.spacing(2),\n  },\n  subheader: {\n    backgroundColor: theme.palette.background.paper,\n  },\n  mobileBottomAppBar: {\n    top: 'auto',\n    backgroundColor: '#52776c',\n    bottom: 0,\n  },\n  mobileTopAppBar: {\n    top: 'auto',\n    backgroundColor: '#52776c',\n  },\n  grow: {\n    flexGrow: 1,\n  },\n}));\n\nfunction MobileDashboard() {\n  const classes = useStyles();\n  const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\n  const [redirect, setRedirect] = React.useState(false);\n  const [user, setUser] = React.useState({name:\"\"});\n  let workspace = useSelector(state=> state.selectedWorkspace)\n  let workspaceData = useSelector(state => state.allSelectedWorkspaceData)\n\n  useEffect(()=> {\n    // console.log(store.getState())\n    // if (store.getState().selectedCompany === \"\"){\n    //   getCompanies(\"\")\n    // }\n    // else{\n    //   getCompanies(store.getState().selectedCompany)\n    // }\n    if(user.name === \"\"){\n      axios.get(`/users/status`)\n      .then(res =>{\n        if(res.status === 200 && user.name === \"\"){\n          store.dispatch({ type: 'USER_LOGGED_IN', data: { user: res.data.data }})  \n          setUser(store.getState().user)\n          getCompanies(\"\")\n        }\n      })\n      .catch(() => {\n        setRedirect(true)\n      })\n    }\n\n  }, [store.getState().companies, store.getState().workspaces, store.getState().allSelectedWorkspaceData ]);\n  \n  const [companyAnchorEl, setCompanyAnchorEl] = React.useState(null);\n  const handleCompanyClick = (event) => {\n    setCompanyAnchorEl(event.currentTarget);\n  };\n  const handleCompanyClose = () => {\n    setCompanyAnchorEl(null);\n  };\n\n  const [workspaceanchorEl, setWorkspaceAnchorEl] = React.useState(null);\n  const handleWorkspaceClick = (event) => {\n    setWorkspaceAnchorEl(event.currentTarget);\n  };\n  const handleWorkspaceClose = () => {\n    setWorkspaceAnchorEl(null);\n  };\n\n  const [panelanchorEl, setPanelAnchorEl] = React.useState(null);\n  const handlePanelClick = (event) => {\n    setPanelAnchorEl(event.currentTarget);\n    // workspaceData\n  };\n  const handlePanelClose = () => {\n    setPanelAnchorEl(null);\n  };\n\n  const getPrivateChat = async (private_chat) => {\n    let a\n    axios.get(`/users/${private_chat.user1}`)\n    .then(res => {\n      a =  {\n        id: res.data.data._id,\n        name: res.data.data.name\n      }\n    })\n\n    return(<MenuItem id={a.id} onClick={handlePanelClose}>{a.name}</MenuItem>) \n  }\n \n  return (\n      <div className={classes.mobile_content}>\n        {redirect ? <Redirect to=\"/login\"/> : null}\n        \n        <AppBar color=\"primary\" className={classes.mobileTopAppBar}>\n          <Typography variant=\"h6\" className=\"center-align\">\n            {workspace + \" - \" + \"(Name of current page)\"}\n          </Typography>\n        </AppBar>\n\n        <main className={classes.mobile_content} style={{overflow:\"auto\", marginBottom:60}}> \n          <Container item maxWidth=\"lg\" className={classes.container}>\n            <div style={{paddingTop:20}}></div>\n              <Grid container spacing={3} >\n                {/* Calendar */}\n                <Grid item xs={12} md={8} lg={9}>\n                  <Paper className={fixedHeightPaper}>\n                    {/* <Chart /> */}\n                  </Paper>\n                </Grid>\n                {/* Charts */}\n                <Grid item xs={12} md={4} lg={3}>\n                  <Paper className={fixedHeightPaper}>\n                    {/* <Deposits /> */}\n                  </Paper>\n                </Grid>\n                {/* Tasks */}\n                <Grid item xs={12}>\n                  <Paper className={classes.paper}>\n                    {/* <Orders /> */}\n                  </Paper>\n                </Grid>\n              </Grid>\n            </Container>\n        </main>\n\n        <AppBar position=\"fixed\" color=\"primary\" className={classes.mobileBottomAppBar}>\n          <Toolbar>\n\n          <Grid container>\n\n            <Grid item xs={4}>\n              <ListItem button  container dense={true} alignItemsFlexStart onClick={handleCompanyClick}>\n                <ListItemAvatar>\n                  <Avatar style={{backgroundColor:\"#725bda\"}}>{\"C\"}</Avatar>\n                </ListItemAvatar>\n                <Hidden only='xs'>\n                  <ListItemText primary={\"Companies\"} />\n                </Hidden>\n              </ListItem>\n\n              <Menu id=\"company-menu\" anchorEl={companyAnchorEl} keepMounted open={Boolean(companyAnchorEl)} onClose={handleCompanyClose}>\n                {store.getState().companies !== [] && store.getState().companies.length > 0 ?\n                  store.getState().companies.map(company => (\n                    <MenuItem>{company.name}</MenuItem>\n                  ))\n                  :\n                  null\n                }\n              </Menu>\n\n            </Grid>\n\n            <Grid item xs={4}>\n              <ListItem button  container dense={true} alignItemsFlexStart aria-controls=\"workspace-menu\" aria-haspopup=\"true\" onClick={handleWorkspaceClick}>\n                <ListItemAvatar style={{}}>\n                  <Avatar style={{backgroundColor:\"#725bda\"}}>{\"W\"}</Avatar>\n                </ListItemAvatar>\n                <Hidden only='xs'>\n                  <ListItemText primary={\"Workspaces\"} />\n                </Hidden>\n              </ListItem>\n\n              <Menu id=\"workspace-menu\" anchorEl={workspaceanchorEl} keepMounted open={Boolean(workspaceanchorEl)} onClose={handleWorkspaceClose}>\n                {store.getState().workspaces !== [] && store.getState().workspaces.length > 0 ?\n                  store.getState().workspaces.map(workspace => (\n                    <MenuItem onClick={handleWorkspaceClose}>{workspace.name}</MenuItem>\n                  ))\n                  :\n                  null\n                }\n                \n                \n              </Menu>\n\n            </Grid>\n\n            <Grid item xs={4}>\n              <ListItem button  container dense={true} alignItemsFlexStart aria-controls=\"panel-menu\" aria-haspopup=\"true\" onClick={handlePanelClick}>\n                <ListItemAvatar style={{}}>\n                  <Avatar style={{backgroundColor:\"#725bda\"}}>{\"P\"}</Avatar>\n                </ListItemAvatar>\n                <Hidden only='xs'>\n                  <ListItemText primary={\"Planner\"} />\n                </Hidden>\n              </ListItem>\n            </Grid>\n\n            <Menu id=\"panel-menu\" anchorEl={panelanchorEl} keepMounted open={Boolean(panelanchorEl)} onClose={handlePanelClose}>\n              <MenuItem onClick={e => console.log(store.getState())}>Calendar</MenuItem>\n              <MenuItem onClick={handlePanelClose}>Charts</MenuItem>\n              <MenuItem onClick={handlePanelClose}>Tasks</MenuItem>\n              <MenuItem onClick={handlePanelClose}>General</MenuItem>\n              <MenuItem onClick={handlePanelClose}>Announcements</MenuItem>\n              <Divider />\n              <MenuItem>Group Chats</MenuItem>\n              {workspaceData.group_chats !== undefined && workspaceData.group_chats.length > 0 ?\n                workspaceData.group_chats.map(group_chat =>(\n                  <MenuItem id={group_chat._id} onClick={handlePanelClose}>{group_chat.title}</MenuItem>\n                ))\n                :\n                null\n              }\n              <Divider />\n              <MenuItem>Private Chats</MenuItem>\n              {workspaceData.private_chats !== undefined && workspaceData.private_chats.length > 0 ?\n                workspaceData.private_chats.map( async (private_chat) =>(\n                  // console.log(private_chat)\n                  getPrivateChat(private_chat)\n                ))\n                :\n                null\n              }\n            </Menu>\n\n          </Grid>\n          \n            <div className={classes.grow} />\n            <IconButton edge=\"start\" color=\"inherit\" aria-label=\"open drawer\">\n              <MenuIcon />\n            </IconButton>\n            \n            \n            <IconButton color=\"inherit\">\n              <SearchIcon />\n            </IconButton>\n            \n            <IconButton edge=\"end\" color=\"inherit\">\n              <MoreIcon />\n            </IconButton>\n          \n          </Toolbar>\n        </AppBar>\n      </div>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {selectedCompany: state.selectedCompany, companies: state.companies, workspaces: state.workspaces, selectedWorkspace: state.selectedWorkspace}\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    dispatch\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MobileDashboard)","import React, { useEffect } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport store from '../../../../../store';\r\nimport axios from 'axios'\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { getAcronym, getAllWorkspaceSpecificData } from '../../../DataLoading.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      maxWidth: 345,\r\n      marginTop: 10,\r\n      backgroundColor: \"#2f3136\"\r\n    },\r\n    media: {\r\n      height: 0,\r\n    },\r\n    highlighted: {\r\n        backgroundColor: \"#af0000\"\r\n    },\r\n    avatar: {\r\n      backgroundColor: \"#52776c\"\r\n    },\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: 10,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n  }));\r\n\r\nconst Admin = ( { admin_id, buttonListClasses } ) => {\r\n    const classes = useStyles();\r\n    const [data, setData] = React.useState({});\r\n    const [openDeleteAdmin, setOpenDeleteAdmin] = React.useState(false);\r\n\r\n    useEffect(() => { \r\n        axios.get(`/users/${admin_id}`)\r\n        .then(res => {\r\n            setData(res.data.data)\r\n        })\r\n    }, []);\r\n\r\n    const deleteSelectedUser = (userIDToDeleteButton) => {\r\n      setOpenDeleteAdmin(false) //Close modal for choosing to delete user\r\n\r\n      //Delete user in Database\r\n      axios.delete('workspaces/user', {params: {\r\n          workspace_id: store.getState().selectedWorkspace,\r\n          user_id: userIDToDeleteButton.id,\r\n      }})\r\n      .then(res =>{\r\n          getAllWorkspaceSpecificData(store.getState().selectedWorkspace)\r\n      })\r\n\r\n      //Delete user card\r\n      document.getElementById('admin_card_'+userIDToDeleteButton.id).remove()\r\n  }\r\n\r\n    return(\r\n        <Card className={classes.root} id={'admin_card_'+admin_id} onMouseLeave={e => e.currentTarget.style.backgroundColor = \"#2f3136\"} onMouseEnter={e => e.currentTarget.style.backgroundColor = \"#725bda\"}>\r\n        <CardHeader\r\n            avatar={\r\n              <Avatar className={classes.avatar}>\r\n                  {data.name !== undefined ?\r\n                  getAcronym(data.name)\r\n                  :\r\n                  null\r\n                  }\r\n              </Avatar>\r\n            }\r\n            action={\r\n              <div>\r\n                  {data.owner ? \r\n                    null\r\n                    :\r\n                    <IconButton aria-label=\"delete\" id={admin_id} onClick={e => setOpenDeleteAdmin(true)} >\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  }\r\n\r\n                  <Modal  \r\n                      aria-labelledby=\"transition-modal-title\"\r\n                      aria-describedby=\"transition-modal-description\"\r\n                      className={classes.modal}\r\n                      open={openDeleteAdmin}\r\n                      onClose={e => setOpenDeleteAdmin(false)}\r\n                      closeAfterTransition\r\n                      BackdropComponent={Backdrop}\r\n                      BackdropProps={{timeout: 500}}\r\n                  >\r\n                      <Fade in={openDeleteAdmin}>\r\n                          <div className={classes.paper}>\r\n                              <Typography variant=\"h6\">Are you sure you wish to delete the admin: {data.name}</Typography>\r\n                              \r\n                              <div className=\"center-align\">\r\n                                  <Button id={admin_id} onClick={e => deleteSelectedUser(e.currentTarget)}>Delete</Button>\r\n                                  <Button onClick={e => setOpenDeleteAdmin(false)}>Cancel</Button>\r\n                              </div>\r\n                          </div>\r\n                      </Fade>\r\n                  </Modal>\r\n              </div>\r\n            }\r\n            title={<Typography>{data.name}</Typography>}\r\n            subheader={data.email}\r\n        />\r\n      </Card>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        selectedCompany: state.selectedCompany, \r\n        companies: state.companies, \r\n        workspaces: state.workspaces, \r\n        selectedWorkspace: state.selectedWorkspace, \r\n        taskCollectionIDs: state.taskCollectionIDs, \r\n        workspaceTaskCollections: state.workspaceTaskCollections,\r\n        user: state.user,\r\n        allSelectedWorkspaceData: state.allSelectedWorkspaceData\r\n      }\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {dispatch}\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(Admin)","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport store from '../../../../../store';\r\nimport axios from 'axios'\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { getAcronym, getAllWorkspaceSpecificData } from '../../../DataLoading.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n      maxWidth: 345,\r\n      marginTop: 10,\r\n      backgroundColor: \"#2f3136\"\r\n    },\r\n    media: {\r\n      height: 0,\r\n    },\r\n    highlighted: {\r\n        backgroundColor: \"#af0000\"\r\n    },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        borderRadius: 10,\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n    avatar: {\r\n        backgroundColor: \"#52776c\"\r\n    }\r\n  }));\r\n\r\nconst User = ( { user_id } ) => {\r\n    const classes = useStyles();\r\n    const [data, setData] = React.useState({});\r\n    const [openDeleteUser, setOpenDeleteUser] = React.useState(false);\r\n    \r\n    useEffect(() => { \r\n        axios.get(`/users/${user_id}`)\r\n        .then(res => {\r\n            setData(res.data.data)\r\n        })\r\n    }, []);\r\n\r\n    const deleteSelectedUser = (userIDToDeleteButton) => {\r\n        setOpenDeleteUser(false) //Close modal for choosing to delete user\r\n\r\n        //Delete user in Database\r\n        axios.delete('workspaces/user', {params: {\r\n            workspace_id: store.getState().selectedWorkspace,\r\n            user_id: userIDToDeleteButton.id,\r\n        }})\r\n        .then(res =>{\r\n            getAllWorkspaceSpecificData(store.getState().selectedWorkspace)\r\n        })\r\n\r\n        //Delete user card\r\n        document.getElementById('user_card_'+userIDToDeleteButton.id).remove()\r\n    }\r\n\r\n    const isAdmin = () =>{\r\n        let userIsAdmin = false\r\n\r\n        for(var i in store.getState().allSelectedWorkspaceData.admins){\r\n            if(store.getState().allSelectedWorkspaceData.admins[i] === user_id){\r\n                userIsAdmin = true    \r\n            }\r\n        }\r\n\r\n        return(userIsAdmin)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            {data.companies !== undefined ?\r\n                (data.companies[0] === store.getState().selectedCompany) && (data.owner || isAdmin()) ? //Checks if first company(should be selected company if they are owner) matches selected company and whether they are owner\r\n                    null\r\n                    :\r\n                    <Card className={classes.root} id={'user_card_'+user_id} onMouseLeave={e => e.currentTarget.style.backgroundColor = \"#2f3136\"} onMouseEnter={e => e.currentTarget.style.backgroundColor = \"#f1b92e\"}>\r\n                        <CardHeader\r\n                            avatar={\r\n                            <Avatar className={classes.avatar}>\r\n                                {data.name !== undefined ?\r\n                                getAcronym(data.name)\r\n                                :\r\n                                null\r\n                                }\r\n                            </Avatar>\r\n                            }\r\n                            action={\r\n                                <div>\r\n                                    <IconButton aria-label=\"delete\" id={user_id} onClick={e => setOpenDeleteUser(true)}>\r\n                                        <DeleteIcon />\r\n                                    </IconButton>\r\n\r\n                                    <Modal  \r\n                                        aria-labelledby=\"transition-modal-title\"\r\n                                        aria-describedby=\"transition-modal-description\"\r\n                                        className={classes.modal}\r\n                                        open={openDeleteUser}\r\n                                        onClose={e => setOpenDeleteUser(false)}\r\n                                        closeAfterTransition\r\n                                        BackdropComponent={Backdrop}\r\n                                        BackdropProps={{timeout: 500}}\r\n                                    >\r\n                                        <Fade in={openDeleteUser}>\r\n                                            <div className={classes.paper}>\r\n                                                <Typography variant=\"h6\">Are you sure you wish to delete the user: {data.name}</Typography>\r\n                                                \r\n                                                <div className=\"center-align\">\r\n                                                    <Button id={user_id} onClick={e => deleteSelectedUser(e.currentTarget)}>Delete</Button>\r\n                                                    <Button onClick={e => setOpenDeleteUser(false)}>Cancel</Button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </Fade>\r\n                                    </Modal>\r\n                                </div>\r\n                            }\r\n                            title={data.name}\r\n                            subheader={data.email}\r\n                        />\r\n                    </Card>\r\n                :\r\n                null\r\n            }\r\n        </div>\r\n            \r\n            // <Avatar>\r\n            //     A\r\n            // </Avatar>\r\n\r\n            // {data.name}\r\n            // {data.email}\r\n            // {/* _id, avatar, companies, owner */}\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        selectedCompany: state.selectedCompany, \r\n        companies: state.companies, \r\n        workspaces: state.workspaces, \r\n        selectedWorkspace: state.selectedWorkspace, \r\n        taskCollectionIDs: state.taskCollectionIDs, \r\n        workspaceTaskCollections: state.workspaceTaskCollections,\r\n        user: state.user,\r\n        allSelectedWorkspaceData: state.allSelectedWorkspaceData\r\n      }\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {dispatch}\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(User)","import React, { useEffect } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport store from '../../../../../../store';\r\nimport { useSelector } from 'react-redux';\r\nimport axios from 'axios'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { getCompanies, checkIfAdmin} from '../../../../DataLoading.js';\r\n\r\nimport Admin from '../Admin.js';\r\nimport User from '../User.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n    },\r\n  }));\r\n\r\nconst ManageCompanyModal = ( { type, buttonListClasses } ) => {\r\n    const classes = useStyles();\r\n    const [manageCompanyOpen, setManageCompanyOpen] = React.useState(false);\r\n    var user = useSelector(state=> state.user)\r\n    var role = user.owner && store.getState().selectedCompany === user.companies[0] ? \"Owner\" : checkIfAdmin\r\n    const [selectedCompanySection, setSelectedCompanySection] = React.useState('Company');  \r\n    const [deleteCompanyName, setDeleteCompanyName] = React.useState(\"\")\r\n    const [companyData, setCompanyData] = React.useState({admins:[], name:\"\", users:[]});\r\n\r\n    useEffect(() => { \r\n        //Load the elements for the button lists of Companies and Workspaces\r\n        if (store.getState().companies.length > 0 && manageCompanyOpen === true){\r\n            if(store.getState().allSelectedWorkspaceData._id !== undefined){\r\n                axios.get(`/companies/${store.getState().selectedCompany}`)\r\n                .then(res => {\r\n                    setCompanyData({\r\n                        name: res.data.data.companyData.name,\r\n                        admins: res.data.data.companyData.admins,\r\n                        users: res.data.data.companyData.users,\r\n                        workspaces: res.data.data.companyData.workspaces,\r\n                        owner: res.data.data.companyData.ownerID\r\n                    })\r\n                }) \r\n            }\r\n        }\r\n    }, [store.getState().selectedCompany, manageCompanyOpen]);\r\n\r\n    const deleteCompany = (e) => {\r\n        axios.delete(`/companies/${store.getState().selectedCompany}`)\r\n        getCompanies(\"\")\r\n        setManageCompanyOpen(false)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <ListItem button onClick={e => setManageCompanyOpen(true)} >\r\n                <ListItemAvatar>\r\n                    <Avatar>\r\n                        <SettingsIcon color=\"primary\" />\r\n                    </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary={\"Manage \" + type} />\r\n            </ListItem>\r\n            \r\n            { companyData.name !== undefined || companyData.name !== \"\" ?\r\n                <Modal  \r\n                    aria-labelledby=\"transition-modal-title\"\r\n                    aria-describedby=\"transition-modal-description\"\r\n                    className={classes.modal}\r\n                    open={manageCompanyOpen}\r\n                    onClose={e => setManageCompanyOpen(false)}\r\n                    closeAfterTransition\r\n                    BackdropComponent={Backdrop}\r\n                    BackdropProps={{timeout: 500}}\r\n                    >\r\n                    <Fade in={manageCompanyOpen}>\r\n                        <div className={classes.paper}>\r\n                            <Typography variant=\"h6\" align=\"center\">Manage {companyData.name}</Typography>\r\n\r\n                            <ButtonGroup variant=\"text\" color=\"inherit\" aria-label=\"text primary button group\" >\r\n                                <Button selected onClick={e => setSelectedCompanySection(e.target.textContent)}>Company</Button>\r\n                                <Button onClick={e => setSelectedCompanySection(e.target.textContent)}>Admins</Button>\r\n                                <Button onClick={e => setSelectedCompanySection(e.target.textContent)}>Users</Button>\r\n                                <Button onClick={e => setSelectedCompanySection(e.target.textContent)}>Add Users</Button>\r\n                            </ButtonGroup>\r\n\r\n                            <Divider />\r\n                            \r\n                            {selectedCompanySection === \"Company\" ?\r\n                                <div>\r\n                                    <Typography>Number of Admins: {companyData.admins !== undefined? companyData.admins.length : null}</Typography>\r\n                                    <Typography>Number of Users: {companyData.users !== undefined? companyData.users.length - companyData.admins.length : null}</Typography>\r\n                                \r\n                                    <Divider style={{marginTop:10, marginBottom:10 }} />\r\n\r\n                                    <Typography>Delete the workspace {companyData.name}</Typography>\r\n                                    <TextField id=\"name_text_field\" onChange={e => setDeleteCompanyName(e.currentTarget.value)} helperText={'Type in: '+ companyData.name} style={{ margin: 8 }} placeholder=\"Enter Workspace Name to Delete\" fullWidth margin=\"normal\" InputLabelProps={{ shrink: true, }} />\r\n\r\n                                    <div>\r\n                                        {deleteCompanyName === companyData.name ?\r\n                                            <Button style={{color:\"#af0000\"}} onClick={e => deleteCompany(e)} >Delete</Button>\r\n                                            :\r\n                                            <Button disabled>Delete</Button>\r\n                                        }\r\n                                    </div>  \r\n                                </div>\r\n                            : null}\r\n\r\n                            {selectedCompanySection === \"Admins\" ?\r\n                                <div>\r\n                                    {companyData.admins.map((admin_id, index) =>(\r\n                                        <Admin {...{admin_id, buttonListClasses}} />\r\n                                    ))\r\n                                    }\r\n                                </div>\r\n                            : null}\r\n\r\n                            {selectedCompanySection === \"Users\" ?\r\n                                <div>\r\n                                    {companyData.users.length > 0 ?\r\n                                        companyData.users.map((user_id, index) =>(\r\n                                            \r\n                                            <User {...{user_id, buttonListClasses}} />\r\n                                        ))\r\n                                        :\r\n                                        <div>No users found</div>\r\n                                    }\r\n                                </div>\r\n                            : null}\r\n\r\n                        </div>\r\n                    </Fade>\r\n                </Modal>\r\n            : \r\n            null\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections,\r\n      user: state.user,\r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageCompanyModal)","import React from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport store from '../../../../../../store';\r\nimport { useSelector } from 'react-redux';\r\nimport axios from 'axios'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\n\r\n\r\nimport { getCompanies, getAllWorkspaceSpecificData, getAcronym} from '../../../../DataLoading.js';\r\n\r\nimport Admin from '../Admin.js';\r\nimport User from '../User.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paperManageWorkspace: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n        height:\"80vh\",\r\n        maxHeight:\"80vh\"\r\n    },   \r\n    paperAddUser: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n      },\r\n    avatar: {\r\n        backgroundColor: \"#52776c\"\r\n    }\r\n  }));\r\n\r\nconst ManageWorkspaceModal = ( { type, buttonListClasses } ) => {    \r\n    const classes = useStyles();\r\n    const [manageWorkspaceOpen, setManageWorkspaceOpen] = React.useState(false);\r\n    const [selectedWorkspaceSection, setSelectedWorkspaceSection] = React.useState('Workspace'); \r\n    var workspaceData = useSelector(state=> state.allSelectedWorkspaceData)\r\n    const [usersInSearch, setUsersInSearch] = React.useState([]);\r\n    const [openAddUser, setOpenAddUser] = React.useState(false);\r\n    const [selectedUserToAdd, setAddUser] = React.useState({});\r\n    const [deleteWorkspaceName, setDeleteWorkspaceName] = React.useState(\"\")\r\n\r\n    let usersFoundInSearch = (keypressed, searchName) => {\r\n        if(keypressed === \"Enter\"){\r\n            axios.get('/users/names', {params:{\r\n                name: searchName, \r\n                users: store.getState().allSelectedWorkspaceData.users\r\n                }} \r\n            )\r\n            .then(res => {\r\n                setUsersInSearch(res.data.data)\r\n            }) \r\n        }\r\n    }\r\n    \r\n    const handleOpen = (userToAdd) => {\r\n        setAddUser(userToAdd)\r\n        setOpenAddUser(true)\r\n    }\r\n  \r\n    const addSelectedUser = (e) => {\r\n        let userCardToDelete = 'user_card_'+selectedUserToAdd._id\r\n        document.getElementById(userCardToDelete).remove() //Deletes the added user from the list \r\n\r\n        axios.post('/workspaces/user',  {\r\n            workspace_id: store.getState().selectedWorkspace,\r\n            user_id: selectedUserToAdd._id,\r\n            admin: selectedUserToAdd.admin\r\n        })\r\n        .then(async res => {\r\n            getAllWorkspaceSpecificData(store.getState().selectedWorkspace)\r\n        })\r\n        \r\n        setOpenAddUser(false)\r\n    }\r\n\r\n    /* MENU FOR ADDING USER AS ADMIN/USER */\r\n    const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n    const handleClick = (event, user) => {\r\n      setAnchorEl(event.currentTarget);\r\n      setAddUser(user);\r\n    };\r\n  \r\n    const handleClose = () => {\r\n      setAnchorEl(null);\r\n    };\r\n\r\n    const addUser = (e) => {\r\n        handleClose()\r\n        selectedUserToAdd[\"admin\"] = false\r\n        setOpenAddUser(true);\r\n    }\r\n\r\n    const addAdmin = (e) => {\r\n        handleClose()\r\n        selectedUserToAdd[\"admin\"] = true\r\n        setOpenAddUser(true);\r\n    }\r\n\r\n    const deleteWorkspace = (e) => {\r\n        axios.delete(`/workspaces/${store.getState().allSelectedWorkspaceData._id}`, {\r\n            params:{\r\n                company_id : store.getState().selectedCompany\r\n            }\r\n        })\r\n\r\n        setDeleteWorkspaceName(\"\") //Reset the name to enable the delete button\r\n\r\n        getCompanies(\"\") //Reload the workspaces list\r\n        \r\n        setManageWorkspaceOpen(false) //Close the modal \r\n    }\r\n\r\n    const sectionChanged = (e) => {\r\n        if(e !== \"Add Users\"){\r\n            setUsersInSearch(\"\")\r\n        }\r\n        \r\n        setSelectedWorkspaceSection(e)\r\n    }\r\n\r\n    return(\r\n            <div>\r\n                <ListItem button onClick={e => setManageWorkspaceOpen(true)} >\r\n                    <ListItemAvatar>\r\n                        <Avatar>\r\n                            <SettingsIcon color=\"primary\" />\r\n                        </Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemText primary={\"Manage \" + type} />\r\n                </ListItem>\r\n\r\n                <Modal \r\n                    aria-labelledby=\"transition-modal-title\"\r\n                    aria-describedby=\"transition-modal-description\"\r\n                    className={classes.modal}\r\n                    open={manageWorkspaceOpen}\r\n                    onClose={e => setManageWorkspaceOpen(false)}\r\n                    closeAfterTransition\r\n                    BackdropComponent={Backdrop}\r\n                    BackdropProps={{timeout: 500}}\r\n                    >\r\n                    <Fade in={manageWorkspaceOpen}>\r\n                        <div id=\"modal_paper\" className={classes.paper, classes.paperManageWorkspace}>\r\n                            <Typography variant=\"h6\" align=\"center\">Manage Workspace</Typography>\r\n\r\n                            <ButtonGroup variant=\"text\" color=\"inherit\" aria-label=\"text primary button group\" >\r\n                                <Button selected onClick={e => sectionChanged(e.target.textContent)}>Workspace</Button>\r\n                                <Button onClick={e => sectionChanged(e.target.textContent)}>Admins</Button>\r\n                                <Button onClick={e => sectionChanged(e.target.textContent)}>Users</Button>\r\n                                <Button onClick={e => sectionChanged(e.target.textContent)}>Add Users</Button>\r\n                            </ButtonGroup>\r\n\r\n                            <Divider />\r\n\r\n                            {selectedWorkspaceSection === \"Workspace\" ?\r\n                                <div style={{marginTop:20 }}>\r\n                                    <Typography>Number of Admins: {workspaceData.admins !== undefined? workspaceData.admins.length : null}</Typography>\r\n                                    <Typography>Number of Users: {workspaceData.users !== undefined? workspaceData.users.length - workspaceData.admins.length : null}</Typography>\r\n                                    \r\n                                    <Divider style={{marginTop:10, marginBottom:10 }} />\r\n\r\n                                    <Typography>Delete the workspace {workspaceData.name}</Typography>\r\n                                    <TextField id=\"name_text_field\" onChange={e => setDeleteWorkspaceName(e.currentTarget.value)} label=\"Workspace Name\" helperText={'Type in: '+ workspaceData.name} style={{ margin: 8 }} placeholder=\"Enter Workspace Name to Delete\" fullWidth margin=\"normal\" InputLabelProps={{ shrink: true, }} />\r\n\r\n                                    <div>\r\n                                        {deleteWorkspaceName === store.getState().allSelectedWorkspaceData.name ?\r\n                                            <Button style={{color:\"#af0000\"}} onClick={e => deleteWorkspace(e)} >Delete</Button>\r\n                                            :\r\n                                            <Button disabled>Delete</Button>\r\n                                        }\r\n                                    </div>  \r\n                                </div>\r\n                                : null\r\n                            }\r\n\r\n                            {selectedWorkspaceSection === \"Admins\" ?\r\n                                <div style={{overflow:\"auto\"}}>\r\n                                    {workspaceData.admins.map((admin_id, index) =>(\r\n                                        <Admin {...{admin_id, buttonListClasses}} /> \r\n                                    )) \r\n                                    }\r\n                                </div>\r\n                                : null\r\n                            }\r\n\r\n                            {selectedWorkspaceSection === \"Users\" ?\r\n                                <Grid container direction=\"column\" wrap=\"nowrap\" style={{overflow:\"auto\", maxHeight:\"60vh\"}}>\r\n                                    {workspaceData.users.map((user_id, index) =>( \r\n                                        <User item {...{user_id, buttonListClasses}} /> \r\n                                    ) )}\r\n                                </Grid>\r\n                                : null\r\n                            }\r\n\r\n                            {selectedWorkspaceSection === \"Add Users\" ?\r\n\r\n                            <div >\r\n                                {/* Text field to search for users */}\r\n                                <TextField  id=\"search_textfield\" label=\"Search\" margin=\"small\" style={{width:\"100%\"}} onKeyPress={e => usersFoundInSearch(e.key, e.target.value)} />\r\n\r\n                                {/* List of search results */}\r\n                                <div style={{overflow:\"auto\", maxHeight: \"50vh\", }} >\r\n                                    {usersInSearch !== [] && usersInSearch.length > 0 ?\r\n                                        usersInSearch.map((user, index) => (\r\n                                            <Card id={'user_card_'+user._id} onMouseLeave={e => e.currentTarget.style.backgroundColor = \"#2f3136\"} onMouseEnter={e => e.currentTarget.style.backgroundColor = \"#f1b92e\"} style={{backgroundColor: \"#2f3136\"}}>\r\n                                            <CardHeader\r\n                                                avatar={\r\n                                                <Avatar className={classes.avatar}>\r\n                                                    {user.name !== undefined ?\r\n                                                    getAcronym(user.name)\r\n                                                    :\r\n                                                    null\r\n                                                    }\r\n                                                </Avatar>\r\n                                                }\r\n                                                action={\r\n                                                    <div>\r\n                                                        <IconButton id={user._id} aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={e=> handleClick(e, user)} > {/*onClick={e => handleOpen(user)}>*/}\r\n                                                            <MoreVertIcon />\r\n                                                        </IconButton>\r\n                    \r\n                                                        <Menu\r\n                                                            id=\"simple-menu\"\r\n                                                            anchorEl={anchorEl}\r\n                                                            keepMounted\r\n                                                            open={Boolean(anchorEl)}\r\n                                                            onClose={handleClose}\r\n                                                        >\r\n                                                            <MenuItem onClick={e => addUser(e)}>Add as User</MenuItem>\r\n                                                            <MenuItem style={{color:\"#f1b92e\"}} onClick={e => addAdmin(e)}>Add as Admin</MenuItem>\r\n                                                        </Menu>\r\n                                                        \r\n                                                        <Modal  \r\n                                                            aria-labelledby=\"transition-modal-title\"\r\n                                                            aria-describedby=\"transition-modal-description\"\r\n                                                            className={classes.modal}\r\n                                                            open={openAddUser}\r\n                                                            onClose={e => setOpenAddUser(false)}\r\n                                                            closeAfterTransition\r\n                                                            BackdropComponent={Backdrop}\r\n                                                            BackdropProps={{timeout: 500}}\r\n                                                        >\r\n                                                            <Fade in={openAddUser}>\r\n                                                                <div className={classes.paper, classes.paperAddUser}>\r\n                                                                    <Typography variant=\"h6\" noWrap={true} >Are you sure you wish to add the user <span style={{color:\"#f1b92e\"}}>{selectedUserToAdd.name}</span> to the workspace <span style={{color:\"#f1b92e\"}}>{workspaceData.name}</span> as {selectedUserToAdd.admin ? \"an Admin\" : \"a User\"}</Typography>\r\n                                                                    <Button id={selectedUserToAdd._id} onClick={e => addSelectedUser()}>Add User</Button>\r\n                                                                    <Button onClick={e => setOpenAddUser(false)}>Cancel</Button>\r\n                                                                </div>\r\n                                                            </Fade>\r\n                                                        </Modal>\r\n                                                    </div>\r\n                                                }\r\n                                                title={user.name}\r\n                                                subheader={user.email}\r\n                                            />\r\n                                            <CardMedia\r\n                                            />\r\n                                        </Card>\r\n                                        ))\r\n                                        :\r\n                                        null\r\n                                    }\r\n                                </div>\r\n                            </div>\r\n                            :null\r\n                            }\r\n                        </div>\r\n                    </Fade>\r\n                </Modal>\r\n            </div>\r\n        )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections,\r\n      user: state.user,\r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ManageWorkspaceModal)","import React from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport store from '../../../../../../store';\r\nimport { useSelector } from 'react-redux';\r\nimport axios from 'axios'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport AddCircle from '@material-ui/icons/Add';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { getCompanies } from '../../../../DataLoading.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paperManageWorkspace: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },   \r\n  }));\r\n\r\nconst AddWorkspaceModal = ( { type, buttonListClasses } ) => {    \r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n\r\n    const addWorkspace = (e) => {\r\n        //Add workspace to database\r\n        axios.post('/workspaces/',  {\r\n            company: store.getState().selectedCompany,\r\n            name: document.getElementById('name_text_field').value,\r\n            admin: \"\"\r\n        })\r\n        .then(res => {\r\n            getCompanies(\"\")\r\n            setOpen(false)\r\n        })\r\n    }\r\n\r\n    return(\r\n            <div>\r\n                <ListItem button onClick={e => setOpen(true)} >\r\n                    <ListItemAvatar>\r\n                        <Avatar>\r\n                            <AddCircle color=\"primary\" />\r\n                        </Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemText primary={\"Add \" + type} />\r\n                </ListItem>\r\n\r\n                <Modal \r\n                    aria-labelledby=\"transition-modal-title\"\r\n                    aria-describedby=\"transition-modal-description\"\r\n                    className={classes.modal}\r\n                    open={open}\r\n                    onClose={e => setOpen(false)}\r\n                    closeAfterTransition\r\n                    BackdropComponent={Backdrop}\r\n                    BackdropProps={{timeout: 500}}\r\n                    >\r\n                    <Fade in={open}>\r\n                        <div id=\"modal_paper\" className={classes.paper, classes.paperManageWorkspace}>\r\n                            <Typography variant=\"h6\" align=\"center\">Add Workspace</Typography>\r\n\r\n                            <Divider />\r\n\r\n                            <TextField id=\"name_text_field\" label=\"Workspace Name\" style={{ margin: 8, marginTop:20, marginBottom:20 }} placeholder=\"Enter New Workspace Name\" fullWidth margin=\"normal\" InputLabelProps={{ shrink: true, }} />\r\n\r\n                            <div className=\"center-align\">\r\n                                <Button onClick={e => addWorkspace(e)}>Add</Button>\r\n                                <Button>Cancel</Button>\r\n                            </div>\r\n                        </div>\r\n                    </Fade>\r\n                </Modal>\r\n            </div>\r\n        )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections,\r\n      user: state.user,\r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddWorkspaceModal)","import React, { useEffect } from 'react';\r\nimport './ButtonLists.css'\r\n\r\nimport { connect } from 'react-redux';\r\nimport store from '../../../../store';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\n\r\nimport { getCompanies,getWorkspaces ,getAllWorkspaceSpecificData, checkIfAdmin, getAcronym} from '../../DataLoading.js';\r\n\r\nimport ManageCompanyModal from './../modals/manageModals/manageCompany/manageCompanyModal.js'\r\nimport ManageWorkspaceModal from './../modals/manageModals/manageWorkspace/manageWorkspaceModal.js'\r\nimport AddWorkspaceModal from './../modals/manageModals/manageWorkspace/addWorkspaceModal.js'\r\n\r\nfunction getButtonList(classes, list, changeSelected){\r\n    let buttonList\r\n\r\n    if (list.length > 0){\r\n        buttonList = list.map((item, key) => {\r\n            var class_name = \"MuiButtonBase-root MuiListItem-root MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock  MuiListItem-dense MuiListItem-gutters MuiListItem-button\"\r\n        \r\n            if(key === 0){ \r\n                class_name = `${class_name} selected_company`\r\n            }\r\n\r\n            return(\r\n                <ListItem button container dense={true} alignItemsFlexStart className={class_name} key={key} id={item._id} onClick={e => changeSelected ? changeSelectedCompany(e) : changeSelectedWorkspace(e) }>\r\n                    <ListItemAvatar>\r\n                        <Avatar className={classes.avatar}>{getAcronym(item.name)}</Avatar>\r\n                    </ListItemAvatar>\r\n                    <ListItemText primary={item.name} />\r\n                </ListItem>\r\n            )\r\n        })\r\n    }\r\n    else {\r\n        buttonList = []\r\n    }\r\n\r\n    return buttonList\r\n}\r\n\r\nconst changeSelectedCompany = async (e) => {\r\n    getCompanies(e.currentTarget.id)\r\n\r\n    // Set UI for Company buttons\r\n    for(var i = 0; i < e.currentTarget.parentNode.childNodes.length; i++){\r\n        e.currentTarget.parentNode.childNodes[i].className = \"MuiButtonBase-root MuiListItem-root MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock MuiListItem-dense MuiListItem-gutters MuiListItem-button\" //Set all company button styles\r\n    }\r\n    e.currentTarget.className=`${e.currentTarget.className} selected_company` //Set active company button style\r\n\r\n    //Set UI for Workspace buttons\r\n    const workspacePanel = e.currentTarget.parentNode.parentNode.parentNode.parentNode.childNodes[1].childNodes[0].childNodes[2]\r\n\r\n    for(var index = 0; index < workspacePanel.childNodes.length-1; index++) {\r\n        workspacePanel.childNodes[index].className = \"MuiButtonBase-root MuiListItem-root MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock MuiListItem-dense MuiListItem-gutters MuiListItem-button\"\r\n    } \r\n    const workspaceButton = workspacePanel.childNodes[0] //Sets first button in workspace list\r\n    workspaceButton.className = \"MuiButtonBase-root MuiListItem-root MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock MuiListItem-dense MuiListItem-gutters MuiListItem-button selected_company\"\r\n}\r\n\r\nconst changeSelectedWorkspace = async (e) => {\r\n    //Set all workspace button styles\r\n    for(var i = 0; i < e.currentTarget.parentNode.childNodes.length-1; i++){\r\n        if(e.currentTarget.parentNode.childNodes[i].id !== \"\"){\r\n            e.currentTarget.parentNode.childNodes[i].className = \"MuiButtonBase-root MuiListItem-root MuiTypography-root MuiListItemText-primary MuiTypography-body2 MuiTypography-displayBlock MuiListItem-dense MuiListItem-gutters MuiListItem-button\"\r\n        }\r\n    }\r\n\r\n    //Set active workspace button style\r\n    e.currentTarget.className=`${e.currentTarget.className} selected_company`   \r\n    \r\n    store.dispatch({ type: 'WORKSPACE_SELECTED', data: { selectedWorkspace: e.currentTarget.id }})     \r\n    //When a user selects a workspace, all the data assocaited to a workspace is also saved\r\n    \r\n    \r\n    // getWorkspaces(e.currentTarget.id)\r\n    getAllWorkspaceSpecificData(e.currentTarget.id)\r\n}\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n    },\r\n    avatar: {\r\n        backgroundColor: \"#52776c\",\r\n    },\r\n  }));\r\n\r\nconst ButtonList = ( { type } ) => {\r\n    const classes = useStyles();\r\n    const [buttonList, setButtonList] = React.useState([]);\r\n    var user = useSelector(state=> state.user)\r\n    var role = user.owner && store.getState().selectedCompany === user.companies[0] ? \"Owner\" : checkIfAdmin\r\n    const [companyData, setCompanyData] = React.useState({}); \r\n    var workspaceData = useSelector(state=> state.allSelectedWorkspaceData)\r\n\r\n    useEffect(() => { \r\n        //Load the elements for the button lists of Companies and Workspaces\r\n        if (store.getState().companies.length > 0){\r\n            // setCompanyData(getCompanyData())\r\n            if(type === \"Company\"){\r\n                setButtonList(getButtonList(classes, store.getState().companies, true))\r\n\r\n                if(store.getState().allSelectedWorkspaceData._id !== undefined){\r\n                    setCompanyData({\r\n                        name: store.getState().allSelectedWorkspaceData.name,\r\n                        admins: store.getState().allSelectedWorkspaceData.admins,\r\n                        users: store.getState().allSelectedWorkspaceData.users,\r\n                        // workspaces: store.getState().allSelectedWorkspaceData.companies[companyIndex]\r\n                    })\r\n                }\r\n            }\r\n            else if (type === \"Workspace\"){\r\n                setButtonList(getButtonList(classes, store.getState().workspaces, false))\r\n            }\r\n\r\n        }\r\n    }, [store.getState().companies, store.getState().workspaces, store.getState().user]);\r\n\r\n    return(\r\n            <div>\r\n                {buttonList}\r\n                \r\n                <Divider />\r\n\r\n                {type === \"Company\" && role === \"Owner\" ?\r\n                    <ManageCompanyModal {...{type, classes}} />\r\n                    :\r\n                    null\r\n                }\r\n\r\n                {type === \"Workspace\" && (role === \"Admin\" || role === \"Owner\") ?\r\n                    <div>\r\n                        <ManageWorkspaceModal {...{type, classes}} />\r\n                        <AddWorkspaceModal {...{type, classes}} />\r\n                    </div>\r\n                    :\r\n                    null\r\n                }\r\n            </div>\r\n        )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections,\r\n      user: state.user,\r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(ButtonList)","import React from 'react';\r\nimport clsx from 'clsx';\r\n\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport ButtonList from './ButtonList.js';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n\r\nimport BusinessIcon from '@material-ui/icons/Business';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChromeReaderModeIcon from '@material-ui/icons/ChromeReaderMode';\r\n\r\nconst expandButton = (classes, open, setOpen) => { \r\n    const handleDrawerOpen = () => {\r\n        setOpen(true);\r\n        };\r\n        \r\n    const handleDrawerClose = () => {\r\n        setOpen(false);\r\n    };\r\n    \r\n    return(\r\n        <div className={classes.toolbarIcon} style={{marginRight:5}}>\r\n            <IconButton onClick={handleDrawerClose} className={clsx(classes.menuButton, !open && classes.menuButtonHidden)}>\r\n                <ChevronLeftIcon />\r\n            </IconButton>\r\n            <IconButton edge=\"start\" color=\"inherit\" aria-label=\"open drawer\" onClick={handleDrawerOpen} className={clsx(classes.menuButton, open && classes.menuButtonHidden)}>\r\n                <MenuIcon />\r\n            </IconButton>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function CompanyDrawer(props) {\r\n    const classes = props.classes;\r\n    const key = props.key;\r\n    const [open, setOpen] = React.useState(false); //Controls whether the Company panel is expanded\r\n\r\n    return(\r\n        <Drawer id={key} variant=\"permanent\" classes={{paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose)}} open={open}>\r\n            {/* <ListItem><Avatar alt=\"Logo\" src=\"logo.png\" /></ListItem> */}\r\n            <ListItem button container dense={true} alignItemsFlexStart >\r\n                <ListItemAvatar>\r\n                    <Avatar>\r\n                        <BusinessIcon color=\"primary\" />\r\n                    </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary=\"Companies\" />\r\n            </ListItem>\r\n            <Divider />\r\n            <ButtonList {...{type: \"Company\"}} />\r\n            {expandButton(classes, open, setOpen)} \r\n        </Drawer>\r\n    )\r\n}; \r\n\r\nexport function WorkspaceDrawer(props) {\r\n    const classes = props.classes;\r\n    const key = props.key;\r\n    const [open, setOpen] = React.useState(false); //Controls whether the workspace panel is expanded\r\n\r\n    return(\r\n        <Drawer id={key} variant=\"permanent\" classes={{paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),}} open={open}>\r\n            {/* <ListItem style={{height:56}}> */}\r\n            <ListItem button container dense={true} alignItemsFlexStart >\r\n                <ListItemAvatar>\r\n                    <Avatar>\r\n                        <ChromeReaderModeIcon color=\"primary\" />\r\n                    </Avatar>\r\n                </ListItemAvatar>\r\n                <ListItemText primary=\"Workspaces\" />\r\n            </ListItem>\r\n            <Divider />\r\n            <ButtonList {...{type: \"Workspace\"}} />\r\n            {expandButton(classes, open, setOpen)}  \r\n        </Drawer>\r\n    )\r\n}; \r\n\r\n","import React, { useEffect } from \"react\";\r\nimport axios from 'axios';\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport ExpandLess from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport DashboardIcon from \"@material-ui/icons/Dashboard\";\r\nimport ListIcon from \"@material-ui/icons/ListAltRounded\";\r\nimport CalendarTodayOutlinedIcon from \"@material-ui/icons/CalendarTodayOutlined\";\r\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\r\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\r\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\r\n\r\nimport ChatIcon from \"@material-ui/icons/SpeakerNotes\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport PrivateChatIcon from \"@material-ui/icons/Sms\";\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport MicIcon from \"@material-ui/icons/Mic\";\r\nimport VideoChatIcon from \"@material-ui/icons/VoiceChat\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport store from \"../../../../store\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  nested: {\r\n    paddingLeft: theme.spacing(4),\r\n  },\r\n  selectedButton: {\r\n    borderRightStyle: \"solid\",\r\n    borderRightWidth: \"5px\",\r\n    borderRightColor: \"#725bda\",\r\n    backgroundColor: \"#36393f\",\r\n  },\r\n}));\r\n\r\nfunction WorkspaceButtonList() {\r\n  const classes = useStyles();\r\n  //Below just stores all workspace data as per Backend response\r\n  const workspaceData = useSelector((state) => state.allSelectedWorkspaceData);\r\n\r\n  const selectedPanel = useSelector((state) => state.selectedPanel);\r\n  const [plannerOpen, setPlannerOpen] = React.useState(true);\r\n  const [chatOpen, setChatOpen] = React.useState(false);\r\n  const [privateChatOpen, setPrivateChatOpen] = React.useState(false);\r\n  const [voiceOpen, setVoiceOpen] = React.useState(false);\r\n  const [videoOpen, setVideoOpen] = React.useState(false);\r\n  const [group_chats_names, setGroupChatsNames] = React.useState([]);\r\n  const [private_chats_names, setPrivateChatsNames] = React.useState([]);\r\n\r\n  useEffect( () => {\r\n    loadGroupChats() \r\n    loadPrivateChats()\r\n    setChatOpen(false)\r\n    setPrivateChatOpen(false)\r\n  }, [store.getState().selectedWorkspace, store.getState().selectedCompany, store.getState().allSelectedWorkspaceData])\r\n\r\n  const handleClick = (e) => {\r\n    if (e.currentTarget.id === \"Planner\") {\r\n      setPlannerOpen(!plannerOpen);\r\n    } else if (e.currentTarget.id === \"Group Chats\") {\r\n      setChatOpen(!chatOpen);\r\n    } else if (e.currentTarget.id === \"Private Chats\") {\r\n      setPrivateChatOpen(!privateChatOpen);\r\n    } else if (e.currentTarget.id === \"Voice Chats\") {\r\n      setVoiceOpen(!voiceOpen);\r\n    } else if (e.currentTarget.id === \"Video Chats\") {\r\n      setVideoOpen(!videoOpen);\r\n    }\r\n  };\r\n  \r\n  //Loads the data for group chats\r\n  const loadGroupChats = async () => {\r\n    await setGroupChatsNames([])\r\n    \r\n    if(workspaceData.group_chats !== undefined){ //Checks if the groupchats were loaded in\r\n      if(workspaceData.group_chats.length > 0){ //Checks if there are any groupchats for the workspace\r\n        var group_list = []\r\n        workspaceData.group_chats.map((group_chat) => (\r\n          group_list.push({title: group_chat.title, _id: group_chat._id}) //Adds each groupchat with title and id to be used for the group button (NOTE: _id is stored the groupchat icon)\r\n        ))\r\n        setGroupChatsNames(group_list)\r\n      }\r\n    }\r\n  };\r\n\r\n  //Loads the data for private chats\r\n  const loadPrivateChats = async () => {\r\n    await setPrivateChatsNames([])\r\n\r\n    if(workspaceData.private_chats !== undefined){ //Checks if the private chatswere loaded in\r\n      if(workspaceData.private_chats.length > 0){ //Checks if there are any private chats for the workspace\r\n        let private_list = []\r\n        \r\n        await workspaceData.private_chats.map(async(private_chat) => {\r\n          let name = await getPrivateUserName(private_chat.user1)\r\n          \r\n          private_list.push({\r\n            title: name, \r\n            _id: private_chat._id\r\n          }) //Adds each private chat with title and id to be used for the group button (NOTE: _id is stored the groupchat icon)\r\n        })\r\n        setPrivateChatsNames(private_list)\r\n      }\r\n    }\r\n  };\r\n\r\n  const getPrivateUserName = async (userId) =>{\r\n    let name\r\n\r\n    await axios.get(`/users/${userId}`)\r\n    .then(res=>{ \r\n      name = res.data.data.name\r\n    })\r\n\r\n    return(name) \r\n  };\r\n\r\n  const handleSelected = async (e) => {\r\n    store.dispatch({\r\n      type: \"SELECTED_PANEL\",\r\n      data: { \r\n        selectedPanel:{\r\n          id: e.currentTarget.id,\r\n          name: e.currentTarget.textContent\r\n        } \r\n      },\r\n    });\r\n\r\n    if(e.currentTarget.id !== \"Charts\"){\r\n      store.dispatch({ type: 'CHART_CATEGOREY_CHANGED', data: { chartCategory: \"\" }})\r\n    }\r\n  };\r\n\r\n  const loadButtonContent = (name, id, icon, selectedClass) => {\r\n    return (\r\n      <ListItem\r\n        button\r\n        className={selectedClass}\r\n        onClick={handleSelected}\r\n        id={id}\r\n      >\r\n        <ListItemIcon>{icon}</ListItemIcon>\r\n        <ListItemText primary={name} />\r\n      </ListItem>\r\n    );\r\n  };\r\n\r\n  const loadButton = (name, id, icon, isNested) => {\r\n    var button;\r\n    var buttonClasses = [];\r\n\r\n    if (isNested) {\r\n      buttonClasses.push(classes.nested);\r\n    }\r\n\r\n    if (selectedPanel.id === id) {\r\n      buttonClasses.push(classes.selectedButton);\r\n      button = loadButtonContent(name, id, icon, buttonClasses);\r\n    } else {\r\n      button = loadButtonContent(name, id, icon, buttonClasses);\r\n    }\r\n\r\n    return button;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ListItem id=\"Planner\" button onClick={handleClick}>\r\n        <ListItemIcon>\r\n          <DashboardIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Planner\" />\r\n        {plannerOpen ? <ExpandLess /> : <ExpandMore />}\r\n      </ListItem>\r\n\r\n      <Collapse in={plannerOpen} timeout=\"auto\" unmountOnExit>\r\n        <List component=\"div\" disablePadding>\r\n          {loadButton(\"Calendar\", \"Calendar\", <CalendarTodayOutlinedIcon />, true)}\r\n\r\n          {loadButton(\"Charts\", \"Charts\", <DonutLargeIcon />, true)}\r\n\r\n          {loadButton(\"Tasks\", \"Tasks\", <ListIcon />, true)}\r\n        </List>\r\n      </Collapse>\r\n\r\n      {/* {loadButton(\"General\", <AssignmentIcon />, false)} */}\r\n\r\n      {loadButton(\"Announcements\", \"Announcements\", <AnnouncementIcon />, false)}\r\n\r\n      <ListItem id=\"Group Chats\" button onClick={handleClick}>\r\n        <ListItemIcon>\r\n          <ChatIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary={ \r\n          workspaceData !== undefined ? \r\n            workspaceData.group_chats !== undefined ? \r\n              \"Group Chats (\" + workspaceData.group_chats.length + \")\" \r\n              : \r\n              \"Group Chats (...)\"\r\n            :\r\n            \"Group Chats (...)\"\r\n          } \r\n        />\r\n        {chatOpen ? <ExpandLess /> : <ExpandMore />}\r\n      </ListItem>\r\n\r\n      <Collapse id=\"group_chats\" in={chatOpen} timeout=\"auto\" unmountOnExit>\r\n        {workspaceData !== undefined && (group_chats_names !== undefined || group_chats_names !== []) ? //Check if there are any groupchats to load\r\n          group_chats_names.map((group_chat, index) => (\r\n            loadButton(group_chat.title, group_chat._id, <GroupIcon id={group_chat._id}/>, true)) //LoadButton needs three bits of data (1. Button text, 2. Button Icon, 3. Boolean for whether the button is nested inside the list)\r\n          )\r\n          :\r\n          null\r\n        }\r\n      </Collapse>\r\n\r\n      <ListItem id=\"Private Chats\" button onClick={handleClick}>\r\n        <ListItemIcon>\r\n          <PrivateChatIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary={\r\n          workspaceData !== undefined ? \r\n            workspaceData.private_chats !== undefined ?\r\n              \"Private Chats (\" + workspaceData.private_chats.length + \")\"\r\n              :\r\n              \"Private Chats (...)\"\r\n            :\r\n            \"Private Chats (...)\"\r\n        } \r\n        />\r\n        {privateChatOpen ? <ExpandLess /> : <ExpandMore />}\r\n      </ListItem>\r\n\r\n      <Collapse id=\"private_chats\" in={privateChatOpen} timeout=\"auto\" unmountOnExit>\r\n        {workspaceData !== undefined && (private_chats_names !== undefined || private_chats_names !== []) ? //Check if there are any groupchats to load\r\n          private_chats_names.map((private_chat, index) => (\r\n              loadButton(private_chat.title, private_chat._id, <PersonIcon id={private_chat._id}/>, true)) //LoadButton needs three bits of data (1. Button text, 2. Button Icon, 3. Boolean for whether the button is nested inside the list)\r\n            )\r\n            :\r\n            null\r\n        }\r\n      </Collapse>\r\n\r\n      {/* <ListItem button onClick={handleClick}>\r\n        <ListItemIcon>\r\n          <MicIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Voice Chats\" />\r\n        {voiceOpen ? <ExpandLess /> : <ExpandMore />}\r\n      </ListItem>\r\n\r\n      <Collapse in={voiceOpen} timeout=\"auto\" unmountOnExit>\r\n        {loadButton(workspaceID, <GroupIcon />, true)}\r\n      </Collapse>\r\n\r\n      <ListItem button onClick={handleClick}>\r\n        <ListItemIcon>\r\n          <VideoChatIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Video Chats\" />\r\n        {videoOpen ? <ExpandLess /> : <ExpandMore />}\r\n      </ListItem>\r\n\r\n      <Collapse in={videoOpen} timeout=\"auto\" unmountOnExit>\r\n        {loadButton(workspaceID, <GroupIcon />, true)} */}\r\n      {/* </Collapse> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    selectedCompany: state.selectedCompany,\r\n    companies: state.companies,\r\n    workspaces: state.workspaces,\r\n    selectedWorkspace: state.selectedWorkspace,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    dispatch,\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(WorkspaceButtonList);\r\n","import React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport '../../../auth/Auth.css';\r\n\r\nimport axios from 'axios' \r\nimport store from './../../../../store/index'\r\nimport { connect } from 'react-redux';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nclass EditUser extends Component\r\n{\r\n    constructor(){\r\n        super()\r\n        this.state = {\r\n            name: \"\",\r\n            email: \"\",\r\n            current_password: \"\",\r\n            new_password: \"\",\r\n            confirm_password: \"\",\r\n            delete_name: \"\"\r\n        }\r\n        this.handleChange = this.handleChange.bind(this)\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value \r\n        })\r\n        \r\n    }\r\n\r\n    handleClick = () => {\r\n        if(this.state.new_password.length < 8){\r\n            ReactDOM.render(\"New password requires minimum of 8 characters\", document.getElementById('error-display'))\r\n        }else if(this.state.new_password !== this.state.confirm_password){\r\n            ReactDOM.render(\"Passwords do not match\", document.getElementById('error-display'))\r\n        }else if(this.state.current_password === this.state.new_password){\r\n            ReactDOM.render(\"New password cannot be same as the current password\", document.getElementById('error-display'))\r\n        }else{\r\n            const userData = {\r\n                email: this.state.email,\r\n                current_password: this.state.current_password,\r\n                new_password: this.state.new_password\r\n            }\r\n            axios.patch(`/users/${store.getState().user._id}`,userData)\r\n            .then(res => {\r\n                if(res.data.status === \"success\"){\r\n                    console.log(res.data.data)\r\n                    axios('/users/logout')\r\n                    .then(res => {\r\n                        window.location.href = \"/\"\r\n                        window.alert(\"Password changed successfully.\\nPlease log back in again\")\r\n                    })\r\n                }\r\n\r\n            }).catch(err => {\r\n                ReactDOM.render(\"Credentials provided for the account is invalid\", document.getElementById('error-display'))\r\n            })\r\n        }\r\n       \r\n    }\r\n   \r\n\r\n    render() {\r\n        \r\n        return(\r\n            <div className={this.props.classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\" color=\"inherit\" noWrap>Account Details</Typography>\r\n                <Divider />\r\n                <div><h6 id= \"error-display\" style = {{color: \"#c91714\"}}></h6></div>\r\n                <Grid container >\r\n                    <Grid container item xs={12} md={12} lg={12}>\r\n                        <TextField id=\"email\" label=\"Email\" onChange = {this.handleChange}/>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={8} lg={9}>\r\n                        <TextField id=\"current_password\" label=\"Current Password\" onChange = {this.handleChange}/>\r\n                        <TextField type= \"password\" id=\"new_password\" label=\"New Password\" onChange = {this.handleChange}/>\r\n                        <TextField type= \"password\" id=\"confirm_password\" label=\"Confirm Password\" onChange = {this.handleChange}/>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={8} lg={9}>\r\n                        <Button onClick= {this.handleClick} variant=\"contained\" color=\"secondary\">Confirm</Button>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} md={8} lg={9} className=\"valign-wrapper\">\r\n                        <Divider style={{marginTop:20, marginBottom:20}}/>\r\n                        <TextField id=\"standard-basic\" label=\"NAME\" />\r\n                        {this.state.delete_name === store.getState().user.name ?\r\n                        <Button variant=\"contained\" style={{backgroundColor:\"#af0000\", color:\"#ffffff\"}}>Delete Account</Button>\r\n                        :\r\n                        <Button disabled variant=\"contained\" style={{ color:\"#ffffff\"}}>Delete Account</Button>\r\n                        }\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        )\r\n\r\n       \r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        selectedCompany: state.selectedCompany, \r\n        companies: state.companies, \r\n        workspaces: state.workspaces, \r\n        selectedWorkspace: state.selectedWorkspace, \r\n        taskCollectionIDs: state.taskCollectionIDs, \r\n        workspaceTaskCollections: state.workspaceTaskCollections\r\n    }\r\n}\r\n      \r\nconst mapDispatchToProps = dispatch => {\r\n    return { dispatch }\r\n}\r\n      \r\nexport default connect(mapStateToProps, mapDispatchToProps)(EditUser)","import React, { Component } from \"react\";\r\nimport '../../../auth/Auth.css';\r\n\r\nimport { connect } from 'react-redux';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport EditUserForm from './editUserForm'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      borderRadius: 10,\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n    },\r\n  }));\r\n  \r\nfunction EditUserModal() {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n  \r\n    const handleOpen = () => {\r\n      setOpen(true);\r\n    };\r\n  \r\n    const handleClose = () => {\r\n      setOpen(false);\r\n    };\r\n  \r\n    return (\r\n      <div>\r\n        <IconButton onClick={handleOpen} aria-label=\"settings\">\r\n            <SettingsIcon />\r\n        </IconButton>\r\n        <Modal\r\n          aria-labelledby=\"transition-modal-title\"\r\n          aria-describedby=\"transition-modal-description\"\r\n          className={classes.modal}\r\n          open={open}\r\n          onClose={handleClose}\r\n          closeAfterTransition\r\n          BackdropComponent={Backdrop}\r\n          BackdropProps={{\r\n            timeout: 500,\r\n          }}\r\n        >\r\n          <Fade in={open}>\r\n            <EditUserForm classes = {classes} /> \r\n          </Fade>\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n\r\nconst mapStateToProps = state => {\r\n    return {selectedCompany: state.selectedCompany, companies: state.companies, workspaces: state.workspaces, selectedWorkspace: state.selectedWorkspace, user: state.user}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(EditUserModal)","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Input from '@material-ui/core/Input';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, KeyboardDatePicker} from '@material-ui/pickers';\r\n\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\n\r\nimport { getCompanies, checkIfAdmin } from '../../../DataLoading.js';\r\n\r\n\r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 8;\r\n\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },   \r\n    button: {\r\n        backgroundColor: '#757575'\r\n    }\r\n  }));\r\n\r\n  \r\n  const LeaveChatModal = ( { } ) => {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const [users, setUsers] = React.useState([]);\r\n    const [addTaskOpen, setAddTaskOpen] = React.useState(false); //Add task modal\r\n    const [newTask, setNewTask] = useState({})\r\n    const [selectedCreationDate, setSelectedCreationDate] = React.useState(new Date(Date.now()));\r\n    const [selectedDueDate, setSelectedDueDate] = React.useState(null);\r\n    const [personName, setPersonName] = React.useState([]);\r\n\r\n    const handleOpen = () => {\r\n        if(document.getElementById('group_chats').childNodes[0].childNodes[0].childNodes.length > 0){\r\n            console.log(document.getElementById('group_chats').childNodes[0].childNodes[0].childNodes)\r\n        }\r\n\r\n        if(document.getElementById('private_chats').childNodes[0].childNodes[0].childNodes.length > 0){ //Check there are chats\r\n            for(var i in document.getElementById('private_chats').childNodes[0].childNodes[0].childNodes){ //Loop through chats\r\n                if(document.getElementById('private_chats').childNodes[0].childNodes[0].childNodes[i].nodeName === \"DIV\"){ //Check that the element is a div node and not a function\r\n                    console.log(document.getElementById('private_chats').childNodes[0].childNodes[0].childNodes[i])\r\n                }\r\n            }\r\n\r\n        }\r\n        \r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    /* TASK FUNCTIONS */\r\n    function deleteTask(){\r\n        //Delete task in database\r\n        axios.delete(`/todo/`, )\r\n\r\n        //Remove task element\r\n\r\n        //Close delete task modal \r\n\r\n        //Close edit task modal\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                startIcon={<ExitToAppIcon color=\"primary\" />}\r\n                onClick={e => handleOpen()}\r\n            >\r\n                Leave Chat\r\n            </Button>\r\n            \r\n            <Modal \r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            className={classes.modal}\r\n            open={open}\r\n            onClose={handleClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{timeout: 500}}\r\n            >\r\n            <Fade in={open}>\r\n                <Grid container xs={4} className={classes.paper}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h6\" align=\"center\">Are you sure you want to delete chat</Typography>\r\n                    </Grid>\r\n    \r\n                    <Grid item xs={12} align=\"center\">\r\n                        <Button onClick={deleteTask}>Ok</Button> {/*addTask(document.getElementById(\"new_task_title\"))  */}\r\n                        <Button onClick={handleClose}>Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Fade>\r\n    </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      user: state.user, \r\n      selectedPanel: state.selectedPanel, \r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(LeaveChatModal)\r\n  \r\n  ","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { getWorkspaces, getAllWorkspaceSpecificData } from '../../../DataLoading.js';\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },   \r\n    button: {\r\n        backgroundColor: '#757575'\r\n    }\r\n  }));\r\n\r\n  \r\nconst DeleteChatModal = ( { } ) => {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const [chatId, setChatId] = React.useState(\"\");\r\n    const [element, setElement] = React.useState(null);\r\n\r\n    const handleOpen = () => {       \r\n        findElement('group_chats')\r\n        findElement('private_chats')\r\n\r\n        setOpen(true);\r\n    };\r\n\r\n    const findElement = (elementID) => {\r\n        if(document.getElementById(elementID).childNodes[0].childNodes[0].childNodes.length > 0){ //Check there are chats\r\n            for(var i in document.getElementById(elementID).childNodes[0].childNodes[0].childNodes){ //Loop through chats\r\n                if(document.getElementById(elementID).childNodes[0].childNodes[0].childNodes[i].nodeName === \"DIV\" && //Check that the element is a div node and not a function\r\n                document.getElementById(elementID).childNodes[0].childNodes[0].childNodes[i].className === \"MuiButtonBase-root MuiListItem-root makeStyles-nested-260 makeStyles-selectedButton-261 MuiListItem-gutters MuiListItem-button\"){ //Check that the element is a div node and not a function\r\n                    setChatId(document.getElementById(elementID).childNodes[0].childNodes[0].childNodes[i].childNodes[0].childNodes[0].id)\r\n                    setElement(document.getElementById(elementID).childNodes[0].childNodes[0].childNodes[i])\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const a = (list) => {\r\n        let b = []\r\n        for(var i in list){\r\n            if(chatId !== list[i]._id){\r\n                b.push(list[i])    \r\n            }\r\n        }\r\n        return(b)\r\n    }\r\n\r\n    /* TASK FUNCTIONS */\r\n    const deleteChat = async () =>{\r\n        //Delete chat in database\r\n        let workspaceData = store.getState().allSelectedWorkspaceData \r\n        let group_chats = []\r\n        let private_chats = []\r\n\r\n        workspaceData.group_chats = await a(workspaceData.group_chats)\r\n        workspaceData.private_chats = await a(workspaceData.private_chats)\r\n\r\n        await store.dispatch({ type: 'ALL_WORKSPACE_DATA', data: { workspaceData: workspaceData } });\r\n        await element.remove()\r\n        await setElement(null)\r\n\r\n        console.log(\"chats\", group_chats, private_chats)\r\n        if(group_chats.length > 0){\r\n            axios.delete(`/groupchat/`, {\r\n                params:{\r\n                    group_id: chatId\r\n                }\r\n            })\r\n        }\r\n        else if(private_chats.length > 0){\r\n            axios.delete(`/privatechat/`, {\r\n                params:{\r\n                    private_id: chatId\r\n                }\r\n            })            \r\n        }\r\n        \r\n        store.dispatch({ type: 'SELECTED_PANEL', data: { selectedPanel: {id: \"Calendar\", name: \"Calendar\"} } });\r\n        // getWorkspaces(store.getState().selectedWorkspace)\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                startIcon={<DeleteIcon style={{color: \"#af0000\"}} />}\r\n                onClick={e => handleOpen()}\r\n            >\r\n                Delete Chat\r\n            </Button>\r\n            \r\n            <Modal \r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            className={classes.modal}\r\n            open={open}\r\n            onClose={handleClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{timeout: 500}}\r\n            >\r\n            <Fade in={open}>\r\n                <Grid container xs={4} className={classes.paper}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h6\" align=\"center\">Are you sure you want to delete chat</Typography>\r\n                    </Grid>\r\n    \r\n                    <Grid item xs={12} align=\"center\">\r\n                        <Button onClick={deleteChat}>Ok</Button> {/*addTask(document.getElementById(\"new_task_title\"))  */}\r\n                        <Button onClick={handleClose}>Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Fade>\r\n    </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      user: state.user, \r\n      selectedPanel: state.selectedPanel, \r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(DeleteChatModal)\r\n  \r\n  ","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { getAllWorkspaceSpecificData } from '../../../DataLoading.js';\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\nPaperProps: {\r\n    style: {\r\n    maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n    width: 250,\r\n    },\r\n},\r\n};\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },   \r\n  }));\r\n  \r\n  const AddGroupChatModal = ( { openAddGroupChat, setOpenGroupChat } ) => {\r\n    const classes = useStyles();\r\n    const [name, setName] = React.useState(\"\");\r\n    const [users, setUsers] = React.useState([]);\r\n    const [selectedUsers, setSelectedUsers] = React.useState([]);\r\n\r\n    useEffect(() => {       \r\n        if(store.getState().allSelectedWorkspaceData !== undefined && store.getState().allSelectedWorkspaceData !== {} && openAddGroupChat){\r\n            setUsers([])\r\n            setSelectedUsers([])\r\n\r\n            if(store.getState().allSelectedWorkspaceData.users !== undefined && store.getState().allSelectedWorkspaceData.users.length > 0){\r\n                loadUsers()     \r\n            }\r\n        }\r\n    }, [openAddGroupChat] );\r\n    \r\n    const loadUsers = async () => {\r\n        let loadedUsers = []\r\n        \r\n        for(var i in store.getState().allSelectedWorkspaceData.users){\r\n            await axios.get(`/users/${store.getState().allSelectedWorkspaceData.users[i]}`, {\r\n                params: {\r\n                    id : store.getState().allSelectedWorkspaceData.users[i]\r\n                } \r\n            })\r\n            .then(res => {\r\n                loadedUsers.push({\r\n                    id: res.data.data._id,\r\n                    name: res.data.data.name,\r\n                    email: res.data.data.email\r\n                })\r\n            })\r\n\r\n        }\r\n        setUsers(loadedUsers)\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        setSelectedUsers(event.target.value);\r\n    };\r\n\r\n    const handleChangeMultiple = (event) => {\r\n        const { options } = event.target;\r\n        const value = [];\r\n        for (let i = 0, l = options.length; i < l; i += 1) {\r\n          if (options[i].selected) {\r\n            value.push(options[i].value);\r\n          }\r\n        }\r\n        setSelectedUsers(value);\r\n      };\r\n    \r\n    const handleClose = () => {\r\n        setOpenGroupChat(false)\r\n    };\r\n\r\n    /* TASK FUNCTIONS */\r\n    function addGroupChat(){\r\n        if(name !== \"\"){                \r\n            let user_ids= []\r\n            for(var i in selectedUsers){\r\n                user_ids.push(selectedUsers[i].id)\r\n            }\r\n            \r\n            //Add chat in database\r\n            axios.post(`/groupchat/`, {\r\n                workspaceid : store.getState().selectedWorkspace,\r\n                users: user_ids,\r\n                name: name\r\n            })\r\n            .then(res => {\r\n                getAllWorkspaceSpecificData(store.getState().selectedWorkspace)\r\n            })\r\n            \r\n            //Close modal\r\n            handleClose()\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Modal \r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            className={classes.modal}\r\n            open={openAddGroupChat}\r\n            onClose={handleClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{timeout: 500}}\r\n            >\r\n            <Fade in={openAddGroupChat}>\r\n                <Grid container xs={4} className={classes.paper}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h6\" align=\"center\">New Group</Typography>\r\n                        <Divider/>\r\n                    </Grid>\r\n\r\n                    {/* Name */}\r\n                    <Grid item xs={12} style={{marginTop:10}}>\r\n                        <TextField style={{width:\"100%\"}} id=\"add_group_chat_name\" size=\"small\" label=\"Group Name\" variant=\"outlined\" color=\"secondary\" onChange={e => setName(e.currentTarget.value)} />\r\n                    </Grid>\r\n\r\n                    {/* Users */}\r\n                    <Grid item xs={12} style={{marginTop:10}}>\r\n                        <FormControl item className={classes.formControl} style={{marginTop:10,  width:\"100%\"}}>\r\n                            <InputLabel id=\"chip-label\">Assigned Users</InputLabel>\r\n                            <Select\r\n                                style={{ width:\"100%\"}}\r\n                                labelId=\"chip-label\"\r\n                                id=\"demo-mutiple-chip\"\r\n                                multiple\r\n                                value={selectedUsers}\r\n                                onChange={handleChange}\r\n                                input={<Input id=\"select-multiple-chip\" />}\r\n                                renderValue={(selected) => (\r\n                                    <div className={classes.chips}>\r\n                                    {selected.map((value) => (\r\n                                        <Chip key={value.id} label={value.name} className={classes.chip} />\r\n                                    ))}\r\n                                    </div>\r\n                                )}\r\n                                MenuProps={MenuProps}\r\n                                >\r\n                                    {users.map((user, index) => (\r\n                                        <MenuItem value={user} key={index}>{user.name + '(' + user.email + ')'}</MenuItem>\r\n                                        )\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} align=\"center\">\r\n                        <Divider/>\r\n                        <Button onClick={addGroupChat}>Ok</Button> {/*addTask(document.getElementById(\"new_task_title\"))  */}\r\n                        <Button onClick={handleClose}>Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Fade>\r\n    </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      user: state.user, \r\n      selectedPanel: state.selectedPanel, \r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(AddGroupChatModal)\r\n  \r\n  ","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { getAllWorkspaceSpecificData } from '../../../DataLoading.js';\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nconst MenuProps = {\r\nPaperProps: {\r\n    style: {\r\n    maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n    width: 250,\r\n    },\r\n},\r\n};\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n        marginTop: theme.spacing(2),\r\n    },\r\n  }));\r\n  \r\n  const AddPrivateChatModal = ( { openAddPrivateChat, setOpenPrivateChat } ) => {\r\n    const classes = useStyles();\r\n    const [users, setUsers] = React.useState([]);\r\n    const [selectedUser, setSelectedUser] = React.useState({});\r\n\r\n    useEffect(() => {       \r\n        if(store.getState().allSelectedWorkspaceData !== undefined && store.getState().allSelectedWorkspaceData !== {} && openAddPrivateChat){\r\n            setUsers([])\r\n            setSelectedUser({})\r\n\r\n            if(store.getState().allSelectedWorkspaceData.users !== undefined && store.getState().allSelectedWorkspaceData.users.length > 0){\r\n                loadUsers()     \r\n            }\r\n        }\r\n    }, [openAddPrivateChat] );\r\n    \r\n    const loadUsers = async () => {\r\n        let loadedUsers = []\r\n        \r\n        for(var i in store.getState().allSelectedWorkspaceData.users){\r\n            await axios.get(`/users/${store.getState().allSelectedWorkspaceData.users[i]}`, {\r\n                params: {\r\n                    id : store.getState().allSelectedWorkspaceData.users[i]\r\n                } \r\n            })\r\n            .then(res => {\r\n                console.log(res.data.data._id, store.getState().allSelected)\r\n                \r\n                if(res.data.data._id !== store.getState().user._id){\r\n                    loadedUsers.push({\r\n                        id: res.data.data._id,\r\n                        name: res.data.data.name,\r\n                        email: res.data.data.email\r\n                    })\r\n                }\r\n            })\r\n        }\r\n        setUsers(loadedUsers)\r\n    }\r\n\r\n    const handleChange = (event) => {\r\n        setSelectedUser(event.target.value);\r\n    };\r\n    \r\n    const handleClose = () => {\r\n        setOpenPrivateChat(false)\r\n    };\r\n\r\n    function addPrivateChat(){\r\n        if(selectedUser !== {}){                \r\n            //Add chat in database\r\n            axios.post(`/privatechat/`, {\r\n                workspaceid : store.getState().selectedWorkspace,\r\n                oppositeid: selectedUser.id,\r\n            })\r\n            .then(res => {\r\n                getAllWorkspaceSpecificData(store.getState().selectedWorkspace)\r\n            })\r\n            \r\n            //Close modal\r\n            handleClose()\r\n        }\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Modal \r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            className={classes.modal}\r\n            open={openAddPrivateChat}\r\n            onClose={handleClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{timeout: 500}}\r\n            >\r\n            <Fade in={openAddPrivateChat}>\r\n                <Grid container xs={4} className={classes.paper}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h6\" align=\"center\">New Private Chat</Typography>\r\n                        <Divider/>\r\n                    </Grid>\r\n\r\n                    {/* Users */}\r\n                    <Grid item xs={12} style={{marginTop:10}}>\r\n                        <FormControl className={classes.formControl} item style={{marginTop:10,  width:\"100%\"}}>\r\n                            <InputLabel id=\"demo-simple-select-label\">User To Add</InputLabel>\r\n                            <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            value={selectedUser}\r\n                            onChange={handleChange}\r\n                            >\r\n                                {users.map((user, index) => (\r\n                                    <MenuItem value={user} key={index}>{user.name + '(' + user.email + ')'}</MenuItem>\r\n                                    )\r\n                                )}\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12} align=\"center\">\r\n                        <Divider/>\r\n                        <Button onClick={addPrivateChat}>Ok</Button> {/*addTask(document.getElementById(\"new_task_title\"))  */}\r\n                        <Button onClick={handleClose}>Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Fade>\r\n    </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      user: state.user, \r\n      selectedPanel: state.selectedPanel, \r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(AddPrivateChatModal)\r\n  \r\n  ","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Input from '@material-ui/core/Input';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, KeyboardDatePicker} from '@material-ui/pickers';\r\n\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\n\r\nimport { getCompanies, checkIfAdmin } from '../../../DataLoading.js';\r\n\r\n\r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 8;\r\n\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 4, 3),\r\n    },   \r\n    button: {\r\n        backgroundColor: '#757575'\r\n    }\r\n  }));\r\n\r\n  \r\n  const EditChatModal = ( { } ) => {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(false);\r\n    const [users, setUsers] = React.useState([]);\r\n    const [addTaskOpen, setAddTaskOpen] = React.useState(false); //Add task modal\r\n    const [newTask, setNewTask] = useState({})\r\n    const [selectedCreationDate, setSelectedCreationDate] = React.useState(new Date(Date.now()));\r\n    const [selectedDueDate, setSelectedDueDate] = React.useState(null);\r\n    const [personName, setPersonName] = React.useState([]);\r\n\r\n    const handleOpen = () => {\r\n        if(document.getElementById('group_chats').childNodes[0].childNodes[0].childNodes.length > 0){\r\n            console.log(document.getElementById('group_chats').childNodes[0].childNodes[0].childNodes)\r\n        }\r\n\r\n        if(document.getElementById('private_chats').childNodes[0].childNodes[0].childNodes.length > 0){ //Check there are chats\r\n            for(var i in document.getElementById('private_chats').childNodes[0].childNodes[0].childNodes){ //Loop through chats\r\n                if(document.getElementById('private_chats').childNodes[0].childNodes[0].childNodes[i].nodeName === \"DIV\"){ //Check that the element is a div node and not a function\r\n                    console.log(document.getElementById('private_chats').childNodes[0].childNodes[0].childNodes[i])\r\n                }\r\n            }\r\n\r\n        }\r\n        \r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    /* TASK FUNCTIONS */\r\n    function deleteTask(){\r\n        //Delete task in database\r\n        axios.delete(`/todo/`, )\r\n\r\n        //Remove task element\r\n\r\n        //Close delete task modal \r\n\r\n        //Close edit task modal\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <Button\r\n                variant=\"contained\"\r\n                className={classes.button}\r\n                startIcon={<SettingsIcon color=\"primary\" />}\r\n                onClick={e => handleOpen()}\r\n            >\r\n                Edit Chat\r\n            </Button>\r\n            \r\n            <Modal \r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            className={classes.modal}\r\n            open={open}\r\n            onClose={handleClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{timeout: 500}}\r\n            >\r\n            <Fade in={open}>\r\n                <Grid container xs={4} className={classes.paper}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h6\" align=\"center\">Are you sure you want to delete chat</Typography>\r\n                    </Grid>\r\n    \r\n                    <Grid item xs={12}>\r\n                        <Button onClick={deleteTask}>Ok</Button> {/*addTask(document.getElementById(\"new_task_title\"))  */}\r\n                        <Button onClick={handleClose}>Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Fade>\r\n    </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      user: state.user, \r\n      selectedPanel: state.selectedPanel, \r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(EditChatModal)\r\n  \r\n  ","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport SupervisorAccountIcon from '@material-ui/icons/SupervisorAccount';\nimport MeetingRoom from '@material-ui/icons/MeetingRoom';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nconst StyledMenu = withStyles({\n  paper: {\n   \n  },\n})((props) => (\n  <Menu\n    elevation={0}\n    getContentAnchorEl={null}\n    anchorOrigin={{\n      vertical: 'bottom',\n      horizontal: 'center',\n    }}\n    transformOrigin={{\n      vertical: 'top',\n      horizontal: 'center',\n    }}\n    {...props}\n  />\n));\n\nconst StyledMenuItem = withStyles((theme) => ({\n  root: {\n    '&:focus': {\n      backgroundColor: theme.palette.primary.main,\n      '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\n        color: theme.palette.common.white,\n      },\n    },\n  },\n}))(MenuItem);\n\nexport default function WorkspaceMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  return (\n    <div>\n      <Button\n        aria-controls=\"customized-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n      >\n        <MoreVertIcon />\n      </Button>\n      <StyledMenu\n        id=\"customized-menu\"\n        anchorEl={anchorEl}\n        keepMounted\n        open={Boolean(anchorEl)}\n        onClose={handleClose}\n      >\n        <StyledMenuItem onClick={handleClose} >\n          <ListItemIcon>\n            <SupervisorAccountIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Manage Users\" />\n        </StyledMenuItem>\n        <StyledMenuItem onClick={handleClose}>\n          <ListItemIcon>\n            <MeetingRoom fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Leave Workspace\" />\n        </StyledMenuItem>\n        <StyledMenuItem onClick={handleClose}>\n          <ListItemIcon>\n            <ExitToAppIcon fontSize=\"small\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Logout\" />\n        </StyledMenuItem>\n      </StyledMenu>\n    </div>\n  );\n}","import React, { useState, useEffect } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport store from '../../../store';\r\nimport axios from 'axios';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Select from '@material-ui/core/Select';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\r\nimport HighlightOff from '@material-ui/icons/HighlightOff';\r\nimport Sync from '@material-ui/icons/Sync';\r\n\r\nimport { getTaskCollections } from '../DataLoading.js';\r\n\r\nimport Timeline from 'react-calendar-timeline/lib';\r\n// make sure you include the timeline stylesheet or the timeline will not be styled\r\nimport './calendar.css';\r\n// import 'react-calendar-timeline/lib/Timeline.css'\r\n// import { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport moment from 'moment';\r\n// import \"react-big-calendar/lib/css/react-big-calendar.css\";\r\n\r\nimport GSTC from \"react-gantt-schedule-timeline-calendar\";\r\n\r\nmoment.locale(\"en-GB\");\r\n// const localizer = momentLocalizer(moment);\r\n\r\n\r\n\r\nconst groups = [{id:1, title:\"tes\"}, {id:2,title:\"test2\"}]\r\n\r\nconst items = [\r\n  {\r\n    id: 1,\r\n    group: 1,\r\n    title: 'item 1',\r\n    start_time: moment(),\r\n    end_time: moment().add(1, 'hour')\r\n  },\r\n  {\r\n    id: 2,\r\n    group: 2,\r\n    title: 'item 2',\r\n    start_time: moment().add(-0.5, 'hour'),\r\n    end_time: moment().add(0.5, 'hour')\r\n  },\r\n  {\r\n    id: 3,\r\n    group: 1,\r\n    title: 'item 3',\r\n    start_time: moment().add(2, 'hour'),\r\n    end_time: moment().add(3, 'hour')\r\n  }\r\n]\r\n \r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\n\r\n  // if (updateTaskCollections() != undefined) {\r\n  //   for (var i in updateTaskCollections()) {\r\n  //     var taskCollections = [];\r\n\r\n  //     axios.get(`/todocollection/`, {\r\n  //         params: { collection_id: updateTaskCollections()[i] },\r\n  //       })\r\n  //       .then((res) => {\r\n  //         var taskCollection = {\r\n  //           _id: res.data.data.collectionDetails._id,\r\n  //           title: res.data.data.collectionDetails.title,\r\n  //           to_do_elements: res.data.data.collectionDetails.to_do_elements,\r\n  //         };\r\n  //         taskCollections.push(taskCollection);\r\n\r\n  //         if (\r\n  //           taskCollection._id ===\r\n  //           updateTaskCollections()[updateTaskCollections().length - 1]\r\n  //         ) {\r\n  //           store.dispatch({\r\n  //             type: \"COLLECTIONS_LOADED\",\r\n  //             data: {\r\n  //               taskCollectionIDs: updateTaskCollections(),\r\n  //               workspaceTaskCollections: taskCollections,\r\n  //             },\r\n  //           });\r\n  //         }\r\n  //       })\r\n  //       .catch(function (error) { \r\n  //         console.error(error);\r\n  //       });\r\n  //   }\r\n\r\n\r\nfunction CalendarPage (  ) {   \r\n \r\n  const classes = useStyles();\r\n  const [collections, setCollections] = React.useState([]);\r\n  const [tasks, setTasks] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    if(store.getState().selectedWorkspace !== \"\" && store.getState().selectedPanel === \"Calendar\" && store.getState().allSelectedWorkspaceData !== undefined){\r\n\r\n      if(store.getState().allSelectedWorkspaceData.task_collections !== undefined && store.getState().allSelectedWorkspaceData.task_collections.length > 0 ){\r\n        let collectionList = []\r\n        let taskList = []\r\n        \r\n        for(var collectionIndex in store.getState().allSelectedWorkspaceData.task_collections){\r\n\r\n          axios.get('/todocollection', {\r\n            params: { \r\n              collection_id:  store.getState().allSelectedWorkspaceData.task_collections[collectionIndex]\r\n            }\r\n          })\r\n          .then(res => {\r\n            if(res.data.data.collectionDetails !== null) {\r\n              collectionList.push({\r\n                id: res.data.data.collectionDetails._id,\r\n                title: res.data.data.collectionDetails.title\r\n              })\r\n              let collection_id = res.data.data.collectionDetails._id\r\n\r\n              for(var todoIndex in res.data.data.collectionDetails.to_do_elements){\r\n                axios.get('/todo/', {params: {todo_id: res.data.data.collectionDetails.to_do_elements[todoIndex]}})\r\n                .then(res => {\r\n                  taskList.push(  {\r\n                    id: res.data.data.todoDetails._id,\r\n                    group: collection_id,\r\n                    title: res.data.data.todoDetails.title,\r\n                    start_time: new Date (res.data.data.todoDetails.creation_date),\r\n                    end_time: new Date (res.data.data.todoDetails.due_date)\r\n                  })\r\n                })\r\n                \r\n              }\r\n            }\r\n          })\r\n\r\n        }\r\n\r\n        setCollections(collectionList)\r\n        setTasks(taskList)\r\n\r\n        return () => {\r\n          subs.forEach(unsub => unsub());\r\n        };\r\n      }\r\n\r\n    }\r\n\r\n\r\n  }, [store.getState().allSelectedWorkspaceData ,store.getState().selectedWorkspace, store.getState().selectedPanel]);\r\n\r\n  const config = {\r\n    height: 300,\r\n    list: {\r\n      rows: {\r\n        \"1\": {\r\n          id: \"1\",\r\n          label: \"Row 1\"\r\n        },\r\n        \"2\": {\r\n          id: \"2\",\r\n          label: \"Row 2\"\r\n        },\r\n        \"3\": {\r\n          id: \"3\",\r\n          label: \"Row 3\"\r\n        },\r\n        \"4\": {\r\n          id: \"4\",\r\n          label: \"Row 4\"\r\n        }\r\n      },\r\n      columns: {\r\n        data: {\r\n          id: {\r\n            id: \"id\",\r\n            data: \"id\",\r\n            width: 50,\r\n            header: {\r\n              content: \"ID\"\r\n            }\r\n          },\r\n          label: {\r\n            id: \"label\",\r\n            data: \"label\",\r\n            width: 200,\r\n            header: {\r\n              content: \"Label\"\r\n            }\r\n          }\r\n        }\r\n      }\r\n    },\r\n    chart: {\r\n      items: {\r\n        \"1\": {\r\n          id: \"1\",\r\n          rowId: \"1\",\r\n          label: \"Item 1\",\r\n          time: {\r\n            start: new Date().getTime(),\r\n            end: new Date().getTime() + 24 * 60 * 60 * 1000\r\n          }\r\n        },\r\n        \"2\": {\r\n          id: \"2\",\r\n          rowId: \"2\",\r\n          label: \"Item 2\",\r\n          time: {\r\n            start: new Date().getTime() + 4 * 24 * 60 * 60 * 1000,\r\n            end: new Date().getTime() + 5 * 24 * 60 * 60 * 1000\r\n          }\r\n        },\r\n        \"3\": {\r\n          id: \"3\",\r\n          rowId: \"2\",\r\n          label: \"Item 3\",\r\n          time: {\r\n            start: new Date().getTime() + 6 * 24 * 60 * 60 * 1000,\r\n            end: new Date().getTime() + 7 * 24 * 60 * 60 * 1000\r\n          }\r\n        },\r\n        \"4\": {\r\n          id: \"4\",\r\n          rowId: \"3\",\r\n          label: \"Item 4\",\r\n          time: {\r\n            start: new Date().getTime() + 10 * 24 * 60 * 60 * 1000,\r\n            end: new Date().getTime() + 12 * 24 * 60 * 60 * 1000\r\n          }\r\n        },\r\n        \"5\": {\r\n          id: \"5\",\r\n          rowId: \"4\",\r\n          label: \"Item 5\",\r\n          time: {\r\n            start: new Date().getTime() + 12 * 24 * 60 * 60 * 1000,\r\n            end: new Date().getTime() + 14 * 24 * 60 * 60 * 1000\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  let subs = [];\r\n\r\n  function onState(state) {\r\n    state.update(\"config.chart.items.1\", item1 => {\r\n      item1.label = \"Gantt schedule timeline calendar\";\r\n      item1.time.end = item1.time.end + 2 * 24 * 60 * 60 * 1000;\r\n      return item1;\r\n    });\r\n    subs.push(\r\n      state.subscribe(\"config.chart.items\", items => {\r\n        console.log(\"items changed\", items);\r\n      })\r\n    );\r\n    subs.push(\r\n      state.subscribe(\"config.list.rows\", rows => {\r\n        console.log(\"rows changed\", rows);\r\n      })\r\n    );\r\n  }\r\n\r\n\r\n\r\n    return(\r\n        <div style={{marginRight:20}}>\r\n\r\n\r\n          { collections !==  [] && tasks !== [] ?\r\n            <div>\r\n            {/* <GSTC config={config} onState={onState} /> */}\r\n              <Timeline id=\"timeline_id\"\r\n                groups={collections}\r\n                items={tasks}\r\n                defaultTimeStart={ moment().days(1)  }\r\n                defaultTimeEnd={ moment().days(moment().daysInMonth())  }\r\n                traditionalZoom={true}\r\n              />\r\n              \r\n            </div>\r\n            :\r\n            null\r\n          }\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n}\r\n      \r\nconst mapDispatchToProps = dispatch => {\r\n    return { dispatch }\r\n}\r\n      \r\nexport default connect(mapStateToProps, mapDispatchToProps)(CalendarPage)\r\n\r\n\r\n","import React from \"react\";\n\nexport default function Error() {\n  return (\n    <div>\n      <p>Invalid API request or server error 404</p>\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./Weather.css\";\nimport Error from \"../Error/Error\";\n\n\nexport default function App(props) {\n    var response = props.response;\n    if(response.cod!==200){\n      return (<Error></Error>)\n  }\n    const imageLocation = \"./icons/\"+response.weather[0].icon+\".png\";\n  var loading =true;\n    //ui needs to be changed here\n  return (\n      <div className=\"APIcard\">\n        <img src={require(\"./icons/09d.png\")} className=\"APIimg\" style={{width:\"30%\",height:\"30%\"}}/>\n        <div class=\"container\">\n        <h4><b>{response.name}</b></h4>\n        <p><b>{response.weather[0].main}</b></p>\n            <p>T: {(response.main.temp-273.15).toString().substring(0,4)} C</p>\n            <p>H: {response.main.humidity} %</p>\n        </div>\n    </div>\n    );\n//   return (\n//     <Card className={classes.root}>\n//       <div className={classes.details}>\n//         <CardContent className={classes.content}>\n//           <Typography component=\"h5\" variant=\"h5\">\n//             {response.name}\n//           </Typography>\n//           <Typography variant=\"subtitle1\" color=\"textSecondary\">\n//             {response.weather[0].main}\n//           </Typography>\n//           <div>\n//             <Typography variant=\"caption\" color=\"textSecondary\">\n//               T: {(response.main.temp-273.15).toString().substring(0,4)} C\n//             </Typography>\n//           </div>\n//           <div>\n//             <Typography variant=\"caption\" color=\"textSecondary\">\n//               H: {response.main.humidity} %\n//             </Typography>\n//           </div>\n//         </CardContent>\n//       </div>\n//       <CardMedia\n//         className={classes.cover}\n//         image={imageLocation}\n//       />\n//     </Card>\n//   );\n}","import React from \"react\";\nimport \"./Map.css\";\nimport L from \"leaflet\";\nimport { Map, TileLayer, Marker, Popup } from \"react-leaflet\";\nimport pinDrop from \"./icons/pinDrop.png\";\n\nexport default function MapComponent(props) {\n  var latitude = props.response.latitude;\n  var longitude = props.response.longitude;\n  var locationDetailsText = props.response.nuts +\" \"+ props.response.region + \" \" +props.response.country;\n  return <div>{actualMap(latitude, longitude,locationDetailsText)}</div>;\n}\n\nfunction actualMap(latitude, longitude,locationDetails) {\n  var redIcon = L.icon({\n    iconUrl: pinDrop,\n    iconSize: [38, 80], // size of the icon\n    shadowSize: [50, 64], // size of the shadow\n    iconAnchor: [22, 94], // point of the icon which will correspond to marker's location\n    shadowAnchor: [4, 62], // the same for the shadow\n    popupAnchor: [-3, -86]\n  });\n  const positionRedIcon = [latitude, longitude];\n  const mapZoom = 13;\n\n  return (\n    <div className=\"mapOuterBox\">\n    <p>{locationDetails}</p>\n      <Map className=\"mapStyling\" center={positionRedIcon} zoom={mapZoom}>\n        <TileLayer\n          attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n        />\n        <Marker position={positionRedIcon} icon={redIcon}>\n          <Popup>{locationDetails}</Popup>\n        </Marker>\n      </Map>\n      <br/>\n    </div>\n  );\n}\n\n","import React from \"react\";\nimport \"./FileWidget.css\";\nimport GetAppRoundedIcon from '@material-ui/icons/GetAppRounded';\nimport {\n  Box,\n  IconButton\n} from \"@material-ui/core\";\n\n\nexport default function FileWidget({ text }) {\n  var fileStartLocation = text.substring(text.indexOf(\"!FILE!\", 0) + 6);\n  var fileLocation = fileStartLocation.substring(\n    0,\n    fileStartLocation.indexOf(\"!FILE!\", 0)\n  );\n  var fileNameStart = text.substring(text.indexOf(\"!NAME!\", 0) + 6);\n  var fileName = fileNameStart.substring(0, fileNameStart.indexOf(\"!NAME!\", 0));\n  return (\n    <Box>\n      <div>\n        <a href={fileLocation} className=\"downloadTitle\" download>\n          <center>\n            <h3>Download: {fileName}</h3>\n          </center>\n          <IconButton className=\"svg_scale\">\n            <GetAppRoundedIcon className=\"svg_scale\" />\n          </IconButton>\n        </a>\n      </div>\n    </Box>\n  );\n}\n","import React from \"react\";\nimport ReactEmoji from \"react-emoji\";\n\nimport \"./Message.css\";\n\n//Methods regarding Weather API call\nimport Weather from \"./API/Weather/Weather\";\nimport Error from \"./API/Error/Error\";\nimport Store from \"../../../../../store/index\"\n//Regarding youtube API call\nimport YouTube from \"react-youtube\";\n//Regarding Maps\nimport Map from \"./API/Map/Map\";\n//Regarding fileupload\nimport FileWidget from \"./API/FileUpload/FileWidget\";\n\nconst Message = ({ message: { text, user,name }}) => {\n  let isSentByCurrentUser = false;\n\n  if (user === Store.getState().user._id) {\n    isSentByCurrentUser = true;\n    name=Store.getState().user.name;\n  }\n\n  //Methods for displaying API call\n  const APICallStartIndex = text.indexOf(\"<APICALLTAG>\");\n  const APICallEndIndex = text.indexOf(\"</APICALLTAG>\");\n  var APICallExists = false;\n  var ActualAPIRender = null;\n  var noAPIText = text;\n  if (APICallEndIndex >= 0 && APICallStartIndex >= 0) {\n    APICallExists = true;\n    //Note the 12 for the lenght of <APICALLTAG>\n    ActualAPIRender = whichAPI(\n      text.substring(APICallStartIndex + 12, APICallEndIndex)\n    );\n    noAPIText = text.substring(0, APICallStartIndex);\n  }\n  var youtubeVideo = false;\n  if (\n    text.toLowerCase().indexOf(\"http\") >= 0 &&\n    text.toLowerCase().indexOf(\"youtu\") >= 0\n  ) {\n    youtubeVideo = true;\n  }\n\n  var fileUpload = false;\n  if(text.toLowerCase().indexOf(\">>file\")>=0){\n    noAPIText=\"\";\n    fileUpload=true;\n  }\n  \n\n  return isSentByCurrentUser ? (\n    <div className=\"messageContainer justifyEnd\">\n      <p className=\"sentText pr-10\">{name}</p>\n      <div className=\"messageBox backgroundBlue\">\n        <p className=\"messageText colorWhite\">\n          {ReactEmoji.emojify(noAPIText)}\n        </p>\n        <div>{fileUpload ? <FileWidget text={text}/> : null}</div>\n        <div>{APICallExists ? ActualAPIRender : null}</div>\n        <div>{youtubeVideo ? playYoutube(text) : null}</div>\n      </div>\n    </div>\n  ) : (\n    <div className=\"messageContainer justifyStart\">\n      <div className=\"messageBox backgroundLight\">\n        <p className=\"messageText colorDark\">{ReactEmoji.emojify(noAPIText)}</p>\n        <div>{fileUpload ? <FileWidget text={text}/> : null}</div>\n        <div>{APICallExists ? ActualAPIRender : null}</div>\n        <div>{youtubeVideo ? playYoutube(text) : null}</div>\n      </div>\n      <p className=\"sentText pl-10 \">{name}</p>\n    </div>\n  );\n};\n\nfunction whichAPI(message) {\n  var APITag = message\n    .substring(message.indexOf(\"<\", 0), message.indexOf(\">\", 0) + 1)\n    .toUpperCase();\n  //Done this way to ensure no \"<\" inside of a message body messes with the data\n  var APITagEnd = `</${APITag.substring(1)}`;\n  var actualData = \"Error\";\n  try{\n    actualData = JSON.parse(\n      message.substring(\n        message.indexOf(APITag) + APITag.length,\n        message.indexOf(APITagEnd)\n      )\n    );\n  }catch(err){\n    console.log(\"There was an error trying to generate the api result, the error being:\");\n    console.log(err);\n  }\n\n  switch (APITag) {\n    case \"<WEATHER>\":\n      return <Weather response={actualData} />;\n    case \"<MAP>\":\n      return <Map response={actualData}/>\n    case \"<ERROR\":\n      return <Error />;\n    default:\n      return <Error />;\n  }\n}\n\nfunction playYoutube(text) {\n  var youtubeNameIndex = text.toLowerCase().indexOf(\"youtube\");\n  var videoID=\"FXPKJUE86d0\";\n  var idEnd;\n  if(youtubeNameIndex>=0){\n    videoID = text.substring(youtubeNameIndex);\n    videoID = videoID.substring(videoID.indexOf(\"?v=\")+3);\n    idEnd = videoID.indexOf(\" \")>=0?videoID.indexOf(\" \"):videoID.length;\n    videoID = videoID.substring(0,idEnd);\n  }else{\n    videoID = text.substring(text.indexOf(\"youtu.be/\"));\n    idEnd = videoID.indexOf(\" \")>=0?videoID.indexOf(\" \"):videoID.length;\n    videoID = videoID.substring(9,idEnd);\n  }\n\n  const opts = {\n    height: '390',\n    width: '640',\n    playerVars: {\n      autoplay: 0,\n    },\n  };\n  return <div><YouTube videoId={videoID} opts={opts} /></div>\n}\n\nexport default Message;\n","import React from 'react';\n\nimport ScrollToBottom from 'react-scroll-to-bottom';\n\nimport Message from './Message/Message';\n\nimport './Messages.css';\n\nconst Messages = ({ messages, name }) => (\n\n  <ScrollToBottom className=\"messages\">\n    {messages.map((message, i) => <div key={i}><Message message={message} name={name}/></div>)}\n  </ScrollToBottom>\n);\n\nexport default Messages;","import React from \"react\";\n\nimport onlineIcon from \"../icons/onlineIcon.png\";\n// import closeIcon from \"../icons/closeIcon.png\";\n\nimport \"./InfoBar.css\";\n\nconst InfoBar = ({ room, user }) => (\n  <div className=\"infoBar\">\n    <div className=\"leftInnerContainer\">\n      <img className=\"onlineIcon\" src={onlineIcon} alt=\"online icon\" />\n      <h5>{room}</h5>\n    </div>\n    <div className=\"rightInnerContainer\">\n      <a>{user}</a>\n    </div>\n  </div>\n);\n\nexport default InfoBar;\n","import React from 'react';\n\nconst Progress = ({ percentage,loadingState}) => {\n  return (\n    <div className='progress'>\n      <div\n        className='progress-bar progress-bar-striped bg-success'\n        role='progressbar'\n        style={{ width: `${percentage}%` }}>\n        {percentage}%\n      </div>\n      <p>{loadingState}</p>\n    </div>\n  );\n};\n\nexport default Progress;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\n\n//UI methods\nimport { DropzoneDialog } from \"material-ui-dropzone\";\nimport IconButton from '@material-ui/core/IconButton';\nimport { Modal } from \"@material-ui/core\";\nimport ProgressBar from \"./Progress\";\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\n\nconst FileUploadDialog = ({ message,setMessage,sendMessage,socket,room,name,currentUserID}) => {\n  const [open, openSelector] = useState(false);\n  const [files, setFile] = useState([]);\n  const [uploading, setUploading] = useState(false);\n  const [uploadPercentage, setUploadPercentage] = useState(0);\n  const [uploadingState, setUploadingState] = useState(\"Uploading\");\n  const [event, setEvent] = useState({});\n\n  const handleClose = e => {\n    openSelector(false);\n  };\n\n  const handleSave = (file) => {\n    setFile(file);\n    openSelector(false);\n    setUploading(true);\n    const formData = new FormData();\n    formData.append(\"file\", file[0]);\n    console.log(file)\n\n    axios\n      .post(\"/upload\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        },\n        onUploadProgress: progressEvent => {\n          setUploadPercentage(\n            parseInt(\n              Math.round((progressEvent.loaded * 100) / progressEvent.total)\n            )\n          );\n        //   setTimeout(() => setUploadPercentage(0), 10000);\n        }\n      })\n      .then(result => {\n        const { fileName, filePath } = result.data;\n        console.log(\"A FILE WAS UPLOADED SUCESSFULLY\");\n        console.log(fileName,filePath);\n\n        uploadMessageSend(fileName,filePath,socket,room,name,currentUserID);\n\n\n        setUploading(false);\n\n      })\n      .catch(err => {\n        console.log(\"A ERROR UPLADOING THE FI\");\n        console.log(err);\n        if (err.response.status === 500) {\n          setUploadingState(\"There was a problem with the server\");\n        } else {\n          setUploadingState(err.response.data.msg);\n        }\n        setUploading(false);\n      });\n  };\n\n  const handleOpen = e => {\n    openSelector(true);\n    setEvent(e);\n  };\n  return (\n    <div>\n      <IconButton onClick={handleOpen.bind(this)} disableRipple={true} disableFocusRipple={true} disableTouchRipple={true}>\n        <AttachFileIcon/>\n      </IconButton>\n      <DropzoneDialog\n        inputProps={{type:\"file\",id:\"mainfiles\",name:\"mainfiles\"}}\n        showFileNamesInPreview={true}\n        showFileNames={true}\n        filesLimit={1}\n        open={open}\n        onSave={handleSave.bind(this)}\n        showPreviews={true}\n        maxFileSize={5000000}\n        onClose={handleClose.bind(this)}\n      />\n      <Modal open={uploading}>\n        <ProgressBar\n          percentage={uploadPercentage}\n          loadingState={uploadingState}\n        />\n      </Modal>\n    </div>\n  );\n};\n\n\nfunction uploadMessageSend(fileName,filePath,socket,room,name,currentUserID){\n    console.log(\"inUploadMethod\");\n    console.log(room,name,currentUserID,fileName,filePath)\n    var postMessage = `>>file !FILE!${filePath}!FILE! !NAME!${fileName}!NAME!`;\n    var postStructure = {\n        group_id: room,\n        message: postMessage,\n        author: name,\n        author_id: currentUserID,\n      };\n      axios\n        .post(\"/groupmessage/\", postStructure)\n        .then((res) => {\n          socket.emit(\"sendMessage\", postMessage, () => {console.log(\"Sucessfully submitted to socket\")});\n        })\n        .catch((error) => {\n          if (error.response) {\n            console.log(\"ERROROROROROOROROROR HERE\");\n            console.log(error.response.data);\n          }\n        });\n\n\n\n\n}\n\nexport default FileUploadDialog;\n","//Things to ask....abs\n//1)Ask about the cookie error logging out\n//2)Define a function for when the below compondent unmounts\n\nimport React, { useState, useEffect } from \"react\";\nimport queryString from \"query-string\";\nimport io from \"socket.io-client\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\n\n// import TextContainer from './TextContainer/TextContainer';\nimport Messages from \"./Messages/Messages\";\nimport InfoBar from \"./InfoBar/InfoBar\";\nimport Input from \"./Input/Input\";\nimport store from \"../../../store\";\n\nimport \"./Chat.css\";\n\nlet socket;\nconst WEATHER_API_KEY = \"50ae9f311f4a7d041ad5c5155d2d8639\";\n\nconst Chat = (props) => {\n  const [name, setName] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n  const [users, setUsers] = useState(\"\");\n  const [message, setMessage] = useState(\"\");\n  const [messages, setMessages] = useState([]);\n  const ENDPOINT = \"https://cors-anywhere.herokuapp.com/https://oogwai-chat-server.herokuapp.com/\"; //\"localhost:8083\"; //'https://project-chat-application.herokuapp.com/';//'localhost:8083';\n\n  const roomTitle = props.title;\n\n  useEffect(() => {\n    const room = props._id;\n    const name = store.getState().user.name;\n    const user_id = store.getState().user._id;\n\n    socket = io(ENDPOINT);\n\n    setRoom(room);\n    setName(name);\n\n    //Loading OLD messages into chat.\n    axios\n      .get(`/groupmessage/all/?group_id=${room}&page=1&limit=50`)\n      .then((result) => {\n        var tempMessageStore = [];\n        var resultsStore = result.data.data;\n\n        for (var i = 0; i < resultsStore.length; i++) {\n          var temp = {\n            text: resultsStore[i].message,\n            user: resultsStore[i].author_id,\n            name: resultsStore[i].author,\n          };\n          tempMessageStore.push(temp);\n        }\n\n        setMessages((messages) => [...messages, ...tempMessageStore]);\n      });\n\n    //Definition of what occurs when a person joins a chat\n    socket.emit(\"join\", { name, room,user_id }, (error) => {\n      if (error) {\n        alert(error);\n      }\n    });\n\n    return () => {\n      socket.emit(\"disconnect\");\n      socket.off();\n    };\n  }, [props]);\n\n  useEffect(() => {\n    socket.on(\"message\", (message) => {\n      setMessages((messages) => [...messages, message]);\n    });\n\n    socket.on(\"roomData\", ({ users }) => {\n      setUsers(users);\n    });\n  }, []);\n\n  //Send message to server\n  const sendMessage = (event) => {\n    event.preventDefault();\n    const currentUserID = store.getState().user._id;\n\n    if (message) {\n      var postMessage = {\n        group_id: room,\n        message: message,\n        author: name,\n        author_id: currentUserID,\n      };\n\n      const apiStartLocation = message.indexOf(\">>\");\n      //If a message contains an API call we, need to make the API call and save the associated data\n      if (apiStartLocation >= 0) {\n        //No api then returns -1\n        var stringSplitToApi = message\n          .substring(apiStartLocation + 2)\n          .split(\" \");\n        var apiToken = stringSplitToApi[0].toUpperCase();\n        var apiMessage = stringSplitToApi[1].toLowerCase();\n\n        switch (apiToken) {\n          case \"WEATHER\":\n            weatherAPICall(\n              apiMessage,\n              postMessage,\n              room,\n              name,\n              currentUserID,\n              socket,\n              setMessage,\n              message\n            );\n            break;\n          case \"MAP\":\n            mapAPICALL(apiMessage,\n              postMessage,\n              room,\n              name,\n              currentUserID,\n              socket,\n              setMessage,\n              message\n            );\n            break;\n        }\n      } else {\n        //Save non API Message to server\n        axios\n          .post(\"/groupmessage/\", postMessage)\n          .then((res) => {})\n          .catch((error) => {\n            if (error.response) {\n              console.log(\"ERROROROROROOROROROR HERE\");\n              console.log(error.response.data);\n            }\n          });\n        //Send message over sockets\n        socket.emit(\"sendMessage\", message, () => setMessage(\"\"));\n      }\n    }\n  };\n  const currentUserID = store.getState().user._id;\n  return (\n    <div className=\"overallChatContainer\">\n      <div className=\"outerChatContainer\">\n        <div className=\"chatInnerContainer\">\n          <InfoBar room={roomTitle} user={name} />\n          <Messages messages={messages} name={name} />\n          <Input\n          message={message}\n          setMessage={setMessage}\n          sendMessage={sendMessage}\n          socket={socket}\n          room={room}\n          name={name}\n          currentUserID={currentUserID}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nfunction mapAPICALL(\n  apiMessage,\n  postMessage,\n  room,\n  name,\n  currentUserID,\n  socket,\n  setMessage,\n  message\n) {\n  console.log(\"Main request is to\");\n  console.log(`http://api.postcodes.io/postcodes/${apiMessage.toLowerCase()}`);\n  axios\n    .get(\n      `http://api.postcodes.io/postcodes/${apiMessage.toLowerCase()}`\n    )\n    .then((result) => {\n      console.log(\"MAIN RESULT\");\n      console.log(result);\n      //POst code generator website api.postcodes.io/postcodes/<POSTCODE>\n      if (result.data.status !== 200) {\n        postMessage =\n          postMessage.message +\n          `<APICALLTAG><ERROR>${JSON.stringify(\n            result.data\n          )}</ERROR></APICALLTAG>`;\n      } else {\n        postMessage =\n          postMessage.message +\n          `<APICALLTAG><MAP>${JSON.stringify(\n            result.data.result\n          )}</MAP></APICALLTAG>`;\n      }\n      console.log(\"Data passed into map prop is\");\n      console.log(result.data.result);\n\n      var postStructure = {\n        group_id: room,\n        message: postMessage,\n        author: name,\n        author_id: currentUserID,\n      };\n      axios\n        .post(\"/groupmessage/\", postStructure)\n        .then((res) => {\n          socket.emit(\"sendMessage\", postMessage, () => setMessage(\"\"));\n        })\n        .catch((error) => {\n          if (error.response) {\n            console.log(\"ERROROROROROOROROROR HERE\");\n            console.log(error.response.data);\n          }\n        });\n    });\n}\n\nfunction weatherAPICall(\n  apiMessage,\n  postMessage,\n  room,\n  name,\n  currentUserID,\n  socket,\n  setMessage,\n  message\n) {\n  axios\n    .get(\n      `https://cors-anywhere.herokuapp.com/http://api.openweathermap.org/data/2.5/weather?q=${apiMessage.toLowerCase()}&appid=${WEATHER_API_KEY}`\n    )\n    .then((result) => {\n      if (result.cod === 200) {\n        postMessage =\n          postMessage.message +\n          `<APICALLTAG><ERROR>${JSON.stringify(\n            result.data\n          )}</ERROR></APICALLTAG>`;\n      } else {\n        postMessage =\n          postMessage.message +\n          `<APICALLTAG><WEATHER>${JSON.stringify(\n            result.data\n          )}</WEATHER></APICALLTAG>`;\n      }\n\n      var postStructure = {\n        group_id: room,\n        message: postMessage,\n        author: name,\n        author_id: currentUserID,\n      };\n      axios\n        .post(\"/groupmessage/\", postStructure)\n        .then((res) => {\n          socket.emit(\"sendMessage\", postMessage, () => setMessage(\"\"));\n        })\n        .catch((error) => {\n          if (error.response) {\n            console.log(\"ERROROROROROOROROROR HERE\");\n            console.log(error.response.data);\n          }\n        });\n    });\n}\n\n\n//<TextContainer users={users}/> was removed from hwere the div space is!!!!!!!!!!!!!\n//Redundant code about state!\nconst mapStateToProps = (state) => {\n  return {\n    selectedCompany: state.selectedCompany,\n    companies: state.companies,\n    workspaces: state.workspaces,\n    selectedWorkspace: state.selectedWorkspace,\n    taskCollectionIDs: state.taskCollectionIDs,\n    workspaceTaskCollections: state.workspaceTaskCollections,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return { dispatch };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chat);\n","import React from \"react\";\nimport \"./Input.css\";\n\nimport FileUpload from \"../fileUpload/FileUpload\";\n\nimport SendIcon from '@material-ui/icons/Send';\n\nconst Input = ({ message,setMessage,sendMessage,socket,room,name,currentUserID}) => {\n  return (\n    <div>\n      <form className=\"form\">\n        <input\n          className=\"input\"\n          type=\"text\"\n          placeholder=\"Type a message...\"\n          value={message}\n          onChange={({ target: { value } }) => setMessage(value)}\n          onKeyPress={(event) =>\n            event.key === \"Enter\" ? sendMessage(event) : null\n          }\n        />\n        <div className=\"fileUploadButton\">\n          <FileUpload\n            message={message}\n            setMessage={setMessage}\n            sendMessage={sendMessage}\n            socket={socket}\n            room={room}\n            name={name}\n            currentUserID={currentUserID}\n          />\n        </div>\n        <button className=\"sendButton\" onClick={(e) => sendMessage(e)}>\n          <SendIcon />\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default Input;\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport store from '../../../store';\r\nimport axios from 'axios';\r\n\r\nimport {BarChart, Bar, CartesianGrid, XAxis, YAxis, Tooltip, Legend, PieChart, Pie, Sector} from 'recharts';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Select from '@material-ui/core/Select';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { CheckBoxOutlineBlank } from '@material-ui/icons';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n    paper: {\r\n        marginLeft: theme.spacing(1),\r\n    }\r\n  }));\r\n\r\nfunction Charts ( props ) {   \r\n    const classes = useStyles();\r\n    const [collections, setCollections] = React.useState([]);\r\n    const [tasks, setTasks] = React.useState([]);\r\n    const [loaded, setLoaded] = React.useState(false);\r\n\r\n    useEffect(() => {\r\n        if (store.getState().selectedWorkspace !== \"\" && store.getState().allSelectedWorkspaceData.task_collections !== undefined && \r\n        store.getState().allSelectedWorkspaceData.task_collections.length > 0){\r\n            loadData()\r\n            console.log(\"load\",collections, tasks)\r\n        }  \r\n    }, [store.getState().selectedCompany ,store.getState().selectedWorkspace, store.getState().selectedPanel]);\r\n    \r\n    function loadData(){\r\n        if(collections.length !== 0){\r\n            setCollections([])\r\n            setTasks([])\r\n        }\r\n        \r\n        for(var collectionIndex in store.getState().allSelectedWorkspaceData.task_collections){\r\n            \r\n            axios.get('/todocollection', {\r\n                params: { \r\n                collection_id:  store.getState().allSelectedWorkspaceData.task_collections[collectionIndex]\r\n            }\r\n            })\r\n            .then(res => {\r\n                if(res.data.data.collectionDetails !== null) {              \r\n                    collections.push({\r\n                        id: res.data.data.collectionDetails._id,\r\n                        title: res.data.data.collectionDetails.title,\r\n                        number_of_tasks: res.data.data.collectionDetails.to_do_elements.length\r\n                    })\r\n                    let collection_id = res.data.data.collectionDetails._id\r\n        \r\n                    for(var todoIndex in res.data.data.collectionDetails.to_do_elements){\r\n                        axios.get('/todo/', {params: {todo_id: res.data.data.collectionDetails.to_do_elements[todoIndex]}})\r\n                        .then(res => {\r\n                                tasks.push(  {\r\n                                    id: res.data.data.todoDetails._id,\r\n                                    group: collection_id,\r\n                                    title: res.data.data.todoDetails.title,\r\n                                    start_time: new Date (res.data.data.todoDetails.creation_date),\r\n                                    end_time: new Date (res.data.data.todoDetails.due_date),\r\n                                    progress_status: res.data.data.todoDetails.progress_status,\r\n                                    users: res.data.data.todoDetails.assigned_users\r\n                                })\r\n                            })\r\n                    }\r\n                }\r\n            })\r\n\r\n        }\r\n    }\r\n\r\n    function loadCollectionsData(){\r\n        let data = []\r\n        for(var i in collections){\r\n            data.push({\r\n                \"id\": collections[i].id,\r\n                \"name\": collections[i].title,\r\n                \"Number of tasks\": collections[i].number_of_tasks\r\n            })\r\n        }\r\n        return(data)\r\n    }\r\n\r\n    function loadTasksData(){\r\n        let data = []\r\n        for(var i in tasks){\r\n            data.push({\r\n                \"name\": tasks[i].title,\r\n                \"group\": tasks[i].group,\r\n                \"start_time\": tasks[i].start_time,\r\n                \"end_time\": tasks[i].end_time,\r\n                \"progress_status\": tasks[i].progress_status,\r\n                \"users\": tasks[i].users\r\n            })\r\n        }\r\n        return(data)\r\n    }\r\n\r\n    function loadCollectionsTasksProgress(){\r\n        let data = []\r\n        \r\n        for (var i in collections){\r\n            data.push({\r\n                \"name\": collections[i].title,\r\n                \"Not Started\": 0,\r\n                \"In Progress\": 0,\r\n                \"Completed\": 0\r\n            })\r\n\r\n            for (var j in tasks){\r\n                if(tasks[j].group === collections[i].id){   \r\n                    if(tasks[j].progress_status === 0){\r\n                        data[i][\"Not Started\"] += 1\r\n                    }\r\n                    else if (tasks[j].progress_status > 0 && tasks[j].progress_status < 100){\r\n                        data[i][\"In Progress\"] += 1\r\n                    }\r\n                    else if (tasks[j].progress_status === 100){\r\n                        data[i][\"Completed\"] += 1\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return(data)\r\n    }\r\n\r\n    const RADIAN = Math.PI / 180;\r\n    const renderCustomizedLabel = ({cx, cy, midAngle, innerRadius, outerRadius, percent, index, name, value}) => {\r\n       const radius = innerRadius + (outerRadius - innerRadius) * 0.5;\r\n      const x = cx + radius * Math.cos(-midAngle * RADIAN);\r\n      const y = cy + radius * Math.sin(-midAngle * RADIAN);\r\n    \r\n      return (\r\n        <text x={x} y={y} fill=\"white\" textAnchor={x > cx ? 'start' : 'end'} dominantBaseline=\"central\">\r\n          {`${name} ${value} Tasks (${(percent * 100).toFixed(0)}%)`}\r\n        </text>\r\n      );\r\n    };\r\n\r\n\r\n    return(\r\n        <div>\r\n            {console.log(store.getState().chartCategory)}\r\n            {store.getState().chartCategory === \"Collections\" ?\r\n            <Grid container>         \r\n                { console.log(collections) }\r\n                    <Paper item className={classes.paper}>\r\n                        <Typography>Number of tasks in each collection</Typography>\r\n                        <BarChart width={500} height={250} data={loadCollectionsData()}>\r\n                            <CartesianGrid strokeDasharray=\"3 3\" />\r\n                            <XAxis dataKey=\"name\" />\r\n                            <YAxis />\r\n                            <Tooltip />\r\n                            <Legend />\r\n                            <Bar dataKey=\"Number of tasks\" fill=\"#f1b92e\" />\r\n                        </BarChart>\r\n                    </Paper>\r\n                    \r\n                    <Paper item className={classes.paper}>\r\n                        <Typography>Percentage of tasks for each collection</Typography>                       \r\n                        <PieChart width={300} height={250}>\r\n                            <Pie data={loadCollectionsData()} dataKey=\"Number of tasks\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={80} fill=\"#725bda\" label={renderCustomizedLabel} />\r\n                        </PieChart>\r\n                    </Paper>\r\n\r\n                    <Paper item className={classes.paper}>\r\n                        <Typography>Number of tasks in each collection</Typography>\r\n                        <BarChart width={500} height={250} data={loadCollectionsTasksProgress()}>\r\n                            <CartesianGrid strokeDasharray=\"3 3\" />\r\n                            <XAxis dataKey=\"name\" />\r\n                            <YAxis />\r\n                            <Tooltip />\r\n                            <Legend />\r\n                            <Bar dataKey=\"Not Started\" fill=\"#36393f\" />\r\n                            <Bar dataKey=\"In Progress\" fill=\"#f1b92e\" />\r\n                            <Bar dataKey=\"Completed\" fill=\"#52776c\" />\r\n                        </BarChart>\r\n                    </Paper>\r\n\r\n                </Grid>\r\n                :\r\n                null\r\n            }\r\n\r\n            {store.getState().chartCategory === \"Deadlines\" ?\r\n                <Paper item className={classes.paper}>\r\n                    <Typography>Number of tasks by deadlines</Typography>\r\n                    {/* <BarChart width={730} height={250} data={loadCollectionsData()}>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" />\r\n                        <XAxis dataKey=\"name\" />\r\n                        <YAxis />\r\n                        <Tooltip />\r\n                        <Legend />\r\n                        <Bar dataKey=\"pv\" fill=\"#8884d8\" />\r\n                        <Bar dataKey=\"uv\" fill=\"#82ca9d\" />\r\n                    </BarChart>\r\n\r\n                    <Typography>Percentage of tasks by deadline</Typography>\r\n                    <PieChart width={730} height={250}>\r\n                        <Pie data={loadCollectionsData()} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={50} fill=\"#8884d8\" />\r\n                        <Pie data={loadCollectionsData()} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" innerRadius={60} outerRadius={80} fill=\"#82ca9d\" label />\r\n                    </PieChart> */}\r\n                </Paper>\r\n                :\r\n                null\r\n            }\r\n\r\n        </div>)\r\n}\r\n    \r\nconst mapStateToProps = state => {\r\n    return {\r\n        selectedCompany: state.selectedCompany,\r\n        companies: state.companies, \r\n        workspaces: state.workspaces, \r\n        selectedWorkspace: state.selectedWorkspace, \r\n        taskCollectionIDs: state.taskCollectionIDs, \r\n        workspaceTaskCollections: state.workspaceTaskCollections,\r\n        chartCategory : state.chartCategory \r\n    }\r\n}\r\n      \r\nconst mapDispatchToProps = dispatch => {\r\n    return { dispatch }\r\n}\r\n      \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Charts)","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Input from '@material-ui/core/Input';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, KeyboardDatePicker} from '@material-ui/pickers';\r\n\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport { getCompanies, checkIfAdmin } from '../../DataLoading.js';\r\n\r\n\r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 8;\r\n\r\n\r\nconst DeleteTaskModal = ( { classes, collection } ) => {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [users, setUsers] = React.useState([]);\r\n    const [addTaskOpen, setAddTaskOpen] = React.useState(false); //Add task modal\r\n    const [newTask, setNewTask] = useState({})\r\n    const [selectedCreationDate, setSelectedCreationDate] = React.useState(new Date(Date.now()));\r\n    const [selectedDueDate, setSelectedDueDate] = React.useState(null);\r\n    const [personName, setPersonName] = React.useState([]);\r\n\r\n    const handleDeleteTaskOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleDeleteTaskClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    /* TASK FUNCTIONS */\r\n    function deleteTask(){\r\n        //Delete task in database\r\n        axios.delete(`/todo/`, )\r\n\r\n        //Remove task element\r\n\r\n        //Close delete task modal \r\n\r\n        //Close edit task modal\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <IconButton aria-label=\"settings\" variant=\"contained\" id={collection._id} onClick={e => handleDeleteTaskOpen(e.currentTarget, collection.title)}>\r\n                <DeleteIcon  style={{color: \"#af0000\"}} />\r\n            </IconButton>\r\n            \r\n            <Modal \r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            className={classes.modal}\r\n            open={open}\r\n            onClose={handleDeleteTaskClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{timeout: 500}}\r\n            >\r\n            <Fade in={open}>\r\n                <Grid container xs={4} className={classes.paper}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h6\" align=\"center\">Are you sure you want to delete task {collection.title}</Typography>\r\n                    </Grid>\r\n    \r\n                    <Grid item xs={12}>\r\n                        <Button onClick={deleteTask}>Ok</Button> {/*addTask(document.getElementById(\"new_task_title\"))  */}\r\n                        <Button onClick={handleDeleteTaskClose}>Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Fade>\r\n    </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      user: state.user, \r\n      selectedPanel: state.selectedPanel, \r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(DeleteTaskModal)\r\n  \r\n  ","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Input from '@material-ui/core/Input';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, KeyboardDatePicker} from '@material-ui/pickers';\r\n\r\nimport { Delete, PlaylistAdd } from '@material-ui/icons';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport { getCompanies, checkIfAdmin } from '../../DataLoading.js';\r\n\r\nimport DeleteTaskModal from './deleteTaskModal.js';\r\n\r\nconst PrettoSlider = withStyles({\r\n    root: {\r\n      color: '#52af77',\r\n      height: 8,\r\n    },\r\n    thumb: {\r\n      height: 24,\r\n      width: 24,\r\n      backgroundColor: '#fff',\r\n      border: '2px solid currentColor',\r\n      marginTop: -8,\r\n      marginLeft: -12,\r\n      '&:focus, &:hover, &$active': {\r\n        boxShadow: 'inherit',\r\n      },\r\n    },\r\n    active: {},\r\n    valueLabel: {\r\n      left: 'calc(-50% + 4px)',\r\n    },\r\n    track: {\r\n      height: 8,\r\n      borderRadius: 4,\r\n    },\r\n    rail: {\r\n      height: 8,\r\n      borderRadius: 4,\r\n    },\r\n  })(Slider);\r\n\r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 8;\r\n  const MenuProps = {\r\n    PaperProps: {\r\n      style: {\r\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n        width: 250,\r\n      },\r\n    },\r\n  };\r\n\r\n\r\nconst EditTaskModal = ( { classes, collection, todo } ) => {\r\n    const [open, setOpen] = React.useState(false);\r\n    const [users, setUsers] = React.useState([]);\r\n    const [addTaskOpen, setAddTaskOpen] = React.useState(false); //Add task modal\r\n    const [newTask, setNewTask] = useState({})\r\n    const [selectedCreationDate, setSelectedCreationDate] = React.useState(new Date(Date.now()));\r\n    const [selectedDueDate, setSelectedDueDate] = React.useState(null);\r\n    const [personName, setPersonName] = React.useState([]);\r\n    const [selectedCollection, setSelectedCollection] = React.useState(collection.title);\r\n\r\n    const handleChange = (event) => {\r\n        setPersonName(event.target.value);\r\n    };\r\n\r\n\r\n    const handleAddTaskOpen = (e, title) => {\r\n        // console.log(e, title)\r\n        // setSelectedCollection(title) //Store the title for the selected collection \r\n        \r\n        setNewTask({\r\n            name: \"\",\r\n            description: \"\",\r\n            progress_status: 0,\r\n            creation_date: new Date(Date.now()),\r\n            due_date : null,\r\n            collectionID: e.id\r\n        }) //Reset the new task when opening task modal\r\n        \r\n        setOpen(true); //Open Add Task Modal\r\n      };\r\n    \r\n    const handleAddTaskClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const dueDatePickedBeforeCreationDate = (e) => {\r\n        setSelectedCreationDate(e); \r\n        setSelectedDueDate(e);\r\n    }\r\n\r\n    const creationDatePickedAfterDueDate = (e) => {\r\n        setSelectedCreationDate(e); \r\n        setSelectedDueDate(e);\r\n    }\r\n\r\n    /* TASK FUNCTIONS */\r\n    function addTask(){\r\n        let assigned_users = []\r\n\r\n        //Find the assigned user ids \r\n        if(personName.length > 0){\r\n            for(var i in personName){\r\n                let a = personName[i].split('(')[1].replace(')','')\r\n                for(var j in users){\r\n                    if(a === users[j].email){\r\n                        assigned_users.push(users[j]._id)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let title = document.getElementById('new_task_title').value\r\n        let description = document.getElementById('new_task_description').value\r\n\r\n        console.log(document.getElementById('due-date-picker-dialog').value)\r\n        if(title !== undefined && title !== \"\"){\r\n            axios.post('/todo/', {\r\n                title: title,\r\n                description: description,\r\n                assigned_users: assigned_users,\r\n                progress_status: document.getElementById('slider').childNodes[2].value,\r\n                creation_date: document.getElementById('creation-date-picker-dialog').value,\r\n                collection_id: collection._id,\r\n                due_date: document.getElementById('due-date-picker-dialog').value //NEED TO SORT\r\n            })\r\n            .then(res => {\r\n                console.log(res)\r\n            })\r\n            \r\n            setAddTaskOpen(false) //Close Add Task modal\r\n        }  \r\n    }\r\n\r\n    return(\r\n        <div style={{float:\"right\", marginLeft:\"auto\"}}>\r\n            <IconButton aria-label=\"settings\" variant=\"contained\" id={collection._id} onClick={e => handleAddTaskOpen(e.currentTarget, collection.title)}>\r\n                <MoreVertIcon style={{color: \"#f1b92e\"}} />\r\n            </IconButton>\r\n            \r\n            <Modal \r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            className={classes.modal}\r\n            open={open}\r\n            onClose={handleAddTaskClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{timeout: 500}}\r\n            >\r\n            <Fade in={open}>\r\n                <Grid container xs={4} className={classes.paper}>\r\n                    <Grid item container xs={12}>\r\n                        <Typography item variant=\"h6\" align=\"center\">Edit Task to {collection.title}</Typography>\r\n                        <DeleteTaskModal item  {...{ classes, collection }} />\r\n                    </Grid>\r\n\r\n                    <Grid item xs={12}>\r\n                        <FormControl className={classes.formControl} style={{marginTop:10,  width:\"100%\"}}>\r\n                            <InputLabel id=\"demo-simple-select-label\">Collection</InputLabel>\r\n                            <Select\r\n                            fullwidth\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            value={selectedCollection}\r\n                            onChange={e => setSelectedCollection(e.target.value)}\r\n                            >\r\n                                <MenuItem value={\"a\"}>Ten</MenuItem>\r\n                                <MenuItem value={\"b\"}>Twenty</MenuItem>\r\n                                <MenuItem value={\"c\"}>Thirty</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n    \r\n                    {/*title text field*/}\r\n                    <Grid item  xs={12} style={{marginTop:20}}>\r\n                        <TextField style={{width:\"100%\"}}  id=\"new_task_title\" size=\"small\" label=\"Task Name\" variant=\"outlined\" color=\"secondary\" onChange={e => newTask[\"title\"] = e.currentTarget.value}  /> {/*style={{display:\"inline-block\"}}*/}\r\n                    </Grid>\r\n                    {/* description text field */}\r\n                    \r\n                    <Grid item xs={12} style={{marginTop:10}}>\r\n                        <TextField style={{width:\"100%\"}} rowsMax={5} multiline id=\"new_task_description\" size=\"small\" label=\"Description\" variant=\"outlined\" color=\"secondary\" onChange={e => newTask[\"description\"] = e.currentTarget.value}/>\r\n                    </Grid>\r\n                    {/* users multiple select field */}\r\n\r\n                    {/* progress status scale  */}\r\n                    <Grid item xs={12} style={{marginTop:10}}>\r\n                        <Typography variant=\"body2\" align=\"center\">Progress Status</Typography>\r\n                        <PrettoSlider item id=\"slider\" valueLabelDisplay=\"auto\" aria-label=\"pretto slider\" defaultValue={0}  />\r\n                    </Grid>\r\n            \r\n                    <Grid item container xs={12} style={{marginTop:10}}>\r\n                    {/* creation date date field */}\r\n                        <MuiPickersUtilsProvider item utils={DateFnsUtils} xs={6} item style={{marginTop:10, width:\"50%\"}}>\r\n                            <KeyboardDatePicker margin=\"normal\" id=\"creation-date-picker-dialog\" label=\"Start Date\" format=\"dd/MM/yyyy\" \r\n                                value={selectedCreationDate} onChange={e => e > selectedDueDate ? creationDatePickedAfterDueDate(e) : setSelectedCreationDate(e)} KeyboardButtonProps={{'aria-label': 'change date'}} />\r\n                        </MuiPickersUtilsProvider>\r\n\r\n                    {/* Due date date field */}\r\n                        <MuiPickersUtilsProvider item utils={DateFnsUtils} xs={6} item style={{marginTop:10, width:\"50%\"}}>\r\n                            <KeyboardDatePicker margin=\"normal\" id=\"due-date-picker-dialog\" label=\"Due Date\" format=\"dd/MM/yyyy\" \r\n                                value={selectedDueDate} onChange={e => e <= selectedCreationDate ? dueDatePickedBeforeCreationDate(e) : setSelectedDueDate(e)} KeyboardButtonProps={{'aria-label': 'change date'}} />\r\n                        </MuiPickersUtilsProvider>\r\n                    </Grid>\r\n\r\n                    <Grid item container xs={12} style={{marginTop:10, width:\"100%\"}}>\r\n                        <FormControl item className={classes.formControl} style={{marginTop:10,  width:\"100%\"}}>\r\n                            <InputLabel id=\"chip-label\">Assigned Users</InputLabel>\r\n                            <Select\r\n                                style={{ width:\"100%\"}}\r\n                                labelId=\"chip-label\"\r\n                                id=\"demo-mutiple-chip\"\r\n                                multiple\r\n                                value={personName}\r\n                                onChange={handleChange}\r\n                                input={<Input id=\"select-multiple-chip\" />}\r\n                                renderValue={(selected) => (\r\n                                    <div className={classes.chips}>\r\n                                    {selected.map((value) => (\r\n                                        <Chip key={value} label={value} className={classes.chip} />\r\n                                    ))}\r\n                                    </div>\r\n                                )}\r\n                                MenuProps={MenuProps}\r\n                                >\r\n                                    {users.map((user, index) => (\r\n                                        <MenuItem key={user._id} value={user.name+ \" (\" + user.email + \")\"}> {/*id: user._id, name: user.name*/}\r\n                                            {user.name}\r\n                                        </MenuItem>\r\n                                        )\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n    \r\n                    <Grid item xs={12}>\r\n                        <Button onClick={addTask}>Ok</Button> {/*addTask(document.getElementById(\"new_task_title\"))  */}\r\n                        <Button onClick={handleAddTaskClose}>Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Fade>\r\n    </Modal>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      user: state.user, \r\n      selectedPanel: state.selectedPanel, \r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(EditTaskModal)\r\n  \r\n  ","import React, { useState, useEffect } from 'react';\n\nimport { connect } from 'react-redux';\nimport store from '../../../../store';\nimport axios from 'axios';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport AvatarGroup from '@material-ui/lab/AvatarGroup';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport 'date-fns';\nimport DateFnsUtils from '@date-io/date-fns';\nimport {MuiPickersUtilsProvider, KeyboardDatePicker} from '@material-ui/pickers';\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\n\nimport { Checkbox } from 'react-materialize';\n\nimport EditTaskModal from './editTaskModal.js';\nimport {PieChart, Pie, Cell, Label} from 'recharts';\n\nfunction Todo ( {classes, collection, todo} ) {    \n    const colors = [ \"#a0f3d7\", \"#52776c\" ] //Light and Dark teal\n    const [taskDetails, setTaskDetails] = React.useState({})\n    const [toDoChecked, setToDoChecked] = React.useState(false);\n    \n    const loadToDoElement = async () => {\n        const response = await axios.get('/todo/', { params: { todo_id: todo } })\n        .then(res => {\n            return res.data.data.todoDetails\n        })\n        \n        setTaskDetails(response)\n\n        if(taskDetails.progress_status === 100){\n            setToDoChecked(true)\n        }\n    }\n    \n    useEffect( () => {\n        loadToDoElement( todo )\n        \n    }, [])\n    \n    const loadPieChart = () => {\n        const progress_data = [\n            {\n              \"name\": \"Completed\",\n              \"value\": taskDetails.progress_status \n            },\n            {\n              \"name\": \"In Progress\",\n              \"value\": 100 - taskDetails.progress_status\n            }\n        ]\n        \n        return(\n            <PieChart width={75} height={75} >\n                <Pie data={progress_data} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" innerRadius={20} outerRadius={30} >\n                    <Label value={`${taskDetails.progress_status}%`} offset={0} position=\"center\" />\n                    {\n                        progress_data.map((entry, index) => (\n                            <Cell key={`cell-${index}`} fill={colors[index]} />\n                        ))\n                    }\n                </Pie>\n            </PieChart>\n        )\n    }\n\n    const handleToDoChecked = (event) => {\n        setToDoChecked(event.currentTarget.checked);\n    };\n\n    return(\n    <Paper style={{marginTop: 10, maxWidth:220}} >\n        {taskDetails === {} ?\n            null\n            :\n            <Grid container >\n                <Grid item container xs={12} className=\"valign-wrapper\" style={{marginLeft:10}} > \n                    <Checkbox style={{float:\"left\", marginRight:\"auto\"}} checked={toDoChecked} filledIn id={`Checkbox_${todo}`} label={taskDetails.title} onChange={e=> handleToDoChecked(e)} />\n                    <EditTaskModal {...{classes, collection, todo}} />\n                </Grid>\n\n                {!toDoChecked ? \n                    <Grid item xs={12}>\n                        {loadPieChart()}\n                    </Grid>\n                : null}\n\n                {!toDoChecked ?\n                    <Grid item xs={12}>\n                        <Typography style={{noWrap:\"pre\", overflow:\"auto\"}}>{taskDetails.description}</Typography>\n                    </Grid>\n                : null}\n\n                {!toDoChecked ?\n                    <Grid item xs={12} >\n                        <MuiPickersUtilsProvider utils={DateFnsUtils} item>\n                            <Grid item>\n                                <KeyboardDatePicker disabled margin=\"normal\" id=\"date-picker-dialog\" type=\"datatime-local\" label=\"Start Date\" format=\"dd/MM/yyyy\" value={taskDetails.creation_date} />\n                            </Grid>\n                            <Grid item>\n                                <KeyboardDatePicker disabled margin=\"normal\" id=\"date-picker-dialog\" type=\"datatime-local\" label=\"Due Date\" format=\"dd/MM/yyyy\" value={taskDetails.due_date}  />\n                            </Grid>\n                        </MuiPickersUtilsProvider>\n                    </Grid>\n                : null}\n\n                {!toDoChecked ?\n                    <Grid item container xs={12} >\n                        <AvatarGroup max={4} xs={12} item>\n                            {taskDetails.assigned_users !== undefined ?\n                                taskDetails.assigned_users.length > 0 ?\n                                    taskDetails.assigned_users.map((name, index) => (\n                                        <Avatar alt=\"assigned_user\" src=\"\" style={{width:30, height:30}}>{name[0]}</Avatar>\n                                    ))\n                                    :\n                                    null\n                                :\n                                null\n                            }\n                        </AvatarGroup>\n                    </Grid>\n                : null}\n\n            </Grid>\n                \n            //, taskDetails.creation_date, taskDetails.due_date, taskDetails.progress_status, taskDetails.description, taskDetails.assigned_users\n        }\n    </Paper>\n)}\n\nconst mapStateToProps = state => {\n    return {\n        selectedCompany: state.selectedCompany, \n        companies: state.companies, \n        workspaces: state.workspaces, \n        selectedWorkspace: state.selectedWorkspace, \n        taskCollectionIDs: state.taskCollectionIDs, \n        workspaceTaskCollections: state.workspaceTaskCollections\n    }\n}\n      \nconst mapDispatchToProps = dispatch => {\n    return { dispatch }\n}\n      \nexport default connect(mapStateToProps, mapDispatchToProps)(Todo)","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Input from '@material-ui/core/Input';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, KeyboardDatePicker} from '@material-ui/pickers';\r\n\r\nimport { PlaylistAdd } from '@material-ui/icons';\r\n\r\nimport { getCompanies, checkIfAdmin } from '../../DataLoading.js';\r\n\r\nconst PrettoSlider = withStyles({\r\n    root: {\r\n      color: '#52af77',\r\n      height: 8,\r\n    },\r\n    thumb: {\r\n      height: 24,\r\n      width: 24,\r\n      backgroundColor: '#fff',\r\n      border: '2px solid currentColor',\r\n      marginTop: -8,\r\n      marginLeft: -12,\r\n      '&:focus, &:hover, &$active': {\r\n        boxShadow: 'inherit',\r\n      },\r\n    },\r\n    active: {},\r\n    valueLabel: {\r\n      left: 'calc(-50% + 4px)',\r\n    },\r\n    track: {\r\n      height: 8,\r\n      borderRadius: 4,\r\n    },\r\n    rail: {\r\n      height: 8,\r\n      borderRadius: 4,\r\n    },\r\n  })(Slider);\r\n\r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 8;\r\n  const MenuProps = {\r\n    PaperProps: {\r\n      style: {\r\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n        width: 250,\r\n      },\r\n    },\r\n  };\r\n\r\n\r\nconst AddTaskModal = ( { classes, collection } ) => {\r\n    const [users, setUsers] = React.useState([]);\r\n    const [addTaskOpen, setAddTaskOpen] = React.useState(false); //Add task modal\r\n    const [newTask, setNewTask] = useState({})\r\n    const [selectedCreationDate, setSelectedCreationDate] = React.useState(new Date(Date.now()));\r\n    const [selectedDueDate, setSelectedDueDate] = React.useState(null);\r\n    const [personName, setPersonName] = React.useState([]);\r\n\r\n    const handleChange = (event) => {\r\n        setPersonName(event.target.value);\r\n    };\r\n\r\n    let loadWorkspaceUsers = async() => {\r\n        let usersList = []\r\n        for( var i in store.getState().allSelectedWorkspaceData.users){\r\n            await axios.get(`/users/${store.getState().allSelectedWorkspaceData.users[i]}`)\r\n            .then(res => {\r\n                usersList.push({\r\n                    name: res.data.data.name,\r\n                    _id: res.data.data._id,\r\n                    email: res.data.data.email\r\n                })\r\n            })\r\n        }\r\n        setUsers(usersList)\r\n    }\r\n\r\n    /* TASK FUNCTIONS */\r\n    function addTask(){\r\n        let assigned_users = []\r\n\r\n        //Find the assigned user ids \r\n        if(personName.length > 0){\r\n            for(var i in personName){\r\n                let a = personName[i].split('(')[1].replace(')','')\r\n                for(var j in users){\r\n                    if(a === users[j].email){\r\n                        assigned_users.push(users[j]._id)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        let title = document.getElementById('new_task_title').value\r\n        let description = document.getElementById('new_task_description').value\r\n\r\n        console.log(document.getElementById('due-date-picker-dialog').value)\r\n        if(title !== undefined && title !== \"\"){\r\n            axios.post('/todo/', {\r\n                title: title,\r\n                description: description,\r\n                assigned_users: assigned_users,\r\n                progress_status: document.getElementById('slider').childNodes[2].value,\r\n                creation_date: document.getElementById('creation-date-picker-dialog').value,\r\n                collection_id: collection._id,\r\n                due_date: document.getElementById('due-date-picker-dialog').value //NEED TO SORT\r\n            })\r\n            .then(res => {\r\n                console.log(res)\r\n            })\r\n            \r\n            setAddTaskOpen(false) //Close Add Task modal\r\n        }  \r\n    }\r\n\r\n    useEffect( () => {\r\n        setUsers([])\r\n        setPersonName([])\r\n\r\n        if(addTaskOpen){\r\n            if(store.getState().allSelectedWorkspaceData.users !== undefined || store.getState().allSelectedWorkspaceData.users !== []) {\r\n                loadWorkspaceUsers()\r\n            }\r\n        }\r\n    }, [addTaskOpen] );\r\n    \r\n    const handleAddTaskOpen = (e, title) => {\r\n        // console.log(e, title)\r\n        // setSelectedCollection(title) //Store the title for the selected collection \r\n        \r\n        setNewTask({\r\n            name: \"\",\r\n            description: \"\",\r\n            progress_status: 0,\r\n            creation_date: new Date(Date.now()),\r\n            due_date : null,\r\n            collectionID: e.id\r\n        }) //Reset the new task when opening task modal\r\n        \r\n        setAddTaskOpen(true); //Open Add Task Modal\r\n      };\r\n    \r\n    const handleAddTaskClose = () => {\r\n        setAddTaskOpen(false);\r\n    };\r\n\r\n    const dueDatePickedBeforeCreationDate = (e) => {\r\n        setSelectedCreationDate(e); \r\n        setSelectedDueDate(e);\r\n    }\r\n\r\n    const creationDatePickedAfterDueDate = (e) => {\r\n        setSelectedCreationDate(e); \r\n        setSelectedDueDate(e);\r\n    }\r\n\r\n    return(\r\n        <div>\r\n        <IconButton aria-label=\"settings\" variant=\"contained\" id={collection._id} onClick={e => handleAddTaskOpen(e.currentTarget, collection.title)}>\r\n            <PlaylistAdd style={{color: \"#f1b92e\"}} />\r\n        </IconButton>\r\n    \r\n        <Modal \r\n            aria-labelledby=\"transition-modal-title\"\r\n            aria-describedby=\"transition-modal-description\"\r\n            className={classes.modal}\r\n            open={addTaskOpen}\r\n            onClose={handleAddTaskClose}\r\n            closeAfterTransition\r\n            BackdropComponent={Backdrop}\r\n            BackdropProps={{timeout: 500}}\r\n            >\r\n            <Fade in={addTaskOpen}>\r\n                <Grid container xs={4} className={classes.paper}>\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"h6\" align=\"center\">Add Task to {collection.title}</Typography>\r\n                    </Grid>\r\n    \r\n                    {/*title text field*/}\r\n                    <Grid item  xs={12} style={{marginTop:20}}>\r\n                        <TextField style={{width:\"100%\"}}  id=\"new_task_title\" size=\"small\" label=\"Task Name\" variant=\"outlined\" color=\"secondary\" onChange={e => newTask[\"title\"] = e.currentTarget.value}  /> {/*style={{display:\"inline-block\"}}*/}\r\n                    </Grid>\r\n                    {/* description text field */}\r\n                    \r\n                    <Grid item xs={12} style={{marginTop:10}}>\r\n                        <TextField style={{width:\"100%\"}} rowsMax={5} multiline id=\"new_task_description\" size=\"small\" label=\"Description\" variant=\"outlined\" color=\"secondary\" onChange={e => newTask[\"description\"] = e.currentTarget.value}/>\r\n                    </Grid>\r\n                    {/* users multiple select field */}\r\n\r\n                    {/* progress status scale  */}\r\n                    <Grid item xs={12} style={{marginTop:10}}>\r\n                        <Typography variant=\"body2\" align=\"center\">Progress Status</Typography>\r\n                        <PrettoSlider item id=\"slider\" valueLabelDisplay=\"auto\" aria-label=\"pretto slider\" defaultValue={0}  />\r\n                    </Grid>\r\n            \r\n                    <Grid item container xs={12} style={{marginTop:10}}>\r\n                    {/* creation date date field */}\r\n                        <MuiPickersUtilsProvider item utils={DateFnsUtils} xs={6} item style={{marginTop:10, width:\"50%\"}}>\r\n                            <KeyboardDatePicker margin=\"normal\" id=\"creation-date-picker-dialog\" label=\"Start Date\" format=\"dd/MM/yyyy\" \r\n                                value={selectedCreationDate} onChange={e => e > selectedDueDate ? creationDatePickedAfterDueDate(e) : setSelectedCreationDate(e)} KeyboardButtonProps={{'aria-label': 'change date'}} />\r\n                        </MuiPickersUtilsProvider>\r\n\r\n                    {/* Due date date field */}\r\n                        <MuiPickersUtilsProvider item utils={DateFnsUtils} xs={6} item style={{marginTop:10, width:\"50%\"}}>\r\n                            <KeyboardDatePicker margin=\"normal\" id=\"due-date-picker-dialog\" label=\"Due Date\" format=\"dd/MM/yyyy\" \r\n                                value={selectedDueDate} onChange={e => e <= selectedCreationDate ? dueDatePickedBeforeCreationDate(e) : setSelectedDueDate(e)} KeyboardButtonProps={{'aria-label': 'change date'}} />\r\n                        </MuiPickersUtilsProvider>\r\n                    </Grid>\r\n\r\n                    <Grid item container xs={12} style={{marginTop:10, width:\"100%\"}}>\r\n                        <FormControl item className={classes.formControl} style={{marginTop:10,  width:\"100%\"}}>\r\n                            <InputLabel id=\"chip-label\">Assigned Users</InputLabel>\r\n                            <Select\r\n                                style={{ width:\"100%\"}}\r\n                                labelId=\"chip-label\"\r\n                                id=\"demo-mutiple-chip\"\r\n                                multiple\r\n                                value={personName}\r\n                                onChange={handleChange}\r\n                                input={<Input id=\"select-multiple-chip\" />}\r\n                                renderValue={(selected) => (\r\n                                    <div className={classes.chips}>\r\n                                    {selected.map((value) => (\r\n                                        <Chip key={value} label={value} className={classes.chip} />\r\n                                    ))}\r\n                                    </div>\r\n                                )}\r\n                                MenuProps={MenuProps}\r\n                                >\r\n                                    {users.map((user, index) => (\r\n                                        <MenuItem key={user._id} value={user.name+ \" (\" + user.email + \")\"}> {/*id: user._id, name: user.name*/}\r\n                                            {user.name}\r\n                                        </MenuItem>\r\n                                        )\r\n                                    )\r\n                                }\r\n                            </Select>\r\n                        </FormControl>\r\n                    </Grid>\r\n    \r\n                    <Grid item xs={12}>\r\n                        <Button onClick={addTask}>Ok</Button> {/*addTask(document.getElementById(\"new_task_title\"))  */}\r\n                        <Button onClick={handleAddTaskClose}>Cancel</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </Fade>\r\n    </Modal>\r\n    </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    selectedCompany: state.selectedCompany, \r\n    companies: state.companies, \r\n    workspaces: state.workspaces, \r\n    selectedWorkspace: state.selectedWorkspace, \r\n    user: state.user, \r\n    selectedPanel: state.selectedPanel, \r\n    allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n    taskCollectionIDs: state.taskCollectionIDs, \r\n    workspaceTaskCollections: state.workspaceTaskCollections}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AddTaskModal)\r\n","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Input from '@material-ui/core/Input';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, KeyboardDatePicker} from '@material-ui/pickers';\r\n\r\nimport { Delete, PlaylistAdd } from '@material-ui/icons';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport { getCompanies, checkIfAdmin } from '../../DataLoading.js';\r\n\r\nconst DeleteCollectionModal = ( { classes, index, collection } ) => {\r\n    const [deleteCollectionOpen, setDeleteCollection] = React.useState(false) //Delete Collection modal\r\n\r\n    const handleDeleteCollectionOpen = () => {\r\n        setDeleteCollection(true);\r\n    };\r\n\r\n    const handleDeleteCollectionClose = () => {\r\n        setDeleteCollection(false);\r\n    };\r\n\r\n    //Deletes Selected Task collection\r\n    function deleteTaskCollection() {\r\n        //open delete modal\r\n        axios.delete('/todocollection/', { params: { collection_id: collection._id } }) //Deletes task collection in database\r\n\r\n        document.getElementById(`collection${collection.index}`).remove() //Deletes task collection rendered elements\r\n\r\n        handleDeleteCollectionClose()\r\n        // handleEditCollectionClose()\r\n\r\n        // setSelectedCollection(\"\")   \r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <IconButton onClick={handleDeleteCollectionOpen} >\r\n                <Delete style={{color: \"#af0000\"}} />\r\n            </IconButton>  \r\n\r\n            <Modal \r\n                aria-labelledby=\"transition-modal-title\"\r\n                aria-describedby=\"transition-modal-description\"\r\n                className={classes.modal}\r\n                open={deleteCollectionOpen}\r\n                onClose={handleDeleteCollectionClose}\r\n                closeAfterTransition\r\n                BackdropComponent={Backdrop}\r\n                BackdropProps={{timeout: 500}}\r\n                >\r\n                <Fade in={deleteCollectionOpen}>\r\n                    {/* Delete task collection Modal body */}\r\n                    <div className={classes.paper}>\r\n                    <Typography variant=\"h5\">Are you sure you wish to delete the collection {collection.title}</Typography>\r\n                    \r\n                        <Button id={index} onClick={deleteTaskCollection} style={{color:\"#af0000\"}}>Delete</Button>\r\n                        <Button color=\"inherit\" onClick={handleDeleteCollectionClose}>Cancel</Button>\r\n                    </div>\r\n                </Fade>\r\n            </Modal> \r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      user: state.user, \r\n      selectedPanel: state.selectedPanel, \r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(DeleteCollectionModal)\r\n  \r\n  ","import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../../../store';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Button from '@material-ui/core/Button';\r\nimport Chip from '@material-ui/core/Chip';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Input from '@material-ui/core/Input';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Select from '@material-ui/core/Select';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport 'date-fns';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider, KeyboardDatePicker} from '@material-ui/pickers';\r\n\r\nimport { Delete, PlaylistAdd } from '@material-ui/icons';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\n\r\nimport { getTaskCollections,getCompanies, checkIfAdmin } from '../../DataLoading.js';\r\n\r\nimport DeleteCollectionModal from './deleteCollectionModal.js';\r\n\r\nconst EditCollectionModal = ( { classes, collection, selectedCollection, index } ) => {\r\n    const [editCollectionOpen, setEditCollection] = React.useState(false) //Edit Collection modal\r\n    const [editCollection, setEditCollectionName] = useState(\"\") //For the Edit collection text field\r\n\r\n    const editTaskCollection = (id) => {\r\n        axios.patch('/todocollection/', \r\n        {\r\n            collectionid: id,\r\n            title: editCollection,\r\n            todo_id: \"\"\r\n        })\r\n        handleEditCollectionClose()\r\n        getTaskCollections()\r\n    };\r\n\r\n    const handleEditCollectionOpen = (collection, index) => {\r\n        collection[\"index\"] = index\r\n        // setSelectedCollection(collection)\r\n        setEditCollection(true);\r\n    };\r\n\r\n    const handleEditCollectionClose = () => {\r\n        setEditCollection(false);\r\n    };\r\n\r\nreturn(\r\n    <div>\r\n    <IconButton aria-label=\"delete\" id={index} onClick={e => handleEditCollectionOpen(collection, e.currentTarget.id)} onMouseEnter={e => e.currentTarget.childNodes[0].childNodes[0].style.opacity = 1.0} onMouseLeave={e => e.currentTarget.childNodes[0].childNodes[0].style.opacity = 0.4}>\r\n        <MoreVertIcon style={{color: \"#f1b92e\", opacity:0.4}} />\r\n    </IconButton>\r\n\r\n    <Modal \r\n        aria-labelledby=\"transition-modal-title\"\r\n        aria-describedby=\"transition-modal-description\"\r\n        className={classes.modal}\r\n        open={editCollectionOpen}\r\n        onClose={handleEditCollectionClose}\r\n        closeAfterTransition\r\n        BackdropComponent={Backdrop}\r\n        BackdropProps={{timeout: 500}}\r\n        >\r\n        <Fade in={editCollectionOpen}>\r\n            {/* Edit task collection Modal body */}\r\n            <div className={classes.paper}>\r\n                <Grid container>\r\n                    <Typography item variant=\"h6\" style={{marginBottom:20}}>Edit Collection {collection.title}</Typography>\r\n                    <DeleteCollectionModal item {...{classes, index, collection}} />\r\n                </Grid>\r\n\r\n                <Grid container>\r\n                    <TextField item id=\"editCollectionName\" onLoadedData={e => e.value = collection.title} size=\"small\" onChange={e => setEditCollectionName(e.target.value) } label=\"Collection Name\" variant=\"outlined\" color=\"secondary\"/>\r\n                    <Button item onClick={e => console.log(editCollection)}>Save</Button>\r\n                </Grid>\r\n                \r\n            </div>\r\n        </Fade>\r\n    </Modal> \r\n</div>\r\n)\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n      selectedCompany: state.selectedCompany, \r\n      companies: state.companies, \r\n      workspaces: state.workspaces, \r\n      selectedWorkspace: state.selectedWorkspace, \r\n      user: state.user, \r\n      selectedPanel: state.selectedPanel, \r\n      allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n      taskCollectionIDs: state.taskCollectionIDs, \r\n      workspaceTaskCollections: state.workspaceTaskCollections}\r\n  }\r\n  \r\n  const mapDispatchToProps = dispatch => {\r\n    return {\r\n      dispatch\r\n    }\r\n  }\r\n  \r\n  export default connect(mapStateToProps, mapDispatchToProps)(EditCollectionModal)\r\n  \r\n  ","import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport store from '../../../store';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Hidden from '@material-ui/core/Hidden';\r\n\r\nimport ToDo from './components/toDo.js'\r\nimport { getTaskCollections } from '../DataLoading.js';\r\nimport AddTaskModal from './components/addTaskModal.js';\r\nimport EditCollectionModal from './components/editCollectionModal.js';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    modal: {\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n    },\r\n    paper: {\r\n      backgroundColor: theme.palette.background.paper,\r\n      border: '2px solid #000',\r\n      boxShadow: theme.shadows[5],\r\n      padding: theme.spacing(2, 4, 3),\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n        maxWidth: 300,\r\n      },\r\n      chips: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n      },\r\n      chip: {\r\n        margin: 2,\r\n      },\r\n      noLabel: {\r\n        marginTop: theme.spacing(3),\r\n      },\r\n  }));\r\n\r\n\r\nconst ToDoPage = () => {\r\n    const classes = useStyles();\r\n    const [selectedCollection, setSelectedCollection] = React.useState({})\r\n    const [newCollection, setNewCollection] = useState(\"\") //For the New collection text field \r\n    const [selectedDate, setSelectedDate] = React.useState(new Date(Date.now()));\r\n    const taskCollections = useSelector(state=> state.workspaceTaskCollections);\r\n    const [selectedUsers, setSelectedUsers] = React.useState([]);\r\n\r\n    const a = useSelector(state=> state)\r\n\r\n    useEffect( () => {\r\n        console.log(\"taskpage\",   a)\r\n        if(newCollection === \"\"){\r\n            getTaskCollections()\r\n        }\r\n\r\n    }, [store.getState().selectedWorkspace, store.getState().selectedPanel, newCollection ] )\r\n\r\n    //Posts data for new collection, then resets the text field \r\n    async function addTaskCollection(key){       \r\n        if(key === \"Enter\"){\r\n            setNewCollection(\"\")\r\n            document.getElementById(\"addCollectionName\").value = \"\"\r\n\r\n            await axios.post(`/todocollection/`, {\r\n                name: newCollection,\r\n                workspaceid: store.getState().selectedWorkspace\r\n            })\r\n\r\n            getTaskCollections()\r\n        }\r\n    }\r\n\r\n    //Reset the new collection name text field when click detected outside textfield\r\n    function unfocusCollection(e){\r\n        e.value = \"\"\r\n        setNewCollection(\"\")\r\n    }\r\n\r\n    const loadTodoElement = async (collection_id) => {\r\n        return await axios.get('/todo/', { params: {collection_id: collection_id} })\r\n    }\r\n\r\n\r\n    const onMouseInTaskCollection = (e) =>{\r\n        e.currentTarget.style.overflowY = \"scroll\"\r\n        e.currentTarget.style.backgroundColor = \"#af0000\"\r\n    }\r\n\r\n    const onMouseOutTaskCollection = (e) => {\r\n        e.currentTarget.style.overflowY = \"hidden\"\r\n        e.currentTarget.style.backgroundColor = \"#0000af\"\r\n    }\r\n\r\n    return(\r\n        <div container style={{whiteSpace:\"nowrap\", minHeight:\"50vh\"}}>\r\n            {taskCollections === [] ?\r\n            null\r\n            :\r\n            taskCollections.map((collection, index) => (\r\n                // <Grid container xs={2} id={`collection${index}`} index={index} zeroMinWidth wrap='nowrap' direction='column' style={{marginRight: 20, display:\"inline-block\",  verticalAlign:\"text-top\", flexGrow: 1}} onMouseEnter={e => l(e)} onMouseLeave={e => k(e)}>\r\n                <div  item xs={2} id={`collection${index}`} index={index}  wrap='nowrap' direction='column' style={{marginRight: 20, display:\"inline-block\",  verticalAlign:\"text-top\", flexGrow: 1, marginTop: 0, paddingTop:0}} > {/*onMouseEnter={e => onMouseInTaskCollection(e)} onMouseLeave={e => onMouseOutTaskCollection(e)}> */}\r\n                    <div item >\r\n                        <Card style={{marginTop: 0, paddingTop:0, backgroundColor:\"#52776c\"}}>\r\n                            <CardHeader style={{paddingLeft:10, paddingRight:10, paddingTop:0, paddingBottom:0, }}\r\n                                action={\r\n                                    <EditCollectionModal {...{classes, collection, selectedCollection, index}} />\r\n                                    } \r\n                                title={<Typography variant=\"h6\">{collection.title}</Typography>} />\r\n                        </Card>        \r\n                    </div>\r\n\r\n                    <div item >\r\n                        <Card style={{marginTop: 15, paddingTop:0}}>\r\n                            <CardHeader style={{paddingLeft:10, paddingRight:10, paddingTop:0, paddingBottom:0}}\r\n                                action={\r\n                                    <AddTaskModal {...{classes, collection}}/>\r\n                                } \r\n                                title={<Hidden mdup><Typography >Add Task</Typography></Hidden>} />\r\n                        </Card>        \r\n                    </div>\r\n\r\n                    <div item style={{minHeight:\"100vh\"}}>\r\n                    {collection.to_do_elements === [] ?\r\n                        null\r\n                        :\r\n                        collection.to_do_elements.map((todo, key) => {\r\n                            return (<ToDo item key={key} {...{classes, collection, todo}} />)\r\n                            }\r\n                        )\r\n                        \r\n                    }\r\n                    </div>\r\n\r\n                </div>\r\n            ))}\r\n\r\n                {newCollection === \"\" ?\r\n                    <TextField id=\"addCollectionName\" size=\"small\" onBlur={e => unfocusCollection(e.currentTarget)} onChange={e => setNewCollection(e.target.value) } label=\"Collection Name\" variant=\"outlined\" color=\"secondary\" style={{display:\"inline-block\"}}/>\r\n                    :\r\n                    <TextField id=\"addCollectionName\" size=\"small\" onKeyPress={e => addTaskCollection(e.key)} onBlur={e => unfocusCollection(e.currentTarget)} onChange={e => setNewCollection(e.target.value) } label=\"Collection Name\" variant=\"outlined\" color=\"secondary\" style={{display:\"inline-block\"}}/>\r\n                }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        selectedCompany: state.selectedCompany, \r\n        companies: state.companies, \r\n        workspaces: state.workspaces, \r\n        selectedWorkspace: state.selectedWorkspace, \r\n        taskCollectionIDs: state.taskCollectionIDs, \r\n        workspaceTaskCollections: state.workspaceTaskCollections\r\n    }\r\n}\r\n      \r\nconst mapDispatchToProps = dispatch => {\r\n    return { dispatch }\r\n}\r\n      \r\nexport default connect(mapStateToProps, mapDispatchToProps)(ToDoPage)","import React, { useState, useEffect } from 'react';\r\n\r\nimport { connect } from 'react-redux';\r\nimport store from '../../../store';\r\nimport axios from 'axios';\r\n\r\nimport {Timeline, TimelineEvent} from 'react-event-timeline'\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\r\nimport Sync from '@material-ui/icons/Sync';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    formControl: {\r\n      margin: theme.spacing(1),\r\n      minWidth: 120,\r\n    },\r\n    selectEmpty: {\r\n      marginTop: theme.spacing(2),\r\n    },\r\n  }));\r\n\r\nfunction Announcements ( props ) {   \r\n    const classes = useStyles();\r\n\r\n    const testEvents = [\r\n        {time: \"2020-09-12 10:06 PM\", user: \"Jack\", isOwner: false, isAdmin: false, content: \"This is a test message\"},\r\n        {time: \"2020-09-12 10:08 PM\", user: \"Jack\", isOwner: false, isAdmin: false, content: \"This is a test message\"},\r\n        {time: \"2020-09-12 10:10 PM\", user: \"Jim\", isOwner: true, isAdmin: false, content: \"This is a test message\"},\r\n        {time: \"2020-09-12 10:20 PM\", user: \"June\", isOwner: false, isAdmin: true, content: \"This is a test message\"}\r\n    ]\r\n\r\n    const loadTimeLineEvent = (event) => {\r\n        var userColour = \"#a0f3d7\"\r\n        \r\n        if(event.isAdmin){\r\n            userColour = \"#725bda\"\r\n        }\r\n\r\n        if(event.isOwner){\r\n            userColour = \"#f1b92e\"\r\n        }\r\n        \r\n        return(\r\n        <TimelineEvent // title=\"John Doe sent a SMS\" \r\n        createdAt={event.time} \r\n        subtitle={event.user}\r\n        subtitleStyle={{color: '#2962FF'}}\r\n      \r\n        icon={<AnnouncementIcon style={{color: userColour}}/>} \r\n        iconColor={userColour} \r\n        bubbleStyle={{backgroundColor: '#2f3136'}}\r\n\r\n        contentStyle={{backgroundColor: '#2f3136',color: '#fff'}}\r\n        >\r\n            <Typography variant=\"caption text\" >{event.content}</Typography>\r\n        </TimelineEvent>\r\n        )\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <IconButton style={{ marginLeft:15}}>\r\n                <Sync style={{color: \"#f1b92e\"}}/>\r\n            </IconButton>\r\n\r\n            <Timeline  lineStyle={{background: '#a0f3d7',width: 3}}>\r\n                {testEvents.map((event) =>(\r\n                        loadTimeLineEvent(event)\r\n                ))}\r\n            </Timeline>\r\n        </div>)\r\n}\r\n\r\n    \r\nconst mapStateToProps = state => {\r\n    return {selectedCompany: state.selectedCompany, companies: state.companies, workspaces: state.workspaces, selectedWorkspace: state.selectedWorkspace, taskCollectionIDs: state.taskCollectionIDs, workspaceTaskCollections: state.workspaceTaskCollections}\r\n}\r\n      \r\nconst mapDispatchToProps = dispatch => {\r\n    return { dispatch }\r\n}\r\n      \r\nexport default connect(mapStateToProps, mapDispatchToProps)(Announcements)","import React, { useEffect } from 'react';\r\nimport axios from 'axios'\r\nimport store from '../../store';\r\nimport { connect } from 'react-redux';\r\nimport { useSelector } from 'react-redux';\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\n//UI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputBase from '@material-ui/core/InputBase';\r\nimport List from '@material-ui/core/List';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\n\r\n//UI ICONS\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nimport MobileDashboard from './mobileScreen/MobileDashboard.js';\r\n\r\nimport { CompanyDrawer, WorkspaceDrawer } from './components/drawers/Drawers.js';\r\nimport WorkspacePanelItems from './components/workspace/WorkspaceButtonList.js';\r\n\r\nimport EditUserModal from './components/modals/editUserModal.js';\r\n\r\nimport LeaveChatModal from './components/modals/chatModals/leaveChatModal.js';\r\nimport DeleteChatModal from './components/modals/chatModals/deleteChatModal.js';\r\nimport AddGroupChatModal from './components/modals/chatModals/addGroupChatModal.js';\r\nimport AddPrivateChatModal from './components/modals/chatModals/addPrivateChatModal.js';\r\nimport EditChatModal from './components/modals/chatModals/editChatModal.js';\r\n\r\nimport WorkspaceMenu from './components/menus/menu.js';\r\nimport { getCompanies, checkIfAdmin } from './DataLoading.js';\r\n\r\nimport Calendar from './calendar/calendar.js';\r\nimport Chat from './groupchat/Chat.js';\r\nimport Chart from './chart/Charts.js';\r\nimport ToDoPage from './toDoList/toDoPage.js';\r\nimport Announcements from './announcements/announcements.js';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n    height:\"100vh\",\r\n    backgroundColor: '#202225',\r\n    width:\"100%\"\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  menuButton: {\r\n    marginRight: 0,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    backgroundColor: '#202225'\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    marginTop: '1vh',\r\n    overflowX: \"auto\", \r\n    overflowY: \"hidden\", \r\n    width:\"100%\",\r\n    backgroundColor: '#36393f',\r\n  },\r\n  mobile_content: {\r\n    flexGrow: 1,\r\n    overflow: 'auto',\r\n    backgroundColor: '#36393f'\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: 'flex',\r\n    overflow: 'auto',\r\n    flexDirection: 'column',\r\n    paddingBottom: 50,\r\n  },\r\n  title:{\r\n    flexGrow: 1\r\n  },\r\n  text: {\r\n    padding: theme.spacing(2, 2, 0),\r\n  },\r\n  list: {\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  subheader: {\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  mobileBottomAppBar: {\r\n    top: 'auto',\r\n    backgroundColor: '#52776c',\r\n    bottom: 0,\r\n  },\r\n  mobileTopAppBar: {\r\n    top: 'auto',\r\n    backgroundColor: '#52776c',\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(0),\r\n  },\r\n}));\r\n\r\nfunction Dashboard() {\r\n  const classes = useStyles();\r\n  let selectedPanel = useSelector(state => state.selectedPanel)\r\n  const [user, setUser] = React.useState({name: \"\"})\r\n  const [redirect, setRedirect] = React.useState(false);\r\n  let category = useSelector(state => state.chartCategory)\r\n\r\n  const [openAddGroupChat, setOpenGroupChat] = React.useState(false);\r\n  const [openAddPrivateChat, setOpenPrivateChat] = React.useState(false);\r\n\r\n  useEffect(() => { \r\n    axios.get(`/users/status`)\r\n    .then(res =>{\r\n      if(res.status === 200 && user.name === \"\"){\r\n        store.dispatch({ type: 'USER_LOGGED_IN', data: { user: res.data.data }})  \r\n        setUser(store.getState().user)\r\n        getCompanies(\"\")\r\n      }\r\n    })\r\n    .catch(() => {\r\n      setRedirect(true)\r\n    })\r\n\r\n  }, [store.getState().selectedCompany]);\r\n  \r\n  //Menu Item \r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleAddGroupChat = () => {\r\n    setOpenGroupChat(true)\r\n    handleClose()\r\n  };\r\n\r\n  const handleAddPrivateChat = () => {\r\n    setOpenPrivateChat(true)\r\n    handleClose()\r\n  };\r\n\r\n  const logout = () => {\r\n    axios.get('/users/logout')\r\n    .then(() => {\r\n      store.dispatch({ type: 'USER_LOGGED_OUT', data: { user: { name: \"\" } }})\r\n      setRedirect(true)\r\n    })\r\n  };\r\n\r\n\r\n  //Charts select\r\n  const handleChange = (event) => {\r\n    store.dispatch({ type: 'CHART_CATEGOREY_CHANGED', data: { chartCategory: event.target.value }})\r\n  };\r\n\r\n  const getRole = () => {\r\n    return(user.owner && store.getState().selectedCompany === user.companies[0] ? \"Owner\" : checkIfAdmin())\r\n  }\r\n\r\n  const adminChatButtons = () =>{\r\n    for(var i in store.getState().allSelectedWorkspaceData.group_chats){\r\n      if(store.getState().selectedPanel.id !== undefined && store.getState().allSelectedWorkspaceData.group_chats[i]._id === store.getState().selectedPanel.id){\r\n        return(\r\n          <Grid container style={{float:\"right\", marginLeft:\"auto\"}} justify=\"flex-end\">\r\n            <LeaveChatModal item />\r\n            \r\n            {getRole() === \"Owner\" || getRole() === \"Admin\" ?\r\n              <EditChatModal item /> : null}\r\n              \r\n              {/* Render the delete chat button on appbar if owner/admin */}\r\n              {getRole() === \"Owner\" || getRole() === \"Admin\" ?\r\n              <DeleteChatModal item /> : null}\r\n          </Grid>\r\n        )\r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n  return (\r\n    <div>\r\n    {redirect ? <Redirect to=\"/login\"/> : null}\r\n    {user.name !== \"\" ?\r\n      <div className={classes.root} style={{overflow:\"hidden\"}}>\r\n        <CssBaseline />\r\n        \r\n        <Hidden smDown>\r\n          <CompanyDrawer classes={classes} />\r\n\r\n          <WorkspaceDrawer classes={classes} />\r\n  \r\n          {/* Workspace Panel buttons */}\r\n          <Grid container md={2} spacing={0} style={{minWidth:200}}>\r\n              {/* Workspace name area */}\r\n              <Grid item md={12} >\r\n                <div >\r\n                  <Paper className=\"valign-wrapper\" style={{paddingLeft:25, paddingRight:20, width:\"100%\", height:\"10vh\", backgroundColor:\"#2f3136\", borderTopLeftRadius:50, marginTop:\"1vh\",}}>\r\n                    <Avatar alt=\"Logo\" src=\"logo.png\"  style={{float:\"left\"}}/>\r\n\r\n                    <Typography  style={{float:\"left\", marginLeft:15, marginRight:\"auto\"}}>\r\n                      {store.getState().allSelectedWorkspaceData.name}\r\n                    </Typography> \r\n\r\n                    <IconButton aria-label=\"settings\" onClick={handleClick} style={{float:\"right\"}}>\r\n                      <MoreVertIcon />\r\n                    </IconButton>\r\n\r\n                      <Menu\r\n                        id=\"simple-menu\"\r\n                        anchorEl={anchorEl}\r\n                        keepMounted\r\n                        open={Boolean(anchorEl)}\r\n                        onClose={handleClose}\r\n                      >\r\n                        {getRole() === \"Owner\" || getRole() === \"Admin\" ?\r\n                          \r\n                          <MenuItem onClick={handleAddGroupChat}>Add Group Chat\r\n                          </MenuItem>\r\n                          :\r\n                          null\r\n                        }\r\n                        {getRole() === \"Owner\" || getRole() === \"Admin\" ?\r\n                        <AddGroupChatModal {...{openAddGroupChat, setOpenGroupChat}} />\r\n                        :null}\r\n\r\n\r\n                        <MenuItem onClick={handleAddPrivateChat}>Add Private Chat</MenuItem>\r\n                        <AddPrivateChatModal {...{openAddPrivateChat, setOpenPrivateChat}} />\r\n\r\n                        <MenuItem onClick={logout}>Logout</MenuItem>\r\n\r\n                      </Menu>\r\n                  </Paper>\r\n                </div>\r\n              </Grid>\r\n\r\n              {/* List of Page buttons */}\r\n              <Grid item md={12} >\r\n                <div style={{height:\"79vh\", backgroundColor:\"#2f3136\", overflow:\"auto\" }}>\r\n                  <List style={{backgroundColor:\"#2f3136\",  minWidth:\"46px\" }} >\r\n                    <WorkspacePanelItems />\r\n                  </List>\r\n                </div>\r\n              </Grid>\r\n\r\n              {/* User Card */}\r\n              <Grid item md={12} >\r\n                <div style={{ height:\"10vh\", backgroundColor:\"#202225\", verticalAlign:\"text-top\"}} >\r\n                  <Card elevation={0} style={{backgroundColor:\"#202225\", shadow:\"none\", paddingTop:0}}>\r\n                      <CardHeader\r\n                        avatar={<Avatar aria-label=\"avatar\" className={classes.avatar}>{user.name !== \"\" ? user.name[0] : null}</Avatar>}\r\n                        action={<EditUserModal/>}\r\n                        title={user.name !== \"\" ? user.name : null}\r\n                        subheader={getRole()}\r\n                      />\r\n                  </Card>\r\n                  \r\n                </div>\r\n              </Grid>\r\n\r\n          </Grid>\r\n\r\n          {/* Content panel */}\r\n          <Grid container id=\"main\" className={classes.content} > \r\n          \r\n            {/* Top bar with search */}\r\n            <AppBar container id=\"appbar\" position=\"static\" style={{backgroundColor:\"#2f3136\"}} width={document.getElementById('main') !== null ? document.getElementById('main').scrollWidth : null}>\r\n              <Toolbar>\r\n                <Typography variant=\"h6\" style={{float:\"left\", marginRight:\"auto\"}}>{selectedPanel.name}</Typography>\r\n\r\n                  {selectedPanel.id === \"Charts\" ?\r\n                        <FormControl className={classes.formControl} style={{marginLeft:50}}>\r\n                          <FormHelperText>Select Category To View</FormHelperText>\r\n                        {/* <Typography>Select Category To View</Typography> */}\r\n                            <Select\r\n                              value={category}\r\n                              onChange={handleChange}\r\n                              displayEmpty\r\n                              className={classes.selectEmpty}\r\n                              inputProps={{ 'aria-label': 'Without label' }}\r\n                            >\r\n                                <MenuItem value=\"Collections\" >Collections</MenuItem>\r\n                                <MenuItem value=\"Deadlines\" >Deadlines</MenuItem>\r\n                            </Select>\r\n                        </FormControl>\r\n                  : null}\r\n                  \r\n                  {selectedPanel.id === \"\" ?\r\n                    <div>\r\n                      <InputBase style={{width:\"25%\", float:\"right\"}} placeholder=\"Search\" inputProps={{ 'aria-label': 'search' }} />\r\n                      <IconButton  edge=\"start\" color=\"inherit\" aria-label=\"menu\">\r\n                        <SearchIcon />\r\n                      </IconButton>\r\n                    </div>\r\n                  : null}\r\n                  \r\n                  {store.getState().allSelectedWorkspaceData.group_chats !== undefined && selectedPanel.id !== \"Calendar\" && selectedPanel.id !== \"Charts\" && selectedPanel.id !== \"Tasks\" && selectedPanel.id !== \"Announcements\" ?\r\n                    adminChatButtons()\r\n                    :\r\n                    null\r\n                  }\r\n\r\n              </Toolbar>\r\n            </AppBar>\r\n            \r\n            {/* Main body of content */}\r\n              {/* General layout */}\r\n              {/* Text chat layout */}\r\n\r\n              {/* Tasks layout */}\r\n                {selectedPanel.id === \"Tasks\" ? \r\n                  <div item className={classes.container} style={{width:\"100%\", overflow:\"auto\", height:\"90vh\", paddingLeft: 25 }}>\r\n                    <ToDoPage />\r\n                  </div>\r\n                : \r\n                null\r\n                }\r\n\r\n              {/* Announcements layout */}\r\n              {selectedPanel.id === \"Announcements\" ? \r\n                  <div item className={classes.container} style={{width:\"100%\", overflow:\"auto\", height:\"90vh\", paddingLeft: 25 }}>\r\n                    <Grid item xs={12} md={8} lg={9}>\r\n                        <Announcements />\r\n                    </Grid>\r\n                  </div>\r\n              : \r\n              null\r\n              }\r\n\r\n              {/* Calendar layout */}\r\n              {selectedPanel.id === \"Calendar\" ? \r\n                <div item className={classes.container} style={{width:\"100%\", overflow:\"auto\", height:\"90vh\", paddingLeft: 25 }}>\r\n                  <Grid item xs={12} md={12} lg={12}>\r\n                      <br />\r\n                      <Calendar />\r\n                  </Grid>\r\n                </div>\r\n              : \r\n              null\r\n              }\r\n\r\n              {/* Charts layout */}\r\n              {selectedPanel.id === \"Charts\" ? \r\n                <div item className={classes.container} style={{width:\"100%\", overflow:\"auto\",height:\"90vh\", paddingLeft: 25 }}>\r\n                  <Chart {...{category}}/>\r\n                </div>  \r\n              : \r\n              null\r\n              }\r\n\r\n              {/* Chat layout */}\r\n              {selectedPanel.id !== \"Calendar\" && selectedPanel.id !== \"Charts\" && selectedPanel.id !== \"Tasks\" && selectedPanel.id !== \"Announcements\" && store.getState().allSelectedWorkspaceData.group_chats !== undefined ? //Checks if non-standard-defined name and there is data for the workspace\r\n                store.getState().allSelectedWorkspaceData.group_chats.length > 0 ? //Checks there are group chats available\r\n                  store.getState().allSelectedWorkspaceData.group_chats.map((group_chat) => { //Loop through each group chat\r\n                    if(group_chat.title === selectedPanel.name){ //Render the page if the selected panel name is the same as the current group chat being checked\r\n                      return(\r\n                        <div item className={classes.container} style={{width:\"100%\", overflow:\"hidden\", height:\"90vh\", paddingTop:0 }}>\r\n                          <Chat {...group_chat} />\r\n                        </div>\r\n                      )\r\n                    }\r\n                  })\r\n                :\r\n                null\r\n              :\r\n              null\r\n              }\r\n\r\n              {/* Chat layout */}\r\n              {selectedPanel.id !== \"Calendar\" && selectedPanel.id !== \"Charts\" && selectedPanel.id !== \"Tasks\" && selectedPanel.id !== \"Announcements\" && store.getState().allSelectedWorkspaceData.private_chats !== undefined ? //Checks if non-standard-defined name and there is data for the workspace\r\n                store.getState().allSelectedWorkspaceData.private_chats.length > 0 ? //Checks there are group chats available\r\n                  store.getState().allSelectedWorkspaceData.private_chats.map((private_chat) => { //Loop through each group chat\r\n                    if(private_chat.title === selectedPanel.name){ //Render the page if the selected panel name is the same as the current group chat being checked\r\n                      return(\r\n                        <div item className={classes.container} style={{width:\"100%\", overflow:\"hidden\", height:\"90vh\", paddingTop:0 }}>\r\n                          <Chat {...private_chat} />\r\n                        </div>\r\n                      )\r\n                    }\r\n                  })\r\n                :\r\n                null\r\n              :\r\n              null\r\n              }\r\n                          \r\n\r\n          </Grid>\r\n\r\n        </Hidden>\r\n\r\n        <Hidden mdUp>\r\n          <MobileDashboard />\r\n        </Hidden>\r\n      </div>\r\n      :\r\n      null\r\n    }\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    selectedCompany: state.selectedCompany, \r\n    companies: state.companies, \r\n    workspaces: state.workspaces, \r\n    selectedWorkspace: state.selectedWorkspace, \r\n    user: state.user, \r\n    selectedPanel: state.selectedPanel, \r\n    allSelectedWorkspaceData: state.allSelectedWorkspaceData, \r\n    taskCollectionIDs: state.taskCollectionIDs, \r\n    workspaceTaskCollections: state.workspaceTaskCollections}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Dashboard)","import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport './App.css';\nimport Home from \"./components/home/Home.js\";\nimport Pricing from \"./components/home/Pricing.js\";\nimport Resources from \"./components/home/Resources.js\";\nimport SignUp from \"./components/auth/signUp.js\";\nimport Login from \"./components/auth/Login.js\";\nimport Dashboard from \"./components/dashboard/Dashboard.js\";\n\nimport { createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\n\nexport default function App() {\n    const theme = createMuiTheme({\n      palette: {\n        type: 'dark',\n        primary: {\n          // light: will be calculated from palette.primary.main,\n          main: '#202225',\n          // dark: will be calculated from palette.primary.main,\n          // contrastText: will be calculated to contrast with palette.primary.main\n        },\n        secondary: {\n          light: '#f1b92e',\n          main: '#725bda',\n          // dark: will be calculated from palette.secondary.main,\n          contrastText: '#ffcc00',\n        },\n        delete: {\n          main: \"#f1b92e\",\n        },\n        // Used by `getContrastText()` to maximize the contrast between\n        // the background and the text.\n        contrastThreshold: 3,\n        // Used by the functions below to shift a color's luminance by approximately\n        // two indexes within its tonal palette.\n        // E.g., shift from Red 500 to Red 300 or Red 700.\n        tonalOffset: 0.2,\n      },\n      \n    });\n\n    return (\n      <ThemeProvider theme={theme}>\n        <Router>\n          <div id=\"app\" style={{fontFamily:\"Roboto\", overflow:\"hidden\"}}>\n            <Route exact path=\"/\" component={Home}/>\n            <Route exact path=\"/pricing\" component={Pricing} />\n            <Route exact path=\"/resources\" component={Resources} />\n            <Route exact path=\"/sign_up\" component={SignUp} />\n            <Route exact path=\"/login\" component={Login} />\n          </div>\n          <div id=\"#app-dashboard\" style={{overflow:\"hidden\"}}>\n            <Route exact path=\"/dashboard\" component={Dashboard}/>\n          </div>\n          \n        </Router>\n      </ThemeProvider>\n    );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport { Provider } from 'react-redux';\nimport store from './store/index.js';\nwindow.store = store \n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store} style={{overflow:\"hidden\"}}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}